/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "node_modules_react-notion-x_build_third-party_equation_js";
exports.ids = ["node_modules_react-notion-x_build_third-party_equation_js"];
exports.modules = {

/***/ "./node_modules/react-notion-x/node_modules/react-lazy-images/dist/react-lazy-images.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/react-notion-x/node_modules/react-lazy-images/dist/react-lazy-images.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("function e(e){return e&&\"object\"==typeof e&&\"default\"in e?e.default:e}var t=e(__webpack_require__(/*! react */ \"react\")),n=e(__webpack_require__(/*! react-intersection-observer */ \"./node_modules/react-notion-x/node_modules/react-lazy-images/node_modules/react-intersection-observer/dist/react-intersection-observer.cjs.js\")),r=__webpack_require__(/*! unionize */ \"unionize\"),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var a,i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}(a=exports.ImageState||(exports.ImageState={})).NotAsked=\"NotAsked\",a.Loading=\"Loading\",a.LoadSuccess=\"LoadSuccess\",a.LoadError=\"LoadError\";var u=r.unionize({NotAsked:{},Buffering:{},Loading:{},LoadSuccess:{},LoadError:r.ofType()}),s=r.unionize({ViewChanged:r.ofType(),BufferingEnded:{},LoadSuccess:{},LoadError:r.ofType()}),d=function(e,t){return function(n){var r=m(g(e,t));r.promise.then(function(e){return n.update(s.LoadSuccess({}))}).catch(function(e){e.isCanceled||n.update(s.LoadError({msg:\"Failed to load\"}))}),n.promiseCache.loading=r}},f=function(e){e.promiseCache.buffering.cancel()},p=function(e){function r(t){var n=e.call(this,t)||this;return n.promiseCache={},n.initialState=u.NotAsked(),n.state=n.initialState,n.update=n.update.bind(n),n}return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(r,e),r.reducer=function(e,t,n){return s.match(e,{ViewChanged:function(e){return!0===e.inView?n.src?u.match(t,{NotAsked:function(){return n.debounceDurationMs?{nextState:u.Buffering(),cmd:(e=n.debounceDurationMs,function(t){var n=m(l(e));n.promise.then(function(){return t.update(s.BufferingEnded())}).catch(function(e){}),t.promiseCache.buffering=n})}:{nextState:u.Loading(),cmd:d(n,n.experimentalDecode)};var e},default:function(){return{nextState:t}}}):{nextState:u.LoadSuccess()}:u.match(t,{Buffering:function(){return{nextState:u.NotAsked(),cmd:f}},default:function(){return{nextState:t}}})},BufferingEnded:function(){return{nextState:u.Loading(),cmd:d(n,n.experimentalDecode)}},LoadSuccess:function(){return{nextState:u.LoadSuccess()}},LoadError:function(e){return{nextState:u.LoadError(e)}}})},r.prototype.update=function(e){var t=this,n=r.reducer(e,this.state,this.props),o=n.nextState,a=n.cmd;this.props.debugActions&&( false&&0,console.log({action:e,prevState:this.state,nextState:o})),this.setState(o,function(){return a&&a(t)})},r.prototype.componentWillUnmount=function(){this.promiseCache.loading&&this.promiseCache.loading.cancel(),this.promiseCache.buffering&&this.promiseCache.buffering.cancel(),this.promiseCache={}},r.prototype.render=function(){var e=this,r=this.props,o=r.children,a=r.loadEagerly,d=r.observerProps,f=c(r,[\"children\",\"loadEagerly\",\"observerProps\",\"experimentalDecode\",\"debounceDurationMs\",\"debugActions\"]);return a?o({imageState:u.LoadSuccess().tag,imageProps:f}):t.createElement(n,i({rootMargin:\"50px 0px\",threshold:.01},d,{onChange:function(t){return e.update(s.ViewChanged({inView:t}))}}),function(t){return o({imageState:\"Buffering\"===e.state.tag?exports.ImageState.Loading:e.state.tag,imageProps:f,ref:t.ref})})},r.displayName=\"LazyImageFull\",r}(t.Component),g=function(e,t){var n=e.src,r=e.srcSet,o=e.alt,a=e.sizes;return void 0===t&&(t=!1),new Promise(function(e,i){var c=new Image;if(r&&(c.srcset=r),o&&(c.alt=o),a&&(c.sizes=a),c.src=n,t&&\"decode\"in c)return c.decode().then(function(t){return e(t)}).catch(function(e){return i(e)});c.onload=e,c.onerror=i})},l=function(e){return new Promise(function(t){return setTimeout(t,e)})},m=function(e){var t=!1;return{promise:new Promise(function(n,r){e.then(function(e){return t?r({isCanceled:!0}):n(e)}),e.catch(function(e){return r(t?{isCanceled:!0}:e)})}),cancel:function(){t=!0}}},h=function(e){var n=e.actual,r=e.placeholder,o=e.loading,a=e.error,u=c(e,[\"actual\",\"placeholder\",\"loading\",\"error\"]);return t.createElement(p,i({},u),function(e){var t=e.imageProps,i=e.ref;switch(e.imageState){case exports.ImageState.NotAsked:return!!r&&r({imageProps:t,ref:i});case exports.ImageState.Loading:return o?o():!!r&&r({imageProps:t,ref:i});case exports.ImageState.LoadSuccess:return n({imageProps:t});case exports.ImageState.LoadError:return a?a():n({imageProps:t})}})};h.displayName=\"LazyImage\",exports.LazyImage=h,exports.LazyImageFull=p;\n//# sourceMappingURL=react-lazy-images.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3Qtbm90aW9uLXgvbm9kZV9tb2R1bGVzL3JlYWN0LWxhenktaW1hZ2VzL2Rpc3QvcmVhY3QtbGF6eS1pbWFnZXMuanMuanMiLCJtYXBwaW5ncyI6IkFBQUEsY0FBYyx3REFBd0QsUUFBUSxtQkFBTyxDQUFDLG9CQUFPLE9BQU8sbUJBQU8sQ0FBQyxrTEFBNkIsS0FBSyxtQkFBTyxDQUFDLDBCQUFVLGtCQUFrQixpQ0FBaUMsYUFBYSxnQ0FBZ0MsY0FBYyxnQkFBZ0IsZ0RBQWdELFFBQVEsbUJBQW1CLG9DQUFvQyxpQ0FBaUMsSUFBSSx1RkFBdUYsU0FBUyx5QkFBeUIsZ0JBQWdCLFNBQVMsc0ZBQXNGLDZEQUE2RCxRQUFRLHNDQUFzQyxXQUFXLHlDQUF5QyxTQUFTLHdCQUF3QixrQkFBa0IsR0FBRywrRkFBK0Ysa0JBQWtCLFdBQVcsYUFBYSxXQUFXLGVBQWUsc0JBQXNCLGdCQUFnQix3Q0FBd0MsZUFBZSxzQkFBc0Isa0JBQWtCLG1CQUFtQixnQkFBZ0IsMkJBQTJCLGdDQUFnQyxHQUFHLG9CQUFvQixvQ0FBb0MscUJBQXFCLEdBQUcsNEJBQTRCLGVBQWUsa0NBQWtDLGVBQWUsY0FBYywyQkFBMkIsd0JBQXdCLGdGQUFnRixxQkFBcUIsYUFBYSxtQkFBbUIsNkVBQTZFLGdDQUFnQyxrQkFBa0Isd0JBQXdCLHFDQUFxQyxvQkFBb0IsNkJBQTZCLGdFQUFnRSxjQUFjLDBCQUEwQixvQ0FBb0MscUJBQXFCLDZCQUE2QixFQUFFLEVBQUUscURBQXFELE1BQU0sb0JBQW9CLE9BQU8sY0FBYyxHQUFHLDBCQUEwQixZQUFZLHFCQUFxQixPQUFPLDhCQUE4QixvQkFBb0IsT0FBTyxjQUFjLEVBQUUsMkJBQTJCLE9BQU8scURBQXFELHdCQUF3QixPQUFPLDJCQUEyQix1QkFBdUIsT0FBTywyQkFBMkIsRUFBRSxnQ0FBZ0Msc0VBQXNFLDBCQUEwQixNQUFtQyxFQUFFLENBQTJILGNBQWMsMENBQTBDLDhCQUE4QixlQUFlLEVBQUUsNkNBQTZDLHFKQUFxSiwrQkFBK0Isa0xBQWtMLFlBQVksNENBQTRDLHVCQUF1QixvQ0FBb0MsSUFBSSxxQkFBcUIsK0JBQStCLFNBQVMsSUFBSSxjQUFjLFVBQVUsbUdBQW1HLEVBQUUsRUFBRSxpQ0FBaUMsOEJBQThCLHlDQUF5QyxvREFBb0QsZ0JBQWdCLDBHQUEwRyxZQUFZLG9CQUFvQixZQUFZLEVBQUUsdUJBQXVCLEVBQUUsZUFBZSwrQkFBK0IsdUJBQXVCLEVBQUUsZUFBZSxTQUFTLE9BQU8sa0NBQWtDLG1CQUFtQixZQUFZLGNBQWMsT0FBTyxzQkFBc0IsWUFBWSxjQUFjLElBQUksRUFBRSxvQkFBb0IsT0FBTyxlQUFlLHVHQUF1Ryw2QkFBNkIsZ0JBQWdCLDJCQUEyQixxQkFBcUIsK0NBQStDLG1CQUFtQixFQUFFLHFEQUFxRCxtQkFBbUIsRUFBRSw4Q0FBOEMsYUFBYSxFQUFFLGtEQUFrRCxhQUFhLEdBQUcsR0FBRywwQkFBMEIsaUJBQWlCLEdBQUcscUJBQXFCO0FBQ3hySiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy1ub3Rpb24tc3RhcnRlci1raXQvLi9ub2RlX21vZHVsZXMvcmVhY3Qtbm90aW9uLXgvbm9kZV9tb2R1bGVzL3JlYWN0LWxhenktaW1hZ2VzL2Rpc3QvcmVhY3QtbGF6eS1pbWFnZXMuanM/ODdhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBlKGUpe3JldHVybiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJkZWZhdWx0XCJpbiBlP2UuZGVmYXVsdDplfXZhciB0PWUocmVxdWlyZShcInJlYWN0XCIpKSxuPWUocmVxdWlyZShcInJlYWN0LWludGVyc2VjdGlvbi1vYnNlcnZlclwiKSkscj1yZXF1aXJlKFwidW5pb25pemVcIiksbz1mdW5jdGlvbihlLHQpe3JldHVybihvPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX07dmFyIGEsaT1mdW5jdGlvbigpe3JldHVybihpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPTEscj1hcmd1bWVudHMubGVuZ3RoO248cjtuKyspZm9yKHZhciBvIGluIHQ9YXJndW1lbnRzW25dKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYoZVtvXT10W29dKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiZ0LmluZGV4T2Yocik8MCYmKG5bcl09ZVtyXSk7aWYobnVsbCE9ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89MDtmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO288ci5sZW5ndGg7bysrKXQuaW5kZXhPZihyW29dKTwwJiYobltyW29dXT1lW3Jbb11dKX1yZXR1cm4gbn0oYT1leHBvcnRzLkltYWdlU3RhdGV8fChleHBvcnRzLkltYWdlU3RhdGU9e30pKS5Ob3RBc2tlZD1cIk5vdEFza2VkXCIsYS5Mb2FkaW5nPVwiTG9hZGluZ1wiLGEuTG9hZFN1Y2Nlc3M9XCJMb2FkU3VjY2Vzc1wiLGEuTG9hZEVycm9yPVwiTG9hZEVycm9yXCI7dmFyIHU9ci51bmlvbml6ZSh7Tm90QXNrZWQ6e30sQnVmZmVyaW5nOnt9LExvYWRpbmc6e30sTG9hZFN1Y2Nlc3M6e30sTG9hZEVycm9yOnIub2ZUeXBlKCl9KSxzPXIudW5pb25pemUoe1ZpZXdDaGFuZ2VkOnIub2ZUeXBlKCksQnVmZmVyaW5nRW5kZWQ6e30sTG9hZFN1Y2Nlc3M6e30sTG9hZEVycm9yOnIub2ZUeXBlKCl9KSxkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByPW0oZyhlLHQpKTtyLnByb21pc2UudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbi51cGRhdGUocy5Mb2FkU3VjY2Vzcyh7fSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7ZS5pc0NhbmNlbGVkfHxuLnVwZGF0ZShzLkxvYWRFcnJvcih7bXNnOlwiRmFpbGVkIHRvIGxvYWRcIn0pKX0pLG4ucHJvbWlzZUNhY2hlLmxvYWRpbmc9cn19LGY9ZnVuY3Rpb24oZSl7ZS5wcm9taXNlQ2FjaGUuYnVmZmVyaW5nLmNhbmNlbCgpfSxwPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG4ucHJvbWlzZUNhY2hlPXt9LG4uaW5pdGlhbFN0YXRlPXUuTm90QXNrZWQoKSxuLnN0YXRlPW4uaW5pdGlhbFN0YXRlLG4udXBkYXRlPW4udXBkYXRlLmJpbmQobiksbn1yZXR1cm4gZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfW8oZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KHIsZSksci5yZWR1Y2VyPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcy5tYXRjaChlLHtWaWV3Q2hhbmdlZDpmdW5jdGlvbihlKXtyZXR1cm4hMD09PWUuaW5WaWV3P24uc3JjP3UubWF0Y2godCx7Tm90QXNrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5kZWJvdW5jZUR1cmF0aW9uTXM/e25leHRTdGF0ZTp1LkJ1ZmZlcmluZygpLGNtZDooZT1uLmRlYm91bmNlRHVyYXRpb25NcyxmdW5jdGlvbih0KXt2YXIgbj1tKGwoZSkpO24ucHJvbWlzZS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQudXBkYXRlKHMuQnVmZmVyaW5nRW5kZWQoKSl9KS5jYXRjaChmdW5jdGlvbihlKXt9KSx0LnByb21pc2VDYWNoZS5idWZmZXJpbmc9bn0pfTp7bmV4dFN0YXRlOnUuTG9hZGluZygpLGNtZDpkKG4sbi5leHBlcmltZW50YWxEZWNvZGUpfTt2YXIgZX0sZGVmYXVsdDpmdW5jdGlvbigpe3JldHVybntuZXh0U3RhdGU6dH19fSk6e25leHRTdGF0ZTp1LkxvYWRTdWNjZXNzKCl9OnUubWF0Y2godCx7QnVmZmVyaW5nOmZ1bmN0aW9uKCl7cmV0dXJue25leHRTdGF0ZTp1Lk5vdEFza2VkKCksY21kOmZ9fSxkZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJue25leHRTdGF0ZTp0fX19KX0sQnVmZmVyaW5nRW5kZWQ6ZnVuY3Rpb24oKXtyZXR1cm57bmV4dFN0YXRlOnUuTG9hZGluZygpLGNtZDpkKG4sbi5leHBlcmltZW50YWxEZWNvZGUpfX0sTG9hZFN1Y2Nlc3M6ZnVuY3Rpb24oKXtyZXR1cm57bmV4dFN0YXRlOnUuTG9hZFN1Y2Nlc3MoKX19LExvYWRFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm57bmV4dFN0YXRlOnUuTG9hZEVycm9yKGUpfX19KX0sci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1yLnJlZHVjZXIoZSx0aGlzLnN0YXRlLHRoaXMucHJvcHMpLG89bi5uZXh0U3RhdGUsYT1uLmNtZDt0aGlzLnByb3BzLmRlYnVnQWN0aW9ucyYmKFwicHJvZHVjdGlvblwiPT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmNvbnNvbGUud2FybignWW91IGFyZSBydW5uaW5nIExhenlJbWFnZSB3aXRoIGRlYnVnQWN0aW9ucz1cInRydWVcIiBpbiBwcm9kdWN0aW9uLiBUaGlzIG1pZ2h0IGhhdmUgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLicpLGNvbnNvbGUubG9nKHthY3Rpb246ZSxwcmV2U3RhdGU6dGhpcy5zdGF0ZSxuZXh0U3RhdGU6b30pKSx0aGlzLnNldFN0YXRlKG8sZnVuY3Rpb24oKXtyZXR1cm4gYSYmYSh0KX0pfSxyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe3RoaXMucHJvbWlzZUNhY2hlLmxvYWRpbmcmJnRoaXMucHJvbWlzZUNhY2hlLmxvYWRpbmcuY2FuY2VsKCksdGhpcy5wcm9taXNlQ2FjaGUuYnVmZmVyaW5nJiZ0aGlzLnByb21pc2VDYWNoZS5idWZmZXJpbmcuY2FuY2VsKCksdGhpcy5wcm9taXNlQ2FjaGU9e319LHIucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMscj10aGlzLnByb3BzLG89ci5jaGlsZHJlbixhPXIubG9hZEVhZ2VybHksZD1yLm9ic2VydmVyUHJvcHMsZj1jKHIsW1wiY2hpbGRyZW5cIixcImxvYWRFYWdlcmx5XCIsXCJvYnNlcnZlclByb3BzXCIsXCJleHBlcmltZW50YWxEZWNvZGVcIixcImRlYm91bmNlRHVyYXRpb25Nc1wiLFwiZGVidWdBY3Rpb25zXCJdKTtyZXR1cm4gYT9vKHtpbWFnZVN0YXRlOnUuTG9hZFN1Y2Nlc3MoKS50YWcsaW1hZ2VQcm9wczpmfSk6dC5jcmVhdGVFbGVtZW50KG4saSh7cm9vdE1hcmdpbjpcIjUwcHggMHB4XCIsdGhyZXNob2xkOi4wMX0sZCx7b25DaGFuZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIGUudXBkYXRlKHMuVmlld0NoYW5nZWQoe2luVmlldzp0fSkpfX0pLGZ1bmN0aW9uKHQpe3JldHVybiBvKHtpbWFnZVN0YXRlOlwiQnVmZmVyaW5nXCI9PT1lLnN0YXRlLnRhZz9leHBvcnRzLkltYWdlU3RhdGUuTG9hZGluZzplLnN0YXRlLnRhZyxpbWFnZVByb3BzOmYscmVmOnQucmVmfSl9KX0sci5kaXNwbGF5TmFtZT1cIkxhenlJbWFnZUZ1bGxcIixyfSh0LkNvbXBvbmVudCksZz1mdW5jdGlvbihlLHQpe3ZhciBuPWUuc3JjLHI9ZS5zcmNTZXQsbz1lLmFsdCxhPWUuc2l6ZXM7cmV0dXJuIHZvaWQgMD09PXQmJih0PSExKSxuZXcgUHJvbWlzZShmdW5jdGlvbihlLGkpe3ZhciBjPW5ldyBJbWFnZTtpZihyJiYoYy5zcmNzZXQ9ciksbyYmKGMuYWx0PW8pLGEmJihjLnNpemVzPWEpLGMuc3JjPW4sdCYmXCJkZWNvZGVcImluIGMpcmV0dXJuIGMuZGVjb2RlKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfSk7Yy5vbmxvYWQ9ZSxjLm9uZXJyb3I9aX0pfSxsPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0KXtyZXR1cm4gc2V0VGltZW91dCh0LGUpfSl9LG09ZnVuY3Rpb24oZSl7dmFyIHQ9ITE7cmV0dXJue3Byb21pc2U6bmV3IFByb21pc2UoZnVuY3Rpb24obixyKXtlLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQ/cih7aXNDYW5jZWxlZDohMH0pOm4oZSl9KSxlLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiByKHQ/e2lzQ2FuY2VsZWQ6ITB9OmUpfSl9KSxjYW5jZWw6ZnVuY3Rpb24oKXt0PSEwfX19LGg9ZnVuY3Rpb24oZSl7dmFyIG49ZS5hY3R1YWwscj1lLnBsYWNlaG9sZGVyLG89ZS5sb2FkaW5nLGE9ZS5lcnJvcix1PWMoZSxbXCJhY3R1YWxcIixcInBsYWNlaG9sZGVyXCIsXCJsb2FkaW5nXCIsXCJlcnJvclwiXSk7cmV0dXJuIHQuY3JlYXRlRWxlbWVudChwLGkoe30sdSksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbWFnZVByb3BzLGk9ZS5yZWY7c3dpdGNoKGUuaW1hZ2VTdGF0ZSl7Y2FzZSBleHBvcnRzLkltYWdlU3RhdGUuTm90QXNrZWQ6cmV0dXJuISFyJiZyKHtpbWFnZVByb3BzOnQscmVmOml9KTtjYXNlIGV4cG9ydHMuSW1hZ2VTdGF0ZS5Mb2FkaW5nOnJldHVybiBvP28oKTohIXImJnIoe2ltYWdlUHJvcHM6dCxyZWY6aX0pO2Nhc2UgZXhwb3J0cy5JbWFnZVN0YXRlLkxvYWRTdWNjZXNzOnJldHVybiBuKHtpbWFnZVByb3BzOnR9KTtjYXNlIGV4cG9ydHMuSW1hZ2VTdGF0ZS5Mb2FkRXJyb3I6cmV0dXJuIGE/YSgpOm4oe2ltYWdlUHJvcHM6dH0pfX0pfTtoLmRpc3BsYXlOYW1lPVwiTGF6eUltYWdlXCIsZXhwb3J0cy5MYXp5SW1hZ2U9aCxleHBvcnRzLkxhenlJbWFnZUZ1bGw9cDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LWxhenktaW1hZ2VzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-notion-x/node_modules/react-lazy-images/dist/react-lazy-images.js\n");

/***/ }),

/***/ "./node_modules/react-notion-x/node_modules/react-lazy-images/node_modules/react-intersection-observer/dist/react-intersection-observer.cjs.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/react-notion-x/node_modules/react-lazy-images/node_modules/react-intersection-observer/dist/react-intersection-observer.cjs.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar _extends = _interopDefault(__webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/extends.js\"));\nvar _objectWithoutPropertiesLoose = _interopDefault(__webpack_require__(/*! @babel/runtime/helpers/objectWithoutPropertiesLoose */ \"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js\"));\nvar _inheritsLoose = _interopDefault(__webpack_require__(/*! @babel/runtime/helpers/inheritsLoose */ \"./node_modules/@babel/runtime/helpers/inheritsLoose.js\"));\nvar _assertThisInitialized = _interopDefault(__webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\"));\nvar _defineProperty = _interopDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\"));\nvar React = __webpack_require__(/*! react */ \"react\");\nvar invariant = _interopDefault(__webpack_require__(/*! invariant */ \"invariant\"));\n\nvar INSTANCE_MAP = new Map();\nvar OBSERVER_MAP = new Map();\n/**\n * Monitor element, and trigger callback when element becomes visible\n * @param element {HTMLElement}\n * @param callback {Function} Called with inView\n * @param options {Object} InterSection observer options\n * @param options.threshold {Number} Number between 0 and 1, indicating how much of the element should be visible before triggering\n * @param options.root {HTMLElement} It should have a unique id or data-intersection-id in order for the Observer to reused.\n * @param options.rootMargin {String} The CSS margin to apply to the root element.\n * @param rootId {String} Unique identifier for the root element, to enable reusing the IntersectionObserver\n */\n\nfunction observe(element, callback, options, rootId) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  // Validate that the element is not being used in another <Observer />\n  invariant(!INSTANCE_MAP.has(element), \"react-intersection-observer: Trying to observe %s, but it's already being observed by another instance.\\nMake sure the `ref` is only used by a single <Observer /> instance.\\n\\n%s\", element); // IntersectionObserver needs a threshold to trigger, so set it to 0 if it's not defined.\n  // Modify the options object, since it's used in the onChange handler.\n\n  if (!options.threshold) options.threshold = 0;\n  var _options = options,\n      root = _options.root,\n      rootMargin = _options.rootMargin,\n      threshold = _options.threshold;\n  if (!element || !callback) return;\n  var observerId = rootMargin ? threshold.toString() + \"_\" + rootMargin : threshold.toString();\n\n  if (root) {\n    observerId = rootId ? rootId + \"_\" + observerId : null;\n  }\n\n  var observerInstance = observerId ? OBSERVER_MAP.get(observerId) : null;\n\n  if (!observerInstance) {\n    observerInstance = new IntersectionObserver(onChange, options);\n    if (observerId) OBSERVER_MAP.set(observerId, observerInstance);\n  }\n\n  var instance = {\n    callback: callback,\n    visible: false,\n    options: options,\n    observerId: observerId,\n    observer: !observerId ? observerInstance : undefined\n  };\n  INSTANCE_MAP.set(element, instance);\n  observerInstance.observe(element);\n  return instance;\n}\n/**\n * Stop observing an element. If an element is removed from the DOM or otherwise destroyed,\n * make sure to call this method.\n * @param element {HTMLElement}\n */\n\nfunction unobserve(element) {\n  if (!element) return;\n  var instance = INSTANCE_MAP.get(element);\n\n  if (instance) {\n    var observerId = instance.observerId,\n        observer = instance.observer;\n    var observerInstance = observerId ? OBSERVER_MAP.get(observerId) : observer;\n\n    if (observerInstance) {\n      observerInstance.unobserve(element);\n    } // Check if we are still observing any elements with the same threshold.\n\n\n    var itemsLeft = false;\n\n    if (observerId) {\n      INSTANCE_MAP.forEach(function (item, key) {\n        if (item && item.observerId === observerId && key !== element) {\n          itemsLeft = true;\n        }\n      });\n    }\n\n    if (observerInstance && !itemsLeft) {\n      // No more elements to observe for threshold, disconnect observer\n      observerInstance.disconnect();\n      OBSERVER_MAP.delete(observerId);\n    } // Remove reference to element\n\n\n    INSTANCE_MAP.delete(element);\n  }\n}\n\nfunction onChange(changes) {\n  changes.forEach(function (intersection) {\n    var isIntersecting = intersection.isIntersecting,\n        intersectionRatio = intersection.intersectionRatio,\n        target = intersection.target;\n    var instance = INSTANCE_MAP.get(target); // Firefox can report a negative intersectionRatio when scrolling.\n\n    if (instance && intersectionRatio >= 0) {\n      var options = instance.options;\n      var _inView = false;\n\n      if (Array.isArray(options.threshold)) {\n        // If threshold is an array, check if any of them intersects. This just triggers the onChange event multiple times.\n        _inView = options.threshold.some(function (threshold) {\n          return instance.visible ? intersectionRatio > threshold : intersectionRatio >= threshold;\n        });\n      } else if (options.threshold !== undefined) {\n        // Trigger on 0 ratio only when not visible. This is fallback for browsers without isIntersecting support\n        _inView = instance.visible ? intersectionRatio > options.threshold : intersectionRatio >= options.threshold;\n      }\n\n      if (isIntersecting !== undefined) {\n        // If isIntersecting is defined, ensure that the element is actually intersecting.\n        // Otherwise it reports a threshold of 0\n        _inView = _inView && isIntersecting;\n      }\n\n      instance.visible = _inView;\n      instance.callback(_inView, intersectionRatio);\n    }\n  });\n}\n\nfunction useInView(ref, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  // $FlowFixMe - useState is not exposed in React Flow lib yet\n  var _React$useState = React.useState(false),\n      isInView = _React$useState[0],\n      setInView = _React$useState[1]; // $FlowFixMe - useEffect is not exposed in React Flow lib yet\n\n\n  React.useEffect(function () {\n    if (ref.current) {\n      observe(ref.current, function (inView) {\n        setInView(inView);\n\n        if (inView && options.triggerOnce) {\n          // If it should only trigger once, unobserve the element after it's inView\n          unobserve(ref.current);\n        }\n      }, {\n        threshold: options.threshold,\n        root: options.root,\n        rootMargin: options.rootMargin\n      }, options.rootId);\n    }\n\n    return function () {\n      unobserve(ref.current);\n    };\n  }, [options.threshold, options.root, options.rootMargin, options.rootId]);\n  return isInView;\n}\n\n/**\n * Monitors scroll, and triggers the children function with updated props\n *\n <InView>\n {({inView, ref}) => (\n   <h1 ref={ref}>{`${inView}`}</h1>\n )}\n </InView>\n */\nvar InView =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(InView, _React$Component);\n\n  function InView() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      inView: false,\n      intersectionRatio: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"node\", null);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleNode\", function (node) {\n      if (_this.node) unobserve(_this.node);\n      _this.node = node;\n\n      _this.observeNode();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleChange\", function (inView, intersectionRatio) {\n      _this.setState({\n        inView: inView,\n        intersectionRatio: intersectionRatio\n      });\n\n      if (_this.props.onChange) {\n        _this.props.onChange(inView, intersectionRatio);\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = InView.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (true) {\n      if (this.props.hasOwnProperty('render')) {\n        console.warn(\"react-intersection-observer: \\\"render\\\" is deprecated, and should be replaced with \\\"children\\\"\", this.node);\n      }\n\n      invariant(this.node, \"react-intersection-observer: No DOM node found. Make sure you forward \\\"ref\\\" to the root DOM element you want to observe.\");\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // If a IntersectionObserver option changed, reinit the observer\n    if (prevProps.rootMargin !== this.props.rootMargin || prevProps.root !== this.props.root || prevProps.threshold !== this.props.threshold) {\n      unobserve(this.node);\n      this.observeNode();\n    }\n\n    if (prevState.inView !== this.state.inView) {\n      if (this.state.inView && this.props.triggerOnce) {\n        unobserve(this.node);\n        this.node = null;\n      }\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.node) {\n      unobserve(this.node);\n      this.node = null;\n    }\n  };\n\n  _proto.observeNode = function observeNode() {\n    if (!this.node) return;\n    var _this$props = this.props,\n        threshold = _this$props.threshold,\n        root = _this$props.root,\n        rootMargin = _this$props.rootMargin,\n        rootId = _this$props.rootId;\n    observe(this.node, this.handleChange, {\n      threshold: threshold,\n      root: root,\n      rootMargin: rootMargin\n    }, rootId);\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        render = _this$props2.render,\n        tag = _this$props2.tag,\n        triggerOnce = _this$props2.triggerOnce,\n        threshold = _this$props2.threshold,\n        root = _this$props2.root,\n        rootId = _this$props2.rootId,\n        rootMargin = _this$props2.rootMargin,\n        props = _objectWithoutPropertiesLoose(_this$props2, [\"children\", \"render\", \"tag\", \"triggerOnce\", \"threshold\", \"root\", \"rootId\", \"rootMargin\"]);\n\n    var _this$state = this.state,\n        inView = _this$state.inView,\n        intersectionRatio = _this$state.intersectionRatio;\n    var renderMethod = children || render;\n\n    if (typeof renderMethod === 'function') {\n      return renderMethod({\n        inView: inView,\n        intersectionRatio: intersectionRatio,\n        ref: this.handleNode\n      });\n    }\n\n    return React.createElement(tag || 'div', _extends({\n      ref: this.handleNode\n    }, props), children);\n  };\n\n  return InView;\n}(React.Component);\n\n_defineProperty(InView, \"defaultProps\", {\n  threshold: 0,\n  triggerOnce: false\n});\n\nexports.InView = InView;\nexports[\"default\"] = InView;\nexports.useInView = useInView;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3Qtbm90aW9uLXgvbm9kZV9tb2R1bGVzL3JlYWN0LWxhenktaW1hZ2VzL25vZGVfbW9kdWxlcy9yZWFjdC1pbnRlcnNlY3Rpb24tb2JzZXJ2ZXIvZGlzdC9yZWFjdC1pbnRlcnNlY3Rpb24tb2JzZXJ2ZXIuY2pzLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QyxFQUFFLGFBQWEsRUFBQzs7QUFFN0QsZ0NBQWdDOztBQUVoQywrQkFBK0IsbUJBQU8sQ0FBQyx3RkFBZ0M7QUFDdkUsb0RBQW9ELG1CQUFPLENBQUMsa0lBQXFEO0FBQ2pILHFDQUFxQyxtQkFBTyxDQUFDLG9HQUFzQztBQUNuRiw2Q0FBNkMsbUJBQU8sQ0FBQyxvSEFBOEM7QUFDbkcsc0NBQXNDLG1CQUFPLENBQUMsc0dBQXVDO0FBQ3JGLFlBQVksbUJBQU8sQ0FBQyxvQkFBTztBQUMzQixnQ0FBZ0MsbUJBQU8sQ0FBQyw0QkFBVzs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsb0JBQW9CLFVBQVU7QUFDOUIsbUJBQW1CLFFBQVE7QUFDM0IsNkJBQTZCLFFBQVE7QUFDckMsd0JBQXdCLGFBQWE7QUFDckMsOEJBQThCLFFBQVE7QUFDdEMsa0JBQWtCLFFBQVE7QUFDMUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3T0FBd087QUFDeE87O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7O0FBRTdDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQzs7O0FBR3RDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsRUFBRSxZQUFZO0FBQ2hCLFlBQVksSUFBSSxFQUFFLEdBQUcsT0FBTyxFQUFFO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsd0VBQXdFLGFBQWE7QUFDckY7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFFBQVEsSUFBcUM7QUFDN0M7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsY0FBYztBQUNkLGtCQUFlO0FBQ2YsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLW5vdGlvbi1zdGFydGVyLWtpdC8uL25vZGVfbW9kdWxlcy9yZWFjdC1ub3Rpb24teC9ub2RlX21vZHVsZXMvcmVhY3QtbGF6eS1pbWFnZXMvbm9kZV9tb2R1bGVzL3JlYWN0LWludGVyc2VjdGlvbi1vYnNlcnZlci9kaXN0L3JlYWN0LWludGVyc2VjdGlvbi1vYnNlcnZlci5janMuanM/NDM1NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wRGVmYXVsdCAoZXgpIHsgcmV0dXJuIChleCAmJiAodHlwZW9mIGV4ID09PSAnb2JqZWN0JykgJiYgJ2RlZmF1bHQnIGluIGV4KSA/IGV4WydkZWZhdWx0J10gOiBleDsgfVxuXG52YXIgX2V4dGVuZHMgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzJykpO1xudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlID0gX2ludGVyb3BEZWZhdWx0KHJlcXVpcmUoJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZScpKTtcbnZhciBfaW5oZXJpdHNMb29zZSA9IF9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKCdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzTG9vc2UnKSk7XG52YXIgX2Fzc2VydFRoaXNJbml0aWFsaXplZCA9IF9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKCdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZCcpKTtcbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpKTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgaW52YXJpYW50ID0gX2ludGVyb3BEZWZhdWx0KHJlcXVpcmUoJ2ludmFyaWFudCcpKTtcblxudmFyIElOU1RBTkNFX01BUCA9IG5ldyBNYXAoKTtcbnZhciBPQlNFUlZFUl9NQVAgPSBuZXcgTWFwKCk7XG4vKipcbiAqIE1vbml0b3IgZWxlbWVudCwgYW5kIHRyaWdnZXIgY2FsbGJhY2sgd2hlbiBlbGVtZW50IGJlY29tZXMgdmlzaWJsZVxuICogQHBhcmFtIGVsZW1lbnQge0hUTUxFbGVtZW50fVxuICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn0gQ2FsbGVkIHdpdGggaW5WaWV3XG4gKiBAcGFyYW0gb3B0aW9ucyB7T2JqZWN0fSBJbnRlclNlY3Rpb24gb2JzZXJ2ZXIgb3B0aW9uc1xuICogQHBhcmFtIG9wdGlvbnMudGhyZXNob2xkIHtOdW1iZXJ9IE51bWJlciBiZXR3ZWVuIDAgYW5kIDEsIGluZGljYXRpbmcgaG93IG11Y2ggb2YgdGhlIGVsZW1lbnQgc2hvdWxkIGJlIHZpc2libGUgYmVmb3JlIHRyaWdnZXJpbmdcbiAqIEBwYXJhbSBvcHRpb25zLnJvb3Qge0hUTUxFbGVtZW50fSBJdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBpZCBvciBkYXRhLWludGVyc2VjdGlvbi1pZCBpbiBvcmRlciBmb3IgdGhlIE9ic2VydmVyIHRvIHJldXNlZC5cbiAqIEBwYXJhbSBvcHRpb25zLnJvb3RNYXJnaW4ge1N0cmluZ30gVGhlIENTUyBtYXJnaW4gdG8gYXBwbHkgdG8gdGhlIHJvb3QgZWxlbWVudC5cbiAqIEBwYXJhbSByb290SWQge1N0cmluZ30gVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSByb290IGVsZW1lbnQsIHRvIGVuYWJsZSByZXVzaW5nIHRoZSBJbnRlcnNlY3Rpb25PYnNlcnZlclxuICovXG5cbmZ1bmN0aW9uIG9ic2VydmUoZWxlbWVudCwgY2FsbGJhY2ssIG9wdGlvbnMsIHJvb3RJZCkge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgLy8gVmFsaWRhdGUgdGhhdCB0aGUgZWxlbWVudCBpcyBub3QgYmVpbmcgdXNlZCBpbiBhbm90aGVyIDxPYnNlcnZlciAvPlxuICBpbnZhcmlhbnQoIUlOU1RBTkNFX01BUC5oYXMoZWxlbWVudCksIFwicmVhY3QtaW50ZXJzZWN0aW9uLW9ic2VydmVyOiBUcnlpbmcgdG8gb2JzZXJ2ZSAlcywgYnV0IGl0J3MgYWxyZWFkeSBiZWluZyBvYnNlcnZlZCBieSBhbm90aGVyIGluc3RhbmNlLlxcbk1ha2Ugc3VyZSB0aGUgYHJlZmAgaXMgb25seSB1c2VkIGJ5IGEgc2luZ2xlIDxPYnNlcnZlciAvPiBpbnN0YW5jZS5cXG5cXG4lc1wiLCBlbGVtZW50KTsgLy8gSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgbmVlZHMgYSB0aHJlc2hvbGQgdG8gdHJpZ2dlciwgc28gc2V0IGl0IHRvIDAgaWYgaXQncyBub3QgZGVmaW5lZC5cbiAgLy8gTW9kaWZ5IHRoZSBvcHRpb25zIG9iamVjdCwgc2luY2UgaXQncyB1c2VkIGluIHRoZSBvbkNoYW5nZSBoYW5kbGVyLlxuXG4gIGlmICghb3B0aW9ucy50aHJlc2hvbGQpIG9wdGlvbnMudGhyZXNob2xkID0gMDtcbiAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgIHJvb3QgPSBfb3B0aW9ucy5yb290LFxuICAgICAgcm9vdE1hcmdpbiA9IF9vcHRpb25zLnJvb3RNYXJnaW4sXG4gICAgICB0aHJlc2hvbGQgPSBfb3B0aW9ucy50aHJlc2hvbGQ7XG4gIGlmICghZWxlbWVudCB8fCAhY2FsbGJhY2spIHJldHVybjtcbiAgdmFyIG9ic2VydmVySWQgPSByb290TWFyZ2luID8gdGhyZXNob2xkLnRvU3RyaW5nKCkgKyBcIl9cIiArIHJvb3RNYXJnaW4gOiB0aHJlc2hvbGQudG9TdHJpbmcoKTtcblxuICBpZiAocm9vdCkge1xuICAgIG9ic2VydmVySWQgPSByb290SWQgPyByb290SWQgKyBcIl9cIiArIG9ic2VydmVySWQgOiBudWxsO1xuICB9XG5cbiAgdmFyIG9ic2VydmVySW5zdGFuY2UgPSBvYnNlcnZlcklkID8gT0JTRVJWRVJfTUFQLmdldChvYnNlcnZlcklkKSA6IG51bGw7XG5cbiAgaWYgKCFvYnNlcnZlckluc3RhbmNlKSB7XG4gICAgb2JzZXJ2ZXJJbnN0YW5jZSA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihvbkNoYW5nZSwgb3B0aW9ucyk7XG4gICAgaWYgKG9ic2VydmVySWQpIE9CU0VSVkVSX01BUC5zZXQob2JzZXJ2ZXJJZCwgb2JzZXJ2ZXJJbnN0YW5jZSk7XG4gIH1cblxuICB2YXIgaW5zdGFuY2UgPSB7XG4gICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgIHZpc2libGU6IGZhbHNlLFxuICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgb2JzZXJ2ZXJJZDogb2JzZXJ2ZXJJZCxcbiAgICBvYnNlcnZlcjogIW9ic2VydmVySWQgPyBvYnNlcnZlckluc3RhbmNlIDogdW5kZWZpbmVkXG4gIH07XG4gIElOU1RBTkNFX01BUC5zZXQoZWxlbWVudCwgaW5zdGFuY2UpO1xuICBvYnNlcnZlckluc3RhbmNlLm9ic2VydmUoZWxlbWVudCk7XG4gIHJldHVybiBpbnN0YW5jZTtcbn1cbi8qKlxuICogU3RvcCBvYnNlcnZpbmcgYW4gZWxlbWVudC4gSWYgYW4gZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTSBvciBvdGhlcndpc2UgZGVzdHJveWVkLFxuICogbWFrZSBzdXJlIHRvIGNhbGwgdGhpcyBtZXRob2QuXG4gKiBAcGFyYW0gZWxlbWVudCB7SFRNTEVsZW1lbnR9XG4gKi9cblxuZnVuY3Rpb24gdW5vYnNlcnZlKGVsZW1lbnQpIHtcbiAgaWYgKCFlbGVtZW50KSByZXR1cm47XG4gIHZhciBpbnN0YW5jZSA9IElOU1RBTkNFX01BUC5nZXQoZWxlbWVudCk7XG5cbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgdmFyIG9ic2VydmVySWQgPSBpbnN0YW5jZS5vYnNlcnZlcklkLFxuICAgICAgICBvYnNlcnZlciA9IGluc3RhbmNlLm9ic2VydmVyO1xuICAgIHZhciBvYnNlcnZlckluc3RhbmNlID0gb2JzZXJ2ZXJJZCA/IE9CU0VSVkVSX01BUC5nZXQob2JzZXJ2ZXJJZCkgOiBvYnNlcnZlcjtcblxuICAgIGlmIChvYnNlcnZlckluc3RhbmNlKSB7XG4gICAgICBvYnNlcnZlckluc3RhbmNlLnVub2JzZXJ2ZShlbGVtZW50KTtcbiAgICB9IC8vIENoZWNrIGlmIHdlIGFyZSBzdGlsbCBvYnNlcnZpbmcgYW55IGVsZW1lbnRzIHdpdGggdGhlIHNhbWUgdGhyZXNob2xkLlxuXG5cbiAgICB2YXIgaXRlbXNMZWZ0ID0gZmFsc2U7XG5cbiAgICBpZiAob2JzZXJ2ZXJJZCkge1xuICAgICAgSU5TVEFOQ0VfTUFQLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGtleSkge1xuICAgICAgICBpZiAoaXRlbSAmJiBpdGVtLm9ic2VydmVySWQgPT09IG9ic2VydmVySWQgJiYga2V5ICE9PSBlbGVtZW50KSB7XG4gICAgICAgICAgaXRlbXNMZWZ0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG9ic2VydmVySW5zdGFuY2UgJiYgIWl0ZW1zTGVmdCkge1xuICAgICAgLy8gTm8gbW9yZSBlbGVtZW50cyB0byBvYnNlcnZlIGZvciB0aHJlc2hvbGQsIGRpc2Nvbm5lY3Qgb2JzZXJ2ZXJcbiAgICAgIG9ic2VydmVySW5zdGFuY2UuZGlzY29ubmVjdCgpO1xuICAgICAgT0JTRVJWRVJfTUFQLmRlbGV0ZShvYnNlcnZlcklkKTtcbiAgICB9IC8vIFJlbW92ZSByZWZlcmVuY2UgdG8gZWxlbWVudFxuXG5cbiAgICBJTlNUQU5DRV9NQVAuZGVsZXRlKGVsZW1lbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uQ2hhbmdlKGNoYW5nZXMpIHtcbiAgY2hhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbnRlcnNlY3Rpb24pIHtcbiAgICB2YXIgaXNJbnRlcnNlY3RpbmcgPSBpbnRlcnNlY3Rpb24uaXNJbnRlcnNlY3RpbmcsXG4gICAgICAgIGludGVyc2VjdGlvblJhdGlvID0gaW50ZXJzZWN0aW9uLmludGVyc2VjdGlvblJhdGlvLFxuICAgICAgICB0YXJnZXQgPSBpbnRlcnNlY3Rpb24udGFyZ2V0O1xuICAgIHZhciBpbnN0YW5jZSA9IElOU1RBTkNFX01BUC5nZXQodGFyZ2V0KTsgLy8gRmlyZWZveCBjYW4gcmVwb3J0IGEgbmVnYXRpdmUgaW50ZXJzZWN0aW9uUmF0aW8gd2hlbiBzY3JvbGxpbmcuXG5cbiAgICBpZiAoaW5zdGFuY2UgJiYgaW50ZXJzZWN0aW9uUmF0aW8gPj0gMCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBpbnN0YW5jZS5vcHRpb25zO1xuICAgICAgdmFyIF9pblZpZXcgPSBmYWxzZTtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy50aHJlc2hvbGQpKSB7XG4gICAgICAgIC8vIElmIHRocmVzaG9sZCBpcyBhbiBhcnJheSwgY2hlY2sgaWYgYW55IG9mIHRoZW0gaW50ZXJzZWN0cy4gVGhpcyBqdXN0IHRyaWdnZXJzIHRoZSBvbkNoYW5nZSBldmVudCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgX2luVmlldyA9IG9wdGlvbnMudGhyZXNob2xkLnNvbWUoZnVuY3Rpb24gKHRocmVzaG9sZCkge1xuICAgICAgICAgIHJldHVybiBpbnN0YW5jZS52aXNpYmxlID8gaW50ZXJzZWN0aW9uUmF0aW8gPiB0aHJlc2hvbGQgOiBpbnRlcnNlY3Rpb25SYXRpbyA+PSB0aHJlc2hvbGQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnRocmVzaG9sZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIFRyaWdnZXIgb24gMCByYXRpbyBvbmx5IHdoZW4gbm90IHZpc2libGUuIFRoaXMgaXMgZmFsbGJhY2sgZm9yIGJyb3dzZXJzIHdpdGhvdXQgaXNJbnRlcnNlY3Rpbmcgc3VwcG9ydFxuICAgICAgICBfaW5WaWV3ID0gaW5zdGFuY2UudmlzaWJsZSA/IGludGVyc2VjdGlvblJhdGlvID4gb3B0aW9ucy50aHJlc2hvbGQgOiBpbnRlcnNlY3Rpb25SYXRpbyA+PSBvcHRpb25zLnRocmVzaG9sZDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzSW50ZXJzZWN0aW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gSWYgaXNJbnRlcnNlY3RpbmcgaXMgZGVmaW5lZCwgZW5zdXJlIHRoYXQgdGhlIGVsZW1lbnQgaXMgYWN0dWFsbHkgaW50ZXJzZWN0aW5nLlxuICAgICAgICAvLyBPdGhlcndpc2UgaXQgcmVwb3J0cyBhIHRocmVzaG9sZCBvZiAwXG4gICAgICAgIF9pblZpZXcgPSBfaW5WaWV3ICYmIGlzSW50ZXJzZWN0aW5nO1xuICAgICAgfVxuXG4gICAgICBpbnN0YW5jZS52aXNpYmxlID0gX2luVmlldztcbiAgICAgIGluc3RhbmNlLmNhbGxiYWNrKF9pblZpZXcsIGludGVyc2VjdGlvblJhdGlvKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VJblZpZXcocmVmLCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICAvLyAkRmxvd0ZpeE1lIC0gdXNlU3RhdGUgaXMgbm90IGV4cG9zZWQgaW4gUmVhY3QgRmxvdyBsaWIgeWV0XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgICBpc0luVmlldyA9IF9SZWFjdCR1c2VTdGF0ZVswXSxcbiAgICAgIHNldEluVmlldyA9IF9SZWFjdCR1c2VTdGF0ZVsxXTsgLy8gJEZsb3dGaXhNZSAtIHVzZUVmZmVjdCBpcyBub3QgZXhwb3NlZCBpbiBSZWFjdCBGbG93IGxpYiB5ZXRcblxuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHJlZi5jdXJyZW50KSB7XG4gICAgICBvYnNlcnZlKHJlZi5jdXJyZW50LCBmdW5jdGlvbiAoaW5WaWV3KSB7XG4gICAgICAgIHNldEluVmlldyhpblZpZXcpO1xuXG4gICAgICAgIGlmIChpblZpZXcgJiYgb3B0aW9ucy50cmlnZ2VyT25jZSkge1xuICAgICAgICAgIC8vIElmIGl0IHNob3VsZCBvbmx5IHRyaWdnZXIgb25jZSwgdW5vYnNlcnZlIHRoZSBlbGVtZW50IGFmdGVyIGl0J3MgaW5WaWV3XG4gICAgICAgICAgdW5vYnNlcnZlKHJlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICB0aHJlc2hvbGQ6IG9wdGlvbnMudGhyZXNob2xkLFxuICAgICAgICByb290OiBvcHRpb25zLnJvb3QsXG4gICAgICAgIHJvb3RNYXJnaW46IG9wdGlvbnMucm9vdE1hcmdpblxuICAgICAgfSwgb3B0aW9ucy5yb290SWQpO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB1bm9ic2VydmUocmVmLmN1cnJlbnQpO1xuICAgIH07XG4gIH0sIFtvcHRpb25zLnRocmVzaG9sZCwgb3B0aW9ucy5yb290LCBvcHRpb25zLnJvb3RNYXJnaW4sIG9wdGlvbnMucm9vdElkXSk7XG4gIHJldHVybiBpc0luVmlldztcbn1cblxuLyoqXG4gKiBNb25pdG9ycyBzY3JvbGwsIGFuZCB0cmlnZ2VycyB0aGUgY2hpbGRyZW4gZnVuY3Rpb24gd2l0aCB1cGRhdGVkIHByb3BzXG4gKlxuIDxJblZpZXc+XG4geyh7aW5WaWV3LCByZWZ9KSA9PiAoXG4gICA8aDEgcmVmPXtyZWZ9PntgJHtpblZpZXd9YH08L2gxPlxuICl9XG4gPC9JblZpZXc+XG4gKi9cbnZhciBJblZpZXcgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoSW5WaWV3LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBJblZpZXcoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwic3RhdGVcIiwge1xuICAgICAgaW5WaWV3OiBmYWxzZSxcbiAgICAgIGludGVyc2VjdGlvblJhdGlvOiAwXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwibm9kZVwiLCBudWxsKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJoYW5kbGVOb2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBpZiAoX3RoaXMubm9kZSkgdW5vYnNlcnZlKF90aGlzLm5vZGUpO1xuICAgICAgX3RoaXMubm9kZSA9IG5vZGU7XG5cbiAgICAgIF90aGlzLm9ic2VydmVOb2RlKCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiaGFuZGxlQ2hhbmdlXCIsIGZ1bmN0aW9uIChpblZpZXcsIGludGVyc2VjdGlvblJhdGlvKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGluVmlldzogaW5WaWV3LFxuICAgICAgICBpbnRlcnNlY3Rpb25SYXRpbzogaW50ZXJzZWN0aW9uUmF0aW9cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UoaW5WaWV3LCBpbnRlcnNlY3Rpb25SYXRpbyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gSW5WaWV3LnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuaGFzT3duUHJvcGVydHkoJ3JlbmRlcicpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcInJlYWN0LWludGVyc2VjdGlvbi1vYnNlcnZlcjogXFxcInJlbmRlclxcXCIgaXMgZGVwcmVjYXRlZCwgYW5kIHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIFxcXCJjaGlsZHJlblxcXCJcIiwgdGhpcy5ub2RlKTtcbiAgICAgIH1cblxuICAgICAgaW52YXJpYW50KHRoaXMubm9kZSwgXCJyZWFjdC1pbnRlcnNlY3Rpb24tb2JzZXJ2ZXI6IE5vIERPTSBub2RlIGZvdW5kLiBNYWtlIHN1cmUgeW91IGZvcndhcmQgXFxcInJlZlxcXCIgdG8gdGhlIHJvb3QgRE9NIGVsZW1lbnQgeW91IHdhbnQgdG8gb2JzZXJ2ZS5cIik7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAvLyBJZiBhIEludGVyc2VjdGlvbk9ic2VydmVyIG9wdGlvbiBjaGFuZ2VkLCByZWluaXQgdGhlIG9ic2VydmVyXG4gICAgaWYgKHByZXZQcm9wcy5yb290TWFyZ2luICE9PSB0aGlzLnByb3BzLnJvb3RNYXJnaW4gfHwgcHJldlByb3BzLnJvb3QgIT09IHRoaXMucHJvcHMucm9vdCB8fCBwcmV2UHJvcHMudGhyZXNob2xkICE9PSB0aGlzLnByb3BzLnRocmVzaG9sZCkge1xuICAgICAgdW5vYnNlcnZlKHRoaXMubm9kZSk7XG4gICAgICB0aGlzLm9ic2VydmVOb2RlKCk7XG4gICAgfVxuXG4gICAgaWYgKHByZXZTdGF0ZS5pblZpZXcgIT09IHRoaXMuc3RhdGUuaW5WaWV3KSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5pblZpZXcgJiYgdGhpcy5wcm9wcy50cmlnZ2VyT25jZSkge1xuICAgICAgICB1bm9ic2VydmUodGhpcy5ub2RlKTtcbiAgICAgICAgdGhpcy5ub2RlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMubm9kZSkge1xuICAgICAgdW5vYnNlcnZlKHRoaXMubm9kZSk7XG4gICAgICB0aGlzLm5vZGUgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ub2JzZXJ2ZU5vZGUgPSBmdW5jdGlvbiBvYnNlcnZlTm9kZSgpIHtcbiAgICBpZiAoIXRoaXMubm9kZSkgcmV0dXJuO1xuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHRocmVzaG9sZCA9IF90aGlzJHByb3BzLnRocmVzaG9sZCxcbiAgICAgICAgcm9vdCA9IF90aGlzJHByb3BzLnJvb3QsXG4gICAgICAgIHJvb3RNYXJnaW4gPSBfdGhpcyRwcm9wcy5yb290TWFyZ2luLFxuICAgICAgICByb290SWQgPSBfdGhpcyRwcm9wcy5yb290SWQ7XG4gICAgb2JzZXJ2ZSh0aGlzLm5vZGUsIHRoaXMuaGFuZGxlQ2hhbmdlLCB7XG4gICAgICB0aHJlc2hvbGQ6IHRocmVzaG9sZCxcbiAgICAgIHJvb3Q6IHJvb3QsXG4gICAgICByb290TWFyZ2luOiByb290TWFyZ2luXG4gICAgfSwgcm9vdElkKTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzMi5jaGlsZHJlbixcbiAgICAgICAgcmVuZGVyID0gX3RoaXMkcHJvcHMyLnJlbmRlcixcbiAgICAgICAgdGFnID0gX3RoaXMkcHJvcHMyLnRhZyxcbiAgICAgICAgdHJpZ2dlck9uY2UgPSBfdGhpcyRwcm9wczIudHJpZ2dlck9uY2UsXG4gICAgICAgIHRocmVzaG9sZCA9IF90aGlzJHByb3BzMi50aHJlc2hvbGQsXG4gICAgICAgIHJvb3QgPSBfdGhpcyRwcm9wczIucm9vdCxcbiAgICAgICAgcm9vdElkID0gX3RoaXMkcHJvcHMyLnJvb3RJZCxcbiAgICAgICAgcm9vdE1hcmdpbiA9IF90aGlzJHByb3BzMi5yb290TWFyZ2luLFxuICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzMiwgW1wiY2hpbGRyZW5cIiwgXCJyZW5kZXJcIiwgXCJ0YWdcIiwgXCJ0cmlnZ2VyT25jZVwiLCBcInRocmVzaG9sZFwiLCBcInJvb3RcIiwgXCJyb290SWRcIiwgXCJyb290TWFyZ2luXCJdKTtcblxuICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGluVmlldyA9IF90aGlzJHN0YXRlLmluVmlldyxcbiAgICAgICAgaW50ZXJzZWN0aW9uUmF0aW8gPSBfdGhpcyRzdGF0ZS5pbnRlcnNlY3Rpb25SYXRpbztcbiAgICB2YXIgcmVuZGVyTWV0aG9kID0gY2hpbGRyZW4gfHwgcmVuZGVyO1xuXG4gICAgaWYgKHR5cGVvZiByZW5kZXJNZXRob2QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiByZW5kZXJNZXRob2Qoe1xuICAgICAgICBpblZpZXc6IGluVmlldyxcbiAgICAgICAgaW50ZXJzZWN0aW9uUmF0aW86IGludGVyc2VjdGlvblJhdGlvLFxuICAgICAgICByZWY6IHRoaXMuaGFuZGxlTm9kZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQodGFnIHx8ICdkaXYnLCBfZXh0ZW5kcyh7XG4gICAgICByZWY6IHRoaXMuaGFuZGxlTm9kZVxuICAgIH0sIHByb3BzKSwgY2hpbGRyZW4pO1xuICB9O1xuXG4gIHJldHVybiBJblZpZXc7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShJblZpZXcsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgdGhyZXNob2xkOiAwLFxuICB0cmlnZ2VyT25jZTogZmFsc2Vcbn0pO1xuXG5leHBvcnRzLkluVmlldyA9IEluVmlldztcbmV4cG9ydHMuZGVmYXVsdCA9IEluVmlldztcbmV4cG9ydHMudXNlSW5WaWV3ID0gdXNlSW5WaWV3O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-notion-x/node_modules/react-lazy-images/node_modules/react-intersection-observer/dist/react-intersection-observer.cjs.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/assertThisInitialized.js ***!
  \**********************************************************************/
/***/ ((module) => {

eval("function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHlCQUF5QixTQUFTLHlCQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy1ub3Rpb24tc3RhcnRlci1raXQvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanM/YmFkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuICByZXR1cm4gc2VsZjtcbn1cbm1vZHVsZS5leHBvcnRzID0gX2Fzc2VydFRoaXNJbml0aWFsaXplZCwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/defineProperty.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/defineProperty.js ***!
  \***************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var toPropertyKey = __webpack_require__(/*! ./toPropertyKey.js */ \"./node_modules/@babel/runtime/helpers/toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0IsbUJBQU8sQ0FBQyxrRkFBb0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MseUJBQXlCLFNBQVMseUJBQXlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLW5vdGlvbi1zdGFydGVyLWtpdC8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzPzlmOWQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHRvUHJvcGVydHlLZXkgPSByZXF1aXJlKFwiLi90b1Byb3BlcnR5S2V5LmpzXCIpO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBrZXkgPSB0b1Byb3BlcnR5S2V5KGtleSk7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5tb2R1bGUuZXhwb3J0cyA9IF9kZWZpbmVQcm9wZXJ0eSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/defineProperty.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/extends.js":
/*!********************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/extends.js ***!
  \********************************************************/
/***/ ((module) => {

eval("function _extends() {\n  module.exports = _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _extends.apply(this, arguments);\n}\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEVBQUUseUJBQXlCLFNBQVMseUJBQXlCO0FBQ2hFO0FBQ0E7QUFDQSwyQkFBMkIseUJBQXlCLFNBQVMseUJBQXlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLW5vdGlvbi1zdGFydGVyLWtpdC8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHMuanM/YmM2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH0sIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cztcbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IF9leHRlbmRzLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/extends.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/inheritsLoose.js":
/*!**************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/inheritsLoose.js ***!
  \**************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var setPrototypeOf = __webpack_require__(/*! ./setPrototypeOf.js */ \"./node_modules/@babel/runtime/helpers/setPrototypeOf.js\");\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inheritsLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c0xvb3NlLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBLHFCQUFxQixtQkFBTyxDQUFDLG9GQUFxQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlCQUF5QixTQUFTLHlCQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy1ub3Rpb24tc3RhcnRlci1raXQvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c0xvb3NlLmpzPzk3YzEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHNldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4vc2V0UHJvdG90eXBlT2YuanNcIik7XG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG4gIHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gX2luaGVyaXRzTG9vc2UsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/inheritsLoose.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js ***!
  \*****************************************************************************/
/***/ ((module) => {

eval("function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHVCQUF1QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QseUJBQXlCLFNBQVMseUJBQXlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLW5vdGlvbi1zdGFydGVyLWtpdC8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UuanM/YjQ1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxubW9kdWxlLmV4cG9ydHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/setPrototypeOf.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/setPrototypeOf.js ***!
  \***************************************************************/
/***/ ((module) => {

eval("function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zZXRQcm90b3R5cGVPZi5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsRUFBRSx5QkFBeUIsU0FBUyx5QkFBeUI7QUFDaEU7QUFDQTtBQUNBLGtDQUFrQyx5QkFBeUIsU0FBUyx5QkFBeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtbm90aW9uLXN0YXJ0ZXIta2l0Ly4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2V0UHJvdG90eXBlT2YuanM/NTA5YiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBtb2R1bGUuZXhwb3J0cyA9IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzO1xuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfc2V0UHJvdG90eXBlT2YsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/toPrimitive.js":
/*!************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/toPrimitive.js ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _typeof = (__webpack_require__(/*! ./typeof.js */ \"./node_modules/@babel/runtime/helpers/typeof.js\")[\"default\"]);\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b1ByaW1pdGl2ZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxjQUFjLHNHQUFpQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5QkFBeUIsU0FBUyx5QkFBeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtbm90aW9uLXN0YXJ0ZXIta2l0Ly4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9QcmltaXRpdmUuanM/M2EzYSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX3R5cGVvZiA9IHJlcXVpcmUoXCIuL3R5cGVvZi5qc1wiKVtcImRlZmF1bHRcIl07XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHtcbiAgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7XG4gIHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtcbiAgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpO1xuICAgIGlmIChfdHlwZW9mKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpO1xuICB9XG4gIHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfdG9QcmltaXRpdmUsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/toPrimitive.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/toPropertyKey.js":
/*!**************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/toPropertyKey.js ***!
  \**************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _typeof = (__webpack_require__(/*! ./typeof.js */ \"./node_modules/@babel/runtime/helpers/typeof.js\")[\"default\"]);\nvar toPrimitive = __webpack_require__(/*! ./toPrimitive.js */ \"./node_modules/@babel/runtime/helpers/toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b1Byb3BlcnR5S2V5LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBLGNBQWMsc0dBQWlDO0FBQy9DLGtCQUFrQixtQkFBTyxDQUFDLDhFQUFrQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx5QkFBeUIsU0FBUyx5QkFBeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtbm90aW9uLXN0YXJ0ZXIta2l0Ly4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Qcm9wZXJ0eUtleS5qcz9mZWQ2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfdHlwZW9mID0gcmVxdWlyZShcIi4vdHlwZW9mLmpzXCIpW1wiZGVmYXVsdFwiXTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoXCIuL3RvUHJpbWl0aXZlLmpzXCIpO1xuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7XG4gIHZhciBrZXkgPSB0b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpO1xuICByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IF90b1Byb3BlcnR5S2V5LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/toPropertyKey.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/typeof.js":
/*!*******************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!
  \*******************************************************/
/***/ ((module) => {

eval("function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRyxFQUFFLHlCQUF5QixTQUFTLHlCQUF5QjtBQUNoRTtBQUNBLDBCQUEwQix5QkFBeUIsU0FBUyx5QkFBeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtbm90aW9uLXN0YXJ0ZXIta2l0Ly4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzP2EzMGEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gKG1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvO1xuICB9IDogZnVuY3Rpb24gKG8pIHtcbiAgICByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbztcbiAgfSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzKSwgX3R5cGVvZihvKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/typeof.js\n");

/***/ }),

/***/ "./node_modules/react-notion-x/build/third-party/equation.js":
/*!*******************************************************************!*\
  !*** ./node_modules/react-notion-x/build/third-party/equation.js ***!
  \*******************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Equation\": () => (/* binding */ Equation)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var _matejmazur_react_katex__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @matejmazur/react-katex */ \"@matejmazur/react-katex\");\n/* harmony import */ var notion_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! notion-utils */ \"notion-utils\");\n/* harmony import */ var react_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-image */ \"react-image\");\n/* harmony import */ var react_lazy_images__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-lazy-images */ \"./node_modules/react-notion-x/node_modules/react-lazy-images/dist/react-lazy-images.js\");\n/* harmony import */ var react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-hotkeys-hook */ \"react-hotkeys-hook\");\n/* harmony import */ var react_fast_compare__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-fast-compare */ \"react-fast-compare\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([notion_utils__WEBPACK_IMPORTED_MODULE_2__]);\nnotion_utils__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// ../../node_modules/lodash.throttle/index.js\nvar require_lodash = __commonJS({\n  \"../../node_modules/lodash.throttle/index.js\"(exports, module) {\n    var FUNC_ERROR_TEXT = \"Expected a function\";\n    var NAN = 0 / 0;\n    var symbolTag = \"[object Symbol]\";\n    var reTrim = /^\\s+|\\s+$/g;\n    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n    var reIsBinary = /^0b[01]+$/i;\n    var reIsOctal = /^0o[0-7]+$/i;\n    var freeParseInt = parseInt;\n    var freeGlobal = typeof global == \"object\" && global && global.Object === Object && global;\n    var freeSelf = typeof self == \"object\" && self && self.Object === Object && self;\n    var root = freeGlobal || freeSelf || Function(\"return this\")();\n    var objectProto = Object.prototype;\n    var objectToString = objectProto.toString;\n    var nativeMax = Math.max;\n    var nativeMin = Math.min;\n    var now = function() {\n      return root.Date.now();\n    };\n    function debounce(func, wait, options) {\n      var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;\n      if (typeof func != \"function\") {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = \"maxWait\" in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = \"trailing\" in options ? !!options.trailing : trailing;\n      }\n      function invokeFunc(time) {\n        var args = lastArgs, thisArg = lastThis;\n        lastArgs = lastThis = void 0;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n      function leadingEdge(time) {\n        lastInvokeTime = time;\n        timerId = setTimeout(timerExpired, wait);\n        return leading ? invokeFunc(time) : result;\n      }\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, result2 = wait - timeSinceLastCall;\n        return maxing ? nativeMin(result2, maxWait - timeSinceLastInvoke) : result2;\n      }\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;\n        return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n      }\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n      function trailingEdge(time) {\n        timerId = void 0;\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = void 0;\n        return result;\n      }\n      function cancel() {\n        if (timerId !== void 0) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = void 0;\n      }\n      function flush() {\n        return timerId === void 0 ? result : trailingEdge(now());\n      }\n      function debounced() {\n        var time = now(), isInvoking = shouldInvoke(time);\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n        if (isInvoking) {\n          if (timerId === void 0) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === void 0) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n    function throttle2(func, wait, options) {\n      var leading = true, trailing = true;\n      if (typeof func != \"function\") {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = \"leading\" in options ? !!options.leading : leading;\n        trailing = \"trailing\" in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        \"leading\": leading,\n        \"maxWait\": wait,\n        \"trailing\": trailing\n      });\n    }\n    function isObject(value) {\n      var type = typeof value;\n      return !!value && (type == \"object\" || type == \"function\");\n    }\n    function isObjectLike(value) {\n      return !!value && typeof value == \"object\";\n    }\n    function isSymbol(value) {\n      return typeof value == \"symbol\" || isObjectLike(value) && objectToString.call(value) == symbolTag;\n    }\n    function toNumber(value) {\n      if (typeof value == \"number\") {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == \"function\" ? value.valueOf() : value;\n        value = isObject(other) ? other + \"\" : other;\n      }\n      if (typeof value != \"string\") {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, \"\");\n      var isBinary = reIsBinary.test(value);\n      return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n    }\n    module.exports = throttle2;\n  }\n});\n\n// src/third-party/equation.tsx\n\n\n\n\n// src/context.tsx\n\n\n// src/components/asset-wrapper.tsx\n\n\n\n// src/utils.ts\n\n\n// src/map-image-url.ts\nvar defaultMapImageUrl = (url, block) => {\n  if (!url) {\n    return null;\n  }\n  if (url.startsWith(\"data:\")) {\n    return url;\n  }\n  if (url.startsWith(\"https://images.unsplash.com\")) {\n    return url;\n  }\n  try {\n    const u = new URL(url);\n    if (u.pathname.startsWith(\"/secure.notion-static.com\") && u.hostname.endsWith(\".amazonaws.com\")) {\n      if (u.searchParams.has(\"X-Amz-Credential\") && u.searchParams.has(\"X-Amz-Signature\") && u.searchParams.has(\"X-Amz-Algorithm\")) {\n        return url;\n      }\n    }\n  } catch (e) {\n  }\n  if (url.startsWith(\"/images\")) {\n    url = `https://www.notion.so${url}`;\n  }\n  url = `https://www.notion.so${url.startsWith(\"/image\") ? url : `/image/${encodeURIComponent(url)}`}`;\n  const notionImageUrlV2 = new URL(url);\n  let table = block.parent_table === \"space\" ? \"block\" : block.parent_table;\n  if (table === \"collection\" || table === \"team\") {\n    table = \"block\";\n  }\n  notionImageUrlV2.searchParams.set(\"table\", table);\n  notionImageUrlV2.searchParams.set(\"id\", block.id);\n  notionImageUrlV2.searchParams.set(\"cache\", \"v2\");\n  url = notionImageUrlV2.toString();\n  return url;\n};\n\n// src/map-page-url.ts\nvar defaultMapPageUrl = (rootPageId) => (pageId) => {\n  pageId = (pageId || \"\").replace(/-/g, \"\");\n  if (rootPageId && pageId === rootPageId) {\n    return \"/\";\n  } else {\n    return `/${pageId}`;\n  }\n};\n\n// src/utils.ts\nvar cs = (...classes) => classes.filter((a) => !!a).join(\" \");\nvar getHashFragmentValue = (url) => {\n  return url.includes(\"#\") ? url.replace(/^.+(#.+)$/, \"$1\") : \"\";\n};\nvar isBrowser = typeof window !== \"undefined\";\nvar youtubeDomains = /* @__PURE__ */ new Set([\n  \"youtu.be\",\n  \"youtube.com\",\n  \"www.youtube.com\",\n  \"youtube-nocookie.com\",\n  \"www.youtube-nocookie.com\"\n]);\nvar getYoutubeId = (url) => {\n  try {\n    const { hostname } = new URL(url);\n    if (!youtubeDomains.has(hostname)) {\n      return null;\n    }\n    const regExp = /^.*(youtu\\.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/i;\n    const match = url.match(regExp);\n    if (match && match[2].length == 11) {\n      return match[2];\n    }\n  } catch (e) {\n  }\n  return null;\n};\n\n// src/components/eoi.tsx\n\n\n// src/icons/type-github.tsx\n\nfunction SvgTypeGitHub(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 260 260\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z\",\n    fill: \"#161614\"\n  })));\n}\nvar type_github_default = SvgTypeGitHub;\n\n// src/components/eoi.tsx\nvar EOI = ({ block, inline, className }) => {\n  var _a, _b, _c;\n  const { components } = useNotionContext();\n  const { original_url, attributes, domain } = (block == null ? void 0 : block.format) || {};\n  if (!original_url || !attributes) {\n    return null;\n  }\n  const title = (_a = attributes.find((attr) => attr.id === \"title\")) == null ? void 0 : _a.values[0];\n  let owner = (_b = attributes.find((attr) => attr.id === \"owner\")) == null ? void 0 : _b.values[0];\n  const lastUpdatedAt = (_c = attributes.find((attr) => attr.id === \"updated_at\")) == null ? void 0 : _c.values[0];\n  const lastUpdated = lastUpdatedAt ? (0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.formatNotionDateTime)(lastUpdatedAt) : null;\n  let externalImage;\n  switch (domain) {\n    case \"github.com\":\n      externalImage = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(type_github_default, null);\n      if (owner) {\n        const parts = owner.split(\"/\");\n        owner = parts[parts.length - 1];\n      }\n      break;\n    default:\n      if (true) {\n        console.log(\n          `Unsupported external_object_instance domain \"${domain}\"`,\n          JSON.stringify(block, null, 2)\n        );\n      }\n      return null;\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Link, {\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    href: original_url,\n    className: cs(\n      \"notion-external\",\n      inline ? \"notion-external-mention\" : \"notion-external-block notion-row\",\n      className\n    )\n  }, externalImage && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-external-image\"\n  }, externalImage), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-external-description\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-external-title\"\n  }, title), (owner || lastUpdated) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-external-subtitle\"\n  }, owner && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, owner), owner && lastUpdated && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, \" \\u2022 \"), lastUpdated && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, \"Updated \", lastUpdated))));\n};\n\n// src/components/text.tsx\n\n\n\n// src/components/graceful-image.tsx\n\n\nvar GracefulImage = (props) => {\n  if (isBrowser) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_image__WEBPACK_IMPORTED_MODULE_3__.Img, __spreadValues({}, props));\n  } else {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", __spreadValues({}, props));\n  }\n};\n\n// src/components/page-title.tsx\n\n\n\n// src/components/page-icon.tsx\n\n\n\n// src/icons/default-page-icon.tsx\n\nvar DefaultPageIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadProps(__spreadValues({\n    className\n  }, rest), {\n    viewBox: \"0 0 30 30\",\n    width: \"16\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z\"\n  }));\n};\n\n// src/components/lazy-image.tsx\n\n\n\nvar LazyImage = (_a) => {\n  var _b = _a, {\n    src,\n    alt,\n    className,\n    style,\n    zoomable = false,\n    priority = false,\n    height\n  } = _b, rest = __objRest(_b, [\n    \"src\",\n    \"alt\",\n    \"className\",\n    \"style\",\n    \"zoomable\",\n    \"priority\",\n    \"height\"\n  ]);\n  var _a2, _b2, _c;\n  const { recordMap, zoom, previewImages, forceCustomImages, components } = useNotionContext();\n  const zoomRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(zoom ? zoom.clone() : null);\n  const previewImage = previewImages ? (_c = (_a2 = recordMap == null ? void 0 : recordMap.preview_images) == null ? void 0 : _a2[src]) != null ? _c : (_b2 = recordMap == null ? void 0 : recordMap.preview_images) == null ? void 0 : _b2[(0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.normalizeUrl)(src)] : null;\n  const onLoad = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (e) => {\n      if (zoomable && (e.target.src || e.target.srcset)) {\n        if (zoomRef.current) {\n          ;\n          zoomRef.current.attach(e.target);\n        }\n      }\n    },\n    [zoomRef, zoomable]\n  );\n  const attachZoom = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (image) => {\n      if (zoomRef.current && image) {\n        ;\n        zoomRef.current.attach(image);\n      }\n    },\n    [zoomRef]\n  );\n  const attachZoomRef = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => zoomable ? attachZoom : void 0,\n    [zoomable, attachZoom]\n  );\n  if (previewImage) {\n    const aspectRatio = previewImage.originalHeight / previewImage.originalWidth;\n    if (components.Image) {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Image, {\n        src,\n        alt,\n        style,\n        className,\n        width: previewImage.originalWidth,\n        height: previewImage.originalHeight,\n        blurDataURL: previewImage.dataURIBase64,\n        placeholder: \"blur\",\n        priority,\n        onLoad\n      });\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_lazy_images__WEBPACK_IMPORTED_MODULE_4__.LazyImageFull, __spreadProps(__spreadValues({\n      src\n    }, rest), {\n      experimentalDecode: true\n    }), ({ imageState, ref }) => {\n      const isLoaded = imageState === react_lazy_images__WEBPACK_IMPORTED_MODULE_4__.ImageState.LoadSuccess;\n      const wrapperStyle = {\n        width: \"100%\"\n      };\n      const imgStyle = {};\n      if (height) {\n        wrapperStyle.height = height;\n      } else {\n        imgStyle.position = \"absolute\";\n        wrapperStyle.paddingBottom = `${aspectRatio * 100}%`;\n      }\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: cs(\n          \"lazy-image-wrapper\",\n          isLoaded && \"lazy-image-loaded\",\n          className\n        ),\n        style: wrapperStyle\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n        className: \"lazy-image-preview\",\n        src: previewImage.dataURIBase64,\n        alt,\n        ref,\n        style,\n        decoding: \"async\"\n      }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n        className: \"lazy-image-real\",\n        src,\n        alt,\n        ref: attachZoomRef,\n        style: __spreadValues(__spreadValues({}, style), imgStyle),\n        width: previewImage.originalWidth,\n        height: previewImage.originalHeight,\n        decoding: \"async\",\n        loading: \"lazy\"\n      }));\n    });\n  } else {\n    if (components.Image && forceCustomImages) {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Image, {\n        src,\n        alt,\n        className,\n        style,\n        width: null,\n        height: height || null,\n        priority,\n        onLoad\n      });\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", __spreadValues({\n      className,\n      style,\n      src,\n      alt,\n      ref: attachZoomRef,\n      loading: \"lazy\",\n      decoding: \"async\"\n    }, rest));\n  }\n};\n\n// src/components/page-icon.tsx\nvar isIconBlock = (value) => {\n  return value.type === \"page\" || value.type === \"callout\" || value.type === \"collection_view\" || value.type === \"collection_view_page\";\n};\nvar PageIconImpl = ({\n  block,\n  className,\n  inline = true,\n  hideDefaultIcon = false,\n  defaultIcon\n}) => {\n  var _a;\n  const { mapImageUrl, recordMap, darkMode } = useNotionContext();\n  let isImage = false;\n  let content = null;\n  if (isIconBlock(block)) {\n    const icon = ((_a = (0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.getBlockIcon)(block, recordMap)) == null ? void 0 : _a.trim()) || defaultIcon;\n    const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.getBlockTitle)(block, recordMap);\n    if (icon && (0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.isUrl)(icon)) {\n      const url = mapImageUrl(icon, block);\n      isImage = true;\n      content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LazyImage, {\n        src: url,\n        alt: title || \"page icon\",\n        className: cs(className, \"notion-page-icon\")\n      });\n    } else if (icon && icon.startsWith(\"/icons/\")) {\n      const url = \"https://www.notion.so\" + icon + \"?mode=\" + (darkMode ? \"dark\" : \"light\");\n      content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LazyImage, {\n        src: url,\n        alt: title || \"page icon\",\n        className: cs(className, \"notion-page-icon\")\n      });\n    } else if (!icon) {\n      if (!hideDefaultIcon) {\n        isImage = true;\n        content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(DefaultPageIcon, {\n          className: cs(className, \"notion-page-icon\"),\n          alt: title ? title : \"page icon\"\n        });\n      }\n    } else {\n      isImage = false;\n      content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: cs(className, \"notion-page-icon\"),\n        role: \"img\",\n        \"aria-label\": icon\n      }, icon);\n    }\n  }\n  if (!content) {\n    return null;\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: cs(\n      inline ? \"notion-page-icon-inline\" : \"notion-page-icon-hero\",\n      isImage ? \"notion-page-icon-image\" : \"notion-page-icon-span\"\n    )\n  }, content);\n};\nvar PageIcon = react__WEBPACK_IMPORTED_MODULE_0__.memo(PageIconImpl);\n\n// src/components/page-title.tsx\nvar PageTitleImpl = (_a) => {\n  var _b = _a, { block, className, defaultIcon } = _b, rest = __objRest(_b, [\"block\", \"className\", \"defaultIcon\"]);\n  var _a2, _b2;\n  const { recordMap } = useNotionContext();\n  if (!block)\n    return null;\n  if (block.type === \"collection_view_page\" || block.type === \"collection_view\") {\n    const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.getBlockTitle)(block, recordMap);\n    if (!title) {\n      return null;\n    }\n    const titleDecoration = [[title]];\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", __spreadValues({\n      className: cs(\"notion-page-title\", className)\n    }, rest), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageIcon, {\n      block,\n      defaultIcon,\n      className: \"notion-page-title-icon\"\n    }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"notion-page-title-text\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n      value: titleDecoration,\n      block\n    })));\n  }\n  if (!((_a2 = block.properties) == null ? void 0 : _a2.title)) {\n    return null;\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", __spreadValues({\n    className: cs(\"notion-page-title\", className)\n  }, rest), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageIcon, {\n    block,\n    defaultIcon,\n    className: \"notion-page-title-icon\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"notion-page-title-text\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n    value: (_b2 = block.properties) == null ? void 0 : _b2.title,\n    block\n  })));\n};\nvar PageTitle = react__WEBPACK_IMPORTED_MODULE_0__.memo(PageTitleImpl);\n\n// src/components/text.tsx\nvar Text = ({ value, block, linkProps, linkProtocol }) => {\n  const { components, recordMap, mapPageUrl, mapImageUrl, rootDomain } = useNotionContext();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, value == null ? void 0 : value.map(([text, decorations], index) => {\n    if (!decorations) {\n      if (text === \",\") {\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n          key: index,\n          style: { padding: \"0.5em\" }\n        });\n      } else {\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n          key: index\n        }, text);\n      }\n    }\n    const formatted = decorations.reduce(\n      (element, decorator) => {\n        var _a, _b, _c, _d, _e;\n        switch (decorator[0]) {\n          case \"p\": {\n            const blockId = decorator[1];\n            const linkedBlock = (_a = recordMap.block[blockId]) == null ? void 0 : _a.value;\n            if (!linkedBlock) {\n              console.log('\"p\" missing block', blockId);\n              return null;\n            }\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, {\n              className: \"notion-link\",\n              href: mapPageUrl(blockId)\n            }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageTitle, {\n              block: linkedBlock\n            }));\n          }\n          case \"\\u2023\": {\n            const linkType = decorator[1][0];\n            const id = decorator[1][1];\n            switch (linkType) {\n              case \"u\": {\n                const user = (_b = recordMap.notion_user[id]) == null ? void 0 : _b.value;\n                if (!user) {\n                  console.log('\"\\u2023\" missing user', id);\n                  return null;\n                }\n                const name = [user.given_name, user.family_name].filter(Boolean).join(\" \");\n                return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(GracefulImage, {\n                  className: \"notion-user\",\n                  src: mapImageUrl(user.profile_photo, block),\n                  alt: name\n                });\n              }\n              default: {\n                const linkedBlock = (_c = recordMap.block[id]) == null ? void 0 : _c.value;\n                if (!linkedBlock) {\n                  console.log('\"\\u2023\" missing block', linkType, id);\n                  return null;\n                }\n                return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, __spreadProps(__spreadValues({\n                  className: \"notion-link\",\n                  href: mapPageUrl(id)\n                }, linkProps), {\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\"\n                }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageTitle, {\n                  block: linkedBlock\n                }));\n              }\n            }\n          }\n          case \"h\":\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n              className: `notion-${decorator[1]}`\n            }, element);\n          case \"c\":\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"code\", {\n              className: \"notion-inline-code\"\n            }, element);\n          case \"b\":\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"b\", null, element);\n          case \"i\":\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"em\", null, element);\n          case \"s\":\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"s\", null, element);\n          case \"_\":\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n              className: \"notion-inline-underscore\"\n            }, element);\n          case \"e\":\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Equation, {\n              math: decorator[1],\n              inline: true\n            });\n          case \"m\":\n            return element;\n          case \"a\": {\n            const v = decorator[1];\n            const pathname = v.substr(1);\n            const id = (0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.parsePageId)(pathname, { uuid: true });\n            if ((v[0] === \"/\" || v.includes(rootDomain)) && id) {\n              const href = v.includes(rootDomain) ? v : `${mapPageUrl(id)}${getHashFragmentValue(v)}`;\n              return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, __spreadValues({\n                className: \"notion-link\",\n                href\n              }, linkProps), element);\n            } else {\n              return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Link, __spreadValues({\n                className: \"notion-link\",\n                href: linkProtocol ? `${linkProtocol}:${decorator[1]}` : decorator[1]\n              }, linkProps), element);\n            }\n          }\n          case \"d\": {\n            const v = decorator[1];\n            const type = v == null ? void 0 : v.type;\n            if (type === \"date\") {\n              const startDate = v.start_date;\n              return (0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.formatDate)(startDate);\n            } else if (type === \"daterange\") {\n              const startDate = v.start_date;\n              const endDate = v.end_date;\n              return `${(0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.formatDate)(startDate)} \\u2192 ${(0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.formatDate)(endDate)}`;\n            } else {\n              return element;\n            }\n          }\n          case \"u\": {\n            const userId = decorator[1];\n            const user = (_d = recordMap.notion_user[userId]) == null ? void 0 : _d.value;\n            if (!user) {\n              console.log(\"missing user\", userId);\n              return null;\n            }\n            const name = [user.given_name, user.family_name].filter(Boolean).join(\" \");\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(GracefulImage, {\n              className: \"notion-user\",\n              src: mapImageUrl(user.profile_photo, block),\n              alt: name\n            });\n          }\n          case \"eoi\": {\n            const blockId = decorator[1];\n            const externalObjectInstance = (_e = recordMap.block[blockId]) == null ? void 0 : _e.value;\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EOI, {\n              block: externalObjectInstance,\n              inline: true\n            });\n          }\n          default:\n            if (true) {\n              console.log(\"unsupported text format\", decorator);\n            }\n            return element;\n        }\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, text)\n    );\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: index\n    }, formatted);\n  }));\n};\n\n// src/components/header.tsx\n\n\n\n\n// src/icons/search-icon.tsx\n\nvar SearchIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    className: cs(\"notion-icon\", className),\n    viewBox: \"0 0 17 17\"\n  }, rest), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M6.78027 13.6729C8.24805 13.6729 9.60156 13.1982 10.709 12.4072L14.875 16.5732C15.0684 16.7666 15.3232 16.8633 15.5957 16.8633C16.167 16.8633 16.5713 16.4238 16.5713 15.8613C16.5713 15.5977 16.4834 15.3516 16.29 15.1582L12.1504 11.0098C13.0205 9.86719 13.5391 8.45215 13.5391 6.91406C13.5391 3.19629 10.498 0.155273 6.78027 0.155273C3.0625 0.155273 0.0214844 3.19629 0.0214844 6.91406C0.0214844 10.6318 3.0625 13.6729 6.78027 13.6729ZM6.78027 12.2139C3.87988 12.2139 1.48047 9.81445 1.48047 6.91406C1.48047 4.01367 3.87988 1.61426 6.78027 1.61426C9.68066 1.61426 12.0801 4.01367 12.0801 6.91406C12.0801 9.81445 9.68066 12.2139 6.78027 12.2139Z\"\n  }));\n};\n\n// src/components/search-dialog.tsx\nvar import_lodash = __toESM(require_lodash(), 1);\n\n\n\n// src/icons/clear-icon.tsx\n\nvar ClearIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadProps(__spreadValues({\n    className: cs(\"notion-icon\", className)\n  }, rest), {\n    viewBox: \"0 0 30 30\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M15,0C6.716,0,0,6.716,0,15s6.716,15,15,15s15-6.716,15-15S23.284,0,15,0z M22,20.6L20.6,22L15,16.4L9.4,22L8,20.6l5.6-5.6 L8,9.4L9.4,8l5.6,5.6L20.6,8L22,9.4L16.4,15L22,20.6z\"\n  }));\n};\n\n// src/icons/loading-icon.tsx\n\nvar LoadingIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadProps(__spreadValues({\n    className: cs(\"notion-icon\", className)\n  }, rest), {\n    viewBox: \"0 0 24 24\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"defs\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"linearGradient\", {\n    x1: \"28.1542969%\",\n    y1: \"63.7402344%\",\n    x2: \"74.6289062%\",\n    y2: \"17.7832031%\",\n    id: \"linearGradient-1\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"stop\", {\n    stopColor: \"rgba(164, 164, 164, 1)\",\n    offset: \"0%\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"stop\", {\n    stopColor: \"rgba(164, 164, 164, 0)\",\n    stopOpacity: \"0\",\n    offset: \"100%\"\n  }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n    id: \"Page-1\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n    transform: \"translate(-236.000000, -286.000000)\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n    transform: \"translate(238.000000, 286.000000)\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"circle\", {\n    id: \"Oval-2\",\n    stroke: \"url(#linearGradient-1)\",\n    strokeWidth: \"4\",\n    cx: \"10\",\n    cy: \"12\",\n    r: \"10\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M10,2 C4.4771525,2 0,6.4771525 0,12\",\n    id: \"Oval-2\",\n    stroke: \"rgba(164, 164, 164, 1)\",\n    strokeWidth: \"4\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"rect\", {\n    id: \"Rectangle-1\",\n    fill: \"rgba(164, 164, 164, 1)\",\n    x: \"8\",\n    y: \"0\",\n    width: \"4\",\n    height: \"4\",\n    rx: \"8\"\n  })))));\n};\n\n// src/components/search-dialog.tsx\nvar SearchDialog = class extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      query: \"\",\n      searchResult: null,\n      searchError: null\n    };\n    this._onAfterOpen = () => {\n      if (this._inputRef.current) {\n        this._inputRef.current.focus();\n      }\n    };\n    this._onChangeQuery = (e) => {\n      const query = e.target.value;\n      this.setState({ query });\n      if (!query.trim()) {\n        this.setState({ isLoading: false, searchResult: null, searchError: null });\n        return;\n      } else {\n        this._search();\n      }\n    };\n    this._onClearQuery = () => {\n      this._onChangeQuery({ target: { value: \"\" } });\n    };\n    this._warmupSearch = () => __async(this, null, function* () {\n      const { searchNotion, rootBlockId } = this.props;\n      yield searchNotion({\n        query: \"\",\n        ancestorId: rootBlockId\n      });\n    });\n    this._searchImpl = () => __async(this, null, function* () {\n      const { searchNotion, rootBlockId } = this.props;\n      const { query } = this.state;\n      if (!query.trim()) {\n        this.setState({ isLoading: false, searchResult: null, searchError: null });\n        return;\n      }\n      this.setState({ isLoading: true });\n      const result = yield searchNotion({\n        query,\n        ancestorId: rootBlockId\n      });\n      console.log(\"search\", query, result);\n      let searchResult = null;\n      let searchError = null;\n      if (result.error || result.errorId) {\n        searchError = result;\n      } else {\n        searchResult = __spreadValues({}, result);\n        const results = searchResult.results.map((result2) => {\n          var _a, _b;\n          const block = (_a = searchResult.recordMap.block[result2.id]) == null ? void 0 : _a.value;\n          if (!block)\n            return;\n          const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.getBlockTitle)(block, searchResult.recordMap);\n          if (!title) {\n            return;\n          }\n          result2.title = title;\n          result2.block = block;\n          result2.recordMap = searchResult.recordMap;\n          result2.page = (0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.getBlockParentPage)(block, searchResult.recordMap, {\n            inclusive: true\n          }) || block;\n          if (!result2.page.id) {\n            return;\n          }\n          if ((_b = result2.highlight) == null ? void 0 : _b.text) {\n            result2.highlight.html = result2.highlight.text.replace(/<gzkNfoUU>/gi, \"<b>\").replace(/<\\/gzkNfoUU>/gi, \"</b>\");\n          }\n          return result2;\n        }).filter(Boolean);\n        const searchResultsMap = results.reduce(\n          (map, result2) => __spreadProps(__spreadValues({}, map), {\n            [result2.page.id]: result2\n          }),\n          {}\n        );\n        searchResult.results = Object.values(searchResultsMap);\n      }\n      if (this.state.query === query) {\n        this.setState({ isLoading: false, searchResult, searchError });\n      }\n    });\n    this._inputRef = react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n  }\n  componentDidMount() {\n    this._search = (0, import_lodash.default)(this._searchImpl.bind(this), 1e3);\n    this._warmupSearch();\n  }\n  render() {\n    const { isOpen, onClose } = this.props;\n    const { isLoading, query, searchResult, searchError } = this.state;\n    const hasQuery = !!query.trim();\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NotionContextConsumer, null, (ctx2) => {\n      const { components, defaultPageIcon, mapPageUrl } = ctx2;\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Modal, {\n        isOpen,\n        contentLabel: \"Search\",\n        className: \"notion-search\",\n        overlayClassName: \"notion-search-overlay\",\n        onRequestClose: onClose,\n        onAfterOpen: this._onAfterOpen\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"quickFindMenu\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"searchBar\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"inlineIcon\"\n      }, isLoading ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LoadingIcon, {\n        className: \"loadingIcon\"\n      }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(SearchIcon, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n        className: \"searchInput\",\n        placeholder: \"Search\",\n        value: query,\n        ref: this._inputRef,\n        onChange: this._onChangeQuery\n      }), query && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        role: \"button\",\n        className: \"clearButton\",\n        onClick: this._onClearQuery\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ClearIcon, {\n        className: \"clearIcon\"\n      }))), hasQuery && searchResult && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, searchResult.results.length ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NotionContextProvider, __spreadProps(__spreadValues({}, ctx2), {\n        recordMap: searchResult.recordMap\n      }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"resultsPane\"\n      }, searchResult.results.map((result) => {\n        var _a;\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, {\n          key: result.id,\n          className: cs(\"result\", \"notion-page-link\"),\n          href: mapPageUrl(\n            result.page.id,\n            searchResult.recordMap\n          )\n        }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageTitle, {\n          block: result.page,\n          defaultIcon: defaultPageIcon\n        }), ((_a = result.highlight) == null ? void 0 : _a.html) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n          className: \"notion-search-result-highlight\",\n          dangerouslySetInnerHTML: {\n            __html: result.highlight.html\n          }\n        }));\n      })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"footer\", {\n        className: \"resultsFooter\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"resultsCount\"\n      }, searchResult.total), searchResult.total === 1 ? \" result\" : \" results\"))) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResultsPane\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResults\"\n      }, \"No results\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResultsDetail\"\n      }, \"Try different search terms\"))), hasQuery && !searchResult && searchError && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResultsPane\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResults\"\n      }, \"Search error\"))));\n    });\n  }\n};\n\n// src/components/header.tsx\nvar Header = ({ block }) => {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"header\", {\n    className: \"notion-header\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-nav-header\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Breadcrumbs, {\n    block\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Search, {\n    block\n  })));\n};\nvar Breadcrumbs = ({ block, rootOnly = false }) => {\n  const { recordMap, mapPageUrl, components } = useNotionContext();\n  const breadcrumbs = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const breadcrumbs2 = (0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.getPageBreadcrumbs)(recordMap, block.id);\n    if (rootOnly) {\n      return [breadcrumbs2[0]].filter(Boolean);\n    }\n    return breadcrumbs2;\n  }, [recordMap, block.id, rootOnly]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"breadcrumbs\",\n    key: \"breadcrumbs\"\n  }, breadcrumbs.map((breadcrumb, index) => {\n    if (!breadcrumb) {\n      return null;\n    }\n    const pageLinkProps = {};\n    const componentMap = {\n      pageLink: components.PageLink\n    };\n    if (breadcrumb.active) {\n      componentMap.pageLink = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({}, props));\n    } else {\n      pageLinkProps.href = mapPageUrl(breadcrumb.pageId);\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: breadcrumb.pageId\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(componentMap.pageLink, __spreadValues({\n      className: cs(\"breadcrumb\", breadcrumb.active && \"active\")\n    }, pageLinkProps), breadcrumb.icon && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageIcon, {\n      className: \"icon\",\n      block: breadcrumb.block\n    }), breadcrumb.title && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"title\"\n    }, breadcrumb.title)), index < breadcrumbs.length - 1 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"spacer\"\n    }, \"/\"));\n  }));\n};\nvar Search = ({ block, search, title = \"Search\" }) => {\n  const { searchNotion, rootPageId, isShowingSearch, onHideSearch } = useNotionContext();\n  const onSearchNotion = search || searchNotion;\n  const [isSearchOpen, setIsSearchOpen] = react__WEBPACK_IMPORTED_MODULE_0__.useState(isShowingSearch);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    setIsSearchOpen(isShowingSearch);\n  }, [isShowingSearch]);\n  const onOpenSearch = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    setIsSearchOpen(true);\n  }, []);\n  const onCloseSearch = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    setIsSearchOpen(false);\n    if (onHideSearch) {\n      onHideSearch();\n    }\n  }, [onHideSearch]);\n  (0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_5__.useHotkeys)(\"cmd+p\", (event) => {\n    onOpenSearch();\n    event.preventDefault();\n    event.stopPropagation();\n  });\n  (0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_5__.useHotkeys)(\"cmd+k\", (event) => {\n    onOpenSearch();\n    event.preventDefault();\n    event.stopPropagation();\n  });\n  const hasSearch = !!onSearchNotion;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, hasSearch && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    role: \"button\",\n    className: cs(\"breadcrumb\", \"button\", \"notion-search-button\"),\n    onClick: onOpenSearch\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(SearchIcon, {\n    className: \"searchIcon\"\n  }), title && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"title\"\n  }, title)), isSearchOpen && hasSearch && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(SearchDialog, {\n    isOpen: isSearchOpen,\n    rootBlockId: rootPageId || (block == null ? void 0 : block.id),\n    onClose: onCloseSearch,\n    searchNotion: onSearchNotion\n  }));\n};\n\n// src/components/asset.tsx\n\n\n\n// src/components/lite-youtube-embed.tsx\n\nvar qs = (params) => {\n  return Object.keys(params).map(\n    (key) => `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`\n  ).join(\"&\");\n};\nvar LiteYouTubeEmbed = ({\n  id,\n  defaultPlay = false,\n  mute = false,\n  lazyImage = false,\n  iframeTitle = \"YouTube video\",\n  alt = \"Video preview\",\n  params = {},\n  adLinksPreconnect = true,\n  style,\n  className\n}) => {\n  const muteParam = mute || defaultPlay ? \"1\" : \"0\";\n  const queryString = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => qs(__spreadValues({ autoplay: \"1\", mute: muteParam }, params)),\n    [muteParam, params]\n  );\n  const resolution = \"hqdefault\";\n  const posterUrl = `https://i.ytimg.com/vi/${id}/${resolution}.jpg`;\n  const ytUrl = \"https://www.youtube-nocookie.com\";\n  const iframeSrc = `${ytUrl}/embed/${id}?${queryString}`;\n  const [isPreconnected, setIsPreconnected] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const [iframeInitialized, setIframeInitialized] = react__WEBPACK_IMPORTED_MODULE_0__.useState(defaultPlay);\n  const [isIframeLoaded, setIsIframeLoaded] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const warmConnections = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    if (isPreconnected)\n      return;\n    setIsPreconnected(true);\n  }, [isPreconnected]);\n  const onLoadIframe = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    if (iframeInitialized)\n      return;\n    setIframeInitialized(true);\n  }, [iframeInitialized]);\n  const onIframeLoaded = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    setIsIframeLoaded(true);\n  }, []);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preload\",\n    href: posterUrl,\n    as: \"image\"\n  }), isPreconnected && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preconnect\",\n    href: ytUrl\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preconnect\",\n    href: \"https://www.google.com\"\n  })), isPreconnected && adLinksPreconnect && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preconnect\",\n    href: \"https://static.doubleclick.net\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preconnect\",\n    href: \"https://googleads.g.doubleclick.net\"\n  })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    onClick: onLoadIframe,\n    onPointerOver: warmConnections,\n    className: cs(\n      \"notion-yt-lite\",\n      isIframeLoaded && \"notion-yt-loaded\",\n      iframeInitialized && \"notion-yt-initialized\",\n      className\n    ),\n    style\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: posterUrl,\n    className: \"notion-yt-thumbnail\",\n    loading: lazyImage ? \"lazy\" : void 0,\n    alt\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-yt-playbtn\"\n  }), iframeInitialized && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"iframe\", {\n    width: \"560\",\n    height: \"315\",\n    frameBorder: \"0\",\n    allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\n    allowFullScreen: true,\n    title: iframeTitle,\n    src: iframeSrc,\n    onLoad: onIframeLoaded\n  })));\n};\n\n// src/components/asset.tsx\nvar isServer = typeof window === \"undefined\";\nvar supportedAssetTypes = [\n  \"video\",\n  \"image\",\n  \"embed\",\n  \"figma\",\n  \"typeform\",\n  \"excalidraw\",\n  \"maps\",\n  \"tweet\",\n  \"pdf\",\n  \"gist\",\n  \"codepen\",\n  \"drive\"\n];\nvar Asset = ({ block, zoomable = true, children }) => {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n  const { recordMap, mapImageUrl, components } = useNotionContext();\n  if (!block || !supportedAssetTypes.includes(block.type)) {\n    return null;\n  }\n  const style = {\n    position: \"relative\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n    width: \"100%\",\n    maxWidth: \"100%\",\n    flexDirection: \"column\"\n  };\n  const assetStyle = {};\n  if (block.format) {\n    const {\n      block_aspect_ratio,\n      block_height,\n      block_width,\n      block_full_width,\n      block_page_width,\n      block_preserve_scale\n    } = block.format;\n    if (block_full_width || block_page_width) {\n      if (block_full_width) {\n        style.width = \"100vw\";\n      } else {\n        style.width = \"100%\";\n      }\n      if (block.type === \"video\") {\n        if (block_height) {\n          style.height = block_height;\n        } else if (block_aspect_ratio) {\n          style.paddingBottom = `${block_aspect_ratio * 100}%`;\n        } else if (block_preserve_scale) {\n          style.objectFit = \"contain\";\n        }\n      } else if (block_aspect_ratio && block.type !== \"image\") {\n        style.paddingBottom = `${block_aspect_ratio * 100}%`;\n      } else if (block_height) {\n        style.height = block_height;\n      } else if (block_preserve_scale) {\n        if (block.type === \"image\") {\n          style.height = \"100%\";\n        } else {\n          style.paddingBottom = \"75%\";\n          style.minHeight = 100;\n        }\n      }\n    } else {\n      switch ((_a = block.format) == null ? void 0 : _a.block_alignment) {\n        case \"center\": {\n          style.alignSelf = \"center\";\n          break;\n        }\n        case \"left\": {\n          style.alignSelf = \"start\";\n          break;\n        }\n        case \"right\": {\n          style.alignSelf = \"end\";\n          break;\n        }\n      }\n      if (block_width) {\n        style.width = block_width;\n      }\n      if (block_preserve_scale && block.type !== \"image\") {\n        style.paddingBottom = \"50%\";\n        style.minHeight = 100;\n      } else {\n        if (block_height && block.type !== \"image\") {\n          style.height = block_height;\n        }\n      }\n    }\n    if (block.type === \"image\") {\n      assetStyle.objectFit = \"cover\";\n    } else if (block_preserve_scale) {\n      assetStyle.objectFit = \"contain\";\n    }\n  }\n  let source = ((_b = recordMap.signed_urls) == null ? void 0 : _b[block.id]) || ((_e = (_d = (_c = block.properties) == null ? void 0 : _c.source) == null ? void 0 : _d[0]) == null ? void 0 : _e[0]);\n  let content = null;\n  if (!source) {\n    return null;\n  }\n  if (block.type === \"tweet\") {\n    const src = source;\n    if (!src)\n      return null;\n    const id = src.split(\"?\")[0].split(\"/\").pop();\n    if (!id)\n      return null;\n    content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      style: __spreadProps(__spreadValues({}, assetStyle), {\n        maxWidth: 420,\n        width: \"100%\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\"\n      })\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Tweet, {\n      id\n    }));\n  } else if (block.type === \"pdf\") {\n    style.overflow = \"auto\";\n    style.background = \"rgb(226, 226, 226)\";\n    style.display = \"block\";\n    if (!style.padding) {\n      style.padding = \"8px 16px\";\n    }\n    if (!isServer) {\n      content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Pdf, {\n        file: source\n      });\n    }\n  } else if (block.type === \"embed\" || block.type === \"video\" || block.type === \"figma\" || block.type === \"typeform\" || block.type === \"gist\" || block.type === \"maps\" || block.type === \"excalidraw\" || block.type === \"codepen\" || block.type === \"drive\") {\n    if (block.type === \"video\" && source && source.indexOf(\"youtube\") < 0 && source.indexOf(\"youtu.be\") < 0 && source.indexOf(\"vimeo\") < 0 && source.indexOf(\"wistia\") < 0 && source.indexOf(\"loom\") < 0 && source.indexOf(\"videoask\") < 0 && source.indexOf(\"getcloudapp\") < 0) {\n      style.paddingBottom = void 0;\n      content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"video\", {\n        playsInline: true,\n        controls: true,\n        preload: \"metadata\",\n        style: assetStyle,\n        src: source,\n        title: block.type\n      });\n    } else {\n      let src = ((_f = block.format) == null ? void 0 : _f.display_source) || source;\n      if (src) {\n        const youtubeVideoId = block.type === \"video\" ? getYoutubeId(src) : null;\n        if (youtubeVideoId) {\n          content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LiteYouTubeEmbed, {\n            id: youtubeVideoId,\n            style: assetStyle,\n            className: \"notion-asset-object-fit\"\n          });\n        } else if (block.type === \"gist\") {\n          if (!src.endsWith(\".pibb\")) {\n            src = `${src}.pibb`;\n          }\n          assetStyle.width = \"100%\";\n          style.paddingBottom = \"50%\";\n          content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"iframe\", {\n            style: assetStyle,\n            className: \"notion-asset-object-fit\",\n            src,\n            title: \"GitHub Gist\",\n            frameBorder: \"0\",\n            loading: \"lazy\",\n            scrolling: \"auto\"\n          });\n        } else {\n          content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"iframe\", {\n            className: \"notion-asset-object-fit\",\n            style: assetStyle,\n            src,\n            title: `iframe ${block.type}`,\n            frameBorder: \"0\",\n            allowFullScreen: true,\n            loading: \"lazy\",\n            scrolling: \"auto\"\n          });\n        }\n      }\n    }\n  } else if (block.type === \"image\") {\n    if (source.includes(\"file.notion.so\")) {\n      source = (_i = (_h = (_g = block.properties) == null ? void 0 : _g.source) == null ? void 0 : _h[0]) == null ? void 0 : _i[0];\n    }\n    const src = mapImageUrl(source, block);\n    const caption = (0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.getTextContent)((_j = block.properties) == null ? void 0 : _j.caption);\n    const alt = caption || \"notion image\";\n    content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LazyImage, {\n      src,\n      alt,\n      zoomable,\n      height: style.height,\n      style: assetStyle\n    });\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    style\n  }, content, block.type === \"image\" && children), block.type !== \"image\" && children);\n};\n\n// src/components/asset-wrapper.tsx\nvar urlStyle = { width: \"100%\" };\nvar AssetWrapper = ({ blockId, block }) => {\n  var _a, _b, _c, _d, _e, _f;\n  const value = block;\n  const { components, mapPageUrl, rootDomain, zoom } = useNotionContext();\n  let isURL = false;\n  if (block.type === \"image\") {\n    const caption = (_c = (_b = (_a = value == null ? void 0 : value.properties) == null ? void 0 : _a.caption) == null ? void 0 : _b[0]) == null ? void 0 : _c[0];\n    if (caption) {\n      const id = (0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.parsePageId)(caption, { uuid: true });\n      const isPage = caption.charAt(0) === \"/\" && id;\n      if (isPage || isValidURL(caption)) {\n        isURL = true;\n      }\n    }\n  }\n  const figure = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"figure\", {\n    className: cs(\n      \"notion-asset-wrapper\",\n      `notion-asset-wrapper-${block.type}`,\n      ((_d = value.format) == null ? void 0 : _d.block_full_width) && \"notion-asset-wrapper-full\",\n      blockId\n    )\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Asset, {\n    block: value,\n    zoomable: zoom && !isURL\n  }, ((_e = value == null ? void 0 : value.properties) == null ? void 0 : _e.caption) && !isURL && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"figcaption\", {\n    className: \"notion-asset-caption\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n    value: value.properties.caption,\n    block\n  }))));\n  if (isURL) {\n    const caption = (_f = value == null ? void 0 : value.properties) == null ? void 0 : _f.caption[0][0];\n    const id = (0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.parsePageId)(caption, { uuid: true });\n    const isPage = caption.charAt(0) === \"/\" && id;\n    const captionHostname = extractHostname(caption);\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, {\n      style: urlStyle,\n      href: isPage ? mapPageUrl(id) : caption,\n      target: captionHostname && captionHostname !== rootDomain && !caption.startsWith(\"/\") ? \"blank_\" : null\n    }, figure);\n  }\n  return figure;\n};\nfunction isValidURL(str) {\n  const pattern = new RegExp(\n    \"^(https?:\\\\/\\\\/)?((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*(\\\\?[;&a-z\\\\d%_.~+=-]*)?(\\\\#[-a-z\\\\d_]*)?$\",\n    \"i\"\n  );\n  return !!pattern.test(str);\n}\nfunction extractHostname(url) {\n  try {\n    const hostname = new URL(url).hostname;\n    return hostname;\n  } catch (err) {\n    return \"\";\n  }\n}\n\n// src/components/checkbox.tsx\n\n\n// src/icons/check.tsx\n\nfunction SvgCheck(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M5.5 12L14 3.5 12.5 2l-7 7-4-4.003L0 6.499z\"\n  }));\n}\nvar check_default = SvgCheck;\n\n// src/components/checkbox.tsx\nvar Checkbox = ({ isChecked }) => {\n  let content = null;\n  if (isChecked) {\n    content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-property-checkbox-checked\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(check_default, null));\n  } else {\n    content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-property-checkbox-unchecked\"\n    });\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"notion-property notion-property-checkbox\"\n  }, content);\n};\n\n// src/next.tsx\n\n\nvar wrapNextImage = (NextImage) => {\n  return react__WEBPACK_IMPORTED_MODULE_0__.memo(function ReactNotionXNextImage(_a) {\n    var _b = _a, {\n      src,\n      alt,\n      width,\n      height,\n      className,\n      style,\n      layout\n    } = _b, rest = __objRest(_b, [\n      \"src\",\n      \"alt\",\n      \"width\",\n      \"height\",\n      \"className\",\n      \"style\",\n      \"layout\"\n    ]);\n    if (!layout) {\n      layout = width && height ? \"intrinsic\" : \"fill\";\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NextImage, __spreadValues({\n      className,\n      src,\n      alt,\n      width: layout === \"intrinsic\" && width,\n      height: layout === \"intrinsic\" && height,\n      objectFit: style == null ? void 0 : style.objectFit,\n      objectPosition: style == null ? void 0 : style.objectPosition,\n      layout\n    }, rest));\n  }, react_fast_compare__WEBPACK_IMPORTED_MODULE_6__);\n};\nvar wrapNextLink = (NextLink) => function ReactNotionXNextLink(_a) {\n  var _b = _a, {\n    href,\n    as,\n    passHref,\n    prefetch,\n    replace,\n    scroll,\n    shallow,\n    locale\n  } = _b, linkProps = __objRest(_b, [\n    \"href\",\n    \"as\",\n    \"passHref\",\n    \"prefetch\",\n    \"replace\",\n    \"scroll\",\n    \"shallow\",\n    \"locale\"\n  ]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NextLink, {\n    href,\n    as,\n    passHref,\n    prefetch,\n    replace,\n    scroll,\n    shallow,\n    locale\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", __spreadValues({}, linkProps)));\n};\n\n// src/context.tsx\nvar DefaultLink = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", __spreadValues({\n  target: \"_blank\",\n  rel: \"noopener noreferrer\"\n}, props));\nvar DefaultLinkMemo = react__WEBPACK_IMPORTED_MODULE_0__.memo(DefaultLink);\nvar DefaultPageLink = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", __spreadValues({}, props));\nvar DefaultPageLinkMemo = react__WEBPACK_IMPORTED_MODULE_0__.memo(DefaultPageLink);\nvar DefaultEmbed = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(AssetWrapper, __spreadValues({}, props));\nvar DefaultHeader = Header;\nvar dummyComponent = (name) => () => {\n  console.warn(\n    `Warning: using empty component \"${name}\" (you should override this in NotionRenderer.components)`\n  );\n  return null;\n};\nvar dummyOverrideFn = (_, defaultValueFn) => defaultValueFn();\nvar defaultComponents = {\n  Image: null,\n  Link: DefaultLinkMemo,\n  PageLink: DefaultPageLinkMemo,\n  Checkbox,\n  Callout: void 0,\n  Code: dummyComponent(\"Code\"),\n  Equation: dummyComponent(\"Equation\"),\n  Collection: dummyComponent(\"Collection\"),\n  Property: void 0,\n  propertyTextValue: dummyOverrideFn,\n  propertySelectValue: dummyOverrideFn,\n  propertyRelationValue: dummyOverrideFn,\n  propertyFormulaValue: dummyOverrideFn,\n  propertyTitleValue: dummyOverrideFn,\n  propertyPersonValue: dummyOverrideFn,\n  propertyFileValue: dummyOverrideFn,\n  propertyCheckboxValue: dummyOverrideFn,\n  propertyUrlValue: dummyOverrideFn,\n  propertyEmailValue: dummyOverrideFn,\n  propertyPhoneNumberValue: dummyOverrideFn,\n  propertyNumberValue: dummyOverrideFn,\n  propertyLastEditedTimeValue: dummyOverrideFn,\n  propertyCreatedTimeValue: dummyOverrideFn,\n  propertyDateValue: dummyOverrideFn,\n  Pdf: dummyComponent(\"Pdf\"),\n  Tweet: dummyComponent(\"Tweet\"),\n  Modal: dummyComponent(\"Modal\"),\n  Header: DefaultHeader,\n  Embed: DefaultEmbed\n};\nvar defaultNotionContext = {\n  recordMap: {\n    block: {},\n    collection: {},\n    collection_view: {},\n    collection_query: {},\n    notion_user: {},\n    signed_urls: {}\n  },\n  components: defaultComponents,\n  mapPageUrl: defaultMapPageUrl(),\n  mapImageUrl: defaultMapImageUrl,\n  searchNotion: null,\n  isShowingSearch: false,\n  onHideSearch: null,\n  fullPage: false,\n  darkMode: false,\n  previewImages: false,\n  forceCustomImages: false,\n  showCollectionViewDropdown: true,\n  linkTableTitleProperties: true,\n  isLinkCollectionToUrlProperty: false,\n  showTableOfContents: false,\n  minTableOfContentsItems: 3,\n  defaultPageIcon: null,\n  defaultPageCover: null,\n  defaultPageCoverPosition: 0.5,\n  zoom: null\n};\nvar ctx = react__WEBPACK_IMPORTED_MODULE_0__.createContext(defaultNotionContext);\nvar NotionContextProvider = (_a) => {\n  var _b = _a, {\n    components: themeComponents = {},\n    children,\n    mapPageUrl,\n    mapImageUrl,\n    rootPageId\n  } = _b, rest = __objRest(_b, [\n    \"components\",\n    \"children\",\n    \"mapPageUrl\",\n    \"mapImageUrl\",\n    \"rootPageId\"\n  ]);\n  for (const key of Object.keys(rest)) {\n    if (rest[key] === void 0) {\n      delete rest[key];\n    }\n  }\n  const wrappedThemeComponents = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => __spreadValues({}, themeComponents),\n    [themeComponents]\n  );\n  if (wrappedThemeComponents.nextImage) {\n    wrappedThemeComponents.Image = wrapNextImage(themeComponents.nextImage);\n  }\n  if (wrappedThemeComponents.nextLink) {\n    wrappedThemeComponents.nextLink = wrapNextLink(themeComponents.nextLink);\n  }\n  for (const key of Object.keys(wrappedThemeComponents)) {\n    if (!wrappedThemeComponents[key]) {\n      delete wrappedThemeComponents[key];\n    }\n  }\n  const value = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => __spreadProps(__spreadValues(__spreadValues({}, defaultNotionContext), rest), {\n      rootPageId,\n      mapPageUrl: mapPageUrl != null ? mapPageUrl : defaultMapPageUrl(rootPageId),\n      mapImageUrl: mapImageUrl != null ? mapImageUrl : defaultMapImageUrl,\n      components: __spreadValues(__spreadValues({}, defaultComponents), wrappedThemeComponents)\n    }),\n    [mapImageUrl, mapPageUrl, wrappedThemeComponents, rootPageId, rest]\n  );\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ctx.Provider, {\n    value\n  }, children);\n};\nvar NotionContextConsumer = ctx.Consumer;\nvar useNotionContext = () => {\n  return react__WEBPACK_IMPORTED_MODULE_0__.useContext(ctx);\n};\n\n// src/third-party/equation.tsx\nvar katexSettings = {\n  throwOnError: false,\n  strict: false\n};\nvar Equation = (_a) => {\n  var _b = _a, { block, math, inline = false, className } = _b, rest = __objRest(_b, [\"block\", \"math\", \"inline\", \"className\"]);\n  const { recordMap } = useNotionContext();\n  math = math || (0,notion_utils__WEBPACK_IMPORTED_MODULE_2__.getBlockTitle)(block, recordMap);\n  if (!math)\n    return null;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    role: \"button\",\n    tabIndex: 0,\n    className: cs(\n      \"notion-equation\",\n      inline ? \"notion-equation-inline\" : \"notion-equation-block\",\n      className\n    )\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_matejmazur_react_katex__WEBPACK_IMPORTED_MODULE_1__, __spreadValues({\n    math,\n    settings: katexSettings\n  }, rest)));\n};\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3Qtbm90aW9uLXgvYnVpbGQvdGhpcmQtcGFydHkvZXF1YXRpb24uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSw2REFBNkQ7QUFDM0k7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxhQUFhO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNEZBQTRGO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRztBQUNuRyx5RUFBeUUsOEJBQThCO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixrQkFBa0I7QUFDbEIsdUJBQXVCO0FBQ3ZCLHdCQUF3QjtBQUN4QixtQkFBbUI7QUFDbkI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0RBQXFCO0FBQy9CO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywwQ0FBZTtBQUNoRCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMENBQWU7QUFDL0Isd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRCxLQUFLO0FBQ0w7QUFDQTtBQUNBLHlCQUF5QixnREFBcUI7QUFDOUM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsU0FBUyw2Q0FBa0I7QUFDM0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHlDQUF5QztBQUMxRCxVQUFVLFlBQVk7QUFDdEIsaUJBQWlCLDJEQUFjO0FBQy9CO0FBQ0E7QUFDQSx5QkFBeUIsZ0RBQXFCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxrQkFBa0IsZ0RBQXFCLENBQUMsb0RBQUs7QUFDaEQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLW5vdGlvbi1zdGFydGVyLWtpdC8uL25vZGVfbW9kdWxlcy9yZWFjdC1ub3Rpb24teC9idWlsZC90aGlyZC1wYXJ0eS9lcXVhdGlvbi5qcz8wZDEyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2NyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmUHJvcHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2dldE93blByb3BEZXNjcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzO1xudmFyIF9fZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19nZXRQcm90b09mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG52YXIgX19zcHJlYWRQcm9wcyA9IChhLCBiKSA9PiBfX2RlZlByb3BzKGEsIF9fZ2V0T3duUHJvcERlc2NzKGIpKTtcbnZhciBfX29ialJlc3QgPSAoc291cmNlLCBleGNsdWRlKSA9PiB7XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKHNvdXJjZSwgcHJvcCkgJiYgZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMClcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgaWYgKHNvdXJjZSAhPSBudWxsICYmIF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKHNvdXJjZSkpIHtcbiAgICAgIGlmIChleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwICYmIF9fcHJvcElzRW51bS5jYWxsKHNvdXJjZSwgcHJvcCkpXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xudmFyIF9fY29tbW9uSlMgPSAoY2IsIG1vZCkgPT4gZnVuY3Rpb24gX19yZXF1aXJlKCkge1xuICByZXR1cm4gbW9kIHx8ICgwLCBjYltfX2dldE93blByb3BOYW1lcyhjYilbMF1dKSgobW9kID0geyBleHBvcnRzOiB7fSB9KS5leHBvcnRzLCBtb2QpLCBtb2QuZXhwb3J0cztcbn07XG52YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20sIGV4Y2VwdCwgZGVzYykgPT4ge1xuICBpZiAoZnJvbSAmJiB0eXBlb2YgZnJvbSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgZnJvbSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIF9fZ2V0T3duUHJvcE5hbWVzKGZyb20pKVxuICAgICAgaWYgKCFfX2hhc093blByb3AuY2FsbCh0bywga2V5KSAmJiBrZXkgIT09IGV4Y2VwdClcbiAgICAgICAgX19kZWZQcm9wKHRvLCBrZXksIHsgZ2V0OiAoKSA9PiBmcm9tW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlIH0pO1xuICB9XG4gIHJldHVybiB0bztcbn07XG52YXIgX190b0VTTSA9IChtb2QsIGlzTm9kZU1vZGUsIHRhcmdldCkgPT4gKHRhcmdldCA9IG1vZCAhPSBudWxsID8gX19jcmVhdGUoX19nZXRQcm90b09mKG1vZCkpIDoge30sIF9fY29weVByb3BzKFxuICBpc05vZGVNb2RlIHx8ICFtb2QgfHwgIW1vZC5fX2VzTW9kdWxlID8gX19kZWZQcm9wKHRhcmdldCwgXCJkZWZhdWx0XCIsIHsgdmFsdWU6IG1vZCwgZW51bWVyYWJsZTogdHJ1ZSB9KSA6IHRhcmdldCxcbiAgbW9kXG4pKTtcbnZhciBfX2FzeW5jID0gKF9fdGhpcywgX19hcmd1bWVudHMsIGdlbmVyYXRvcikgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHZhciBmdWxmaWxsZWQgPSAodmFsdWUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHJlamVjdGVkID0gKHZhbHVlKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgc3RlcCA9ICh4KSA9PiB4LmRvbmUgPyByZXNvbHZlKHgudmFsdWUpIDogUHJvbWlzZS5yZXNvbHZlKHgudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KF9fdGhpcywgX19hcmd1bWVudHMpKS5uZXh0KCkpO1xuICB9KTtcbn07XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sb2Rhc2gudGhyb3R0bGUvaW5kZXguanNcbnZhciByZXF1aXJlX2xvZGFzaCA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9sb2Rhc2gudGhyb3R0bGUvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICB2YXIgRlVOQ19FUlJPUl9URVhUID0gXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCI7XG4gICAgdmFyIE5BTiA9IDAgLyAwO1xuICAgIHZhciBzeW1ib2xUYWcgPSBcIltvYmplY3QgU3ltYm9sXVwiO1xuICAgIHZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcbiAgICB2YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuICAgIHZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuICAgIHZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuICAgIHZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICB2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gXCJvYmplY3RcIiAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcbiAgICB2YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSBcIm9iamVjdFwiICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuICAgIHZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgdmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgICB2YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcbiAgICB2YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG4gICAgdmFyIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuICAgIHZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByb290LkRhdGUubm93KCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdEFyZ3MsIGxhc3RUaGlzLCBtYXhXYWl0LCByZXN1bHQsIHRpbWVySWQsIGxhc3RDYWxsVGltZSwgbGFzdEludm9rZVRpbWUgPSAwLCBsZWFkaW5nID0gZmFsc2UsIG1heGluZyA9IGZhbHNlLCB0cmFpbGluZyA9IHRydWU7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4aW5nID0gXCJtYXhXYWl0XCIgaW4gb3B0aW9ucztcbiAgICAgICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICAgICAgdHJhaWxpbmcgPSBcInRyYWlsaW5nXCIgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsIHRoaXNBcmcgPSBsYXN0VGhpcztcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHZvaWQgMDtcbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLCB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLCByZXN1bHQyID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuICAgICAgICByZXR1cm4gbWF4aW5nID8gbmF0aXZlTWluKHJlc3VsdDIsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHJlc3VsdDI7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLCB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuICAgICAgICByZXR1cm4gbGFzdENhbGxUaW1lID09PSB2b2lkIDAgfHwgdGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCB8fCB0aW1lU2luY2VMYXN0Q2FsbCA8IDAgfHwgbWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIHRpbWVySWQgPSB2b2lkIDA7XG4gICAgICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB2b2lkIDA7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aW1lcklkICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgICAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJJZCA9PT0gdm9pZCAwID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKSwgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcbiAgICAgICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICAgICAgbGFzdENhbGxUaW1lID0gdGltZTtcbiAgICAgICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgICAgICBpZiAodGltZXJJZCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lcklkID09PSB2b2lkIDApIHtcbiAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICAgICAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gICAgICByZXR1cm4gZGVib3VuY2VkO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvdHRsZTIoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlLCB0cmFpbGluZyA9IHRydWU7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gXCJsZWFkaW5nXCIgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgICAgdHJhaWxpbmcgPSBcInRyYWlsaW5nXCIgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAgICAgXCJsZWFkaW5nXCI6IGxlYWRpbmcsXG4gICAgICAgIFwibWF4V2FpdFwiOiB3YWl0LFxuICAgICAgICBcInRyYWlsaW5nXCI6IHRyYWlsaW5nXG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gXCJvYmplY3RcIiB8fCB0eXBlID09IFwiZnVuY3Rpb25cIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09IFwic3ltYm9sXCIgfHwgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSBcImZ1bmN0aW9uXCIgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyBvdGhlciArIFwiXCIgOiBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sIFwiXCIpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiBpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpIDogcmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB0aHJvdHRsZTI7XG4gIH1cbn0pO1xuXG4vLyBzcmMvdGhpcmQtcGFydHkvZXF1YXRpb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDIxIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IEthdGV4IGZyb20gXCJAbWF0ZWptYXp1ci9yZWFjdC1rYXRleFwiO1xuaW1wb3J0IHsgZ2V0QmxvY2tUaXRsZSBhcyBnZXRCbG9ja1RpdGxlNCB9IGZyb20gXCJub3Rpb24tdXRpbHNcIjtcblxuLy8gc3JjL2NvbnRleHQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDIwIGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9hc3NldC13cmFwcGVyLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxNiBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHBhcnNlUGFnZUlkIGFzIHBhcnNlUGFnZUlkMiB9IGZyb20gXCJub3Rpb24tdXRpbHNcIjtcblxuLy8gc3JjL3V0aWxzLnRzXG5pbXBvcnQgeyBpc1VybCwgZm9ybWF0RGF0ZSwgZm9ybWF0Tm90aW9uRGF0ZVRpbWUgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5cbi8vIHNyYy9tYXAtaW1hZ2UtdXJsLnRzXG52YXIgZGVmYXVsdE1hcEltYWdlVXJsID0gKHVybCwgYmxvY2spID0+IHtcbiAgaWYgKCF1cmwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodXJsLnN0YXJ0c1dpdGgoXCJkYXRhOlwiKSkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgaWYgKHVybC5zdGFydHNXaXRoKFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tXCIpKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IHUgPSBuZXcgVVJMKHVybCk7XG4gICAgaWYgKHUucGF0aG5hbWUuc3RhcnRzV2l0aChcIi9zZWN1cmUubm90aW9uLXN0YXRpYy5jb21cIikgJiYgdS5ob3N0bmFtZS5lbmRzV2l0aChcIi5hbWF6b25hd3MuY29tXCIpKSB7XG4gICAgICBpZiAodS5zZWFyY2hQYXJhbXMuaGFzKFwiWC1BbXotQ3JlZGVudGlhbFwiKSAmJiB1LnNlYXJjaFBhcmFtcy5oYXMoXCJYLUFtei1TaWduYXR1cmVcIikgJiYgdS5zZWFyY2hQYXJhbXMuaGFzKFwiWC1BbXotQWxnb3JpdGhtXCIpKSB7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgaWYgKHVybC5zdGFydHNXaXRoKFwiL2ltYWdlc1wiKSkge1xuICAgIHVybCA9IGBodHRwczovL3d3dy5ub3Rpb24uc28ke3VybH1gO1xuICB9XG4gIHVybCA9IGBodHRwczovL3d3dy5ub3Rpb24uc28ke3VybC5zdGFydHNXaXRoKFwiL2ltYWdlXCIpID8gdXJsIDogYC9pbWFnZS8ke2VuY29kZVVSSUNvbXBvbmVudCh1cmwpfWB9YDtcbiAgY29uc3Qgbm90aW9uSW1hZ2VVcmxWMiA9IG5ldyBVUkwodXJsKTtcbiAgbGV0IHRhYmxlID0gYmxvY2sucGFyZW50X3RhYmxlID09PSBcInNwYWNlXCIgPyBcImJsb2NrXCIgOiBibG9jay5wYXJlbnRfdGFibGU7XG4gIGlmICh0YWJsZSA9PT0gXCJjb2xsZWN0aW9uXCIgfHwgdGFibGUgPT09IFwidGVhbVwiKSB7XG4gICAgdGFibGUgPSBcImJsb2NrXCI7XG4gIH1cbiAgbm90aW9uSW1hZ2VVcmxWMi5zZWFyY2hQYXJhbXMuc2V0KFwidGFibGVcIiwgdGFibGUpO1xuICBub3Rpb25JbWFnZVVybFYyLnNlYXJjaFBhcmFtcy5zZXQoXCJpZFwiLCBibG9jay5pZCk7XG4gIG5vdGlvbkltYWdlVXJsVjIuc2VhcmNoUGFyYW1zLnNldChcImNhY2hlXCIsIFwidjJcIik7XG4gIHVybCA9IG5vdGlvbkltYWdlVXJsVjIudG9TdHJpbmcoKTtcbiAgcmV0dXJuIHVybDtcbn07XG5cbi8vIHNyYy9tYXAtcGFnZS11cmwudHNcbnZhciBkZWZhdWx0TWFwUGFnZVVybCA9IChyb290UGFnZUlkKSA9PiAocGFnZUlkKSA9PiB7XG4gIHBhZ2VJZCA9IChwYWdlSWQgfHwgXCJcIikucmVwbGFjZSgvLS9nLCBcIlwiKTtcbiAgaWYgKHJvb3RQYWdlSWQgJiYgcGFnZUlkID09PSByb290UGFnZUlkKSB7XG4gICAgcmV0dXJuIFwiL1wiO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBgLyR7cGFnZUlkfWA7XG4gIH1cbn07XG5cbi8vIHNyYy91dGlscy50c1xudmFyIGNzID0gKC4uLmNsYXNzZXMpID0+IGNsYXNzZXMuZmlsdGVyKChhKSA9PiAhIWEpLmpvaW4oXCIgXCIpO1xudmFyIGdldEhhc2hGcmFnbWVudFZhbHVlID0gKHVybCkgPT4ge1xuICByZXR1cm4gdXJsLmluY2x1ZGVzKFwiI1wiKSA/IHVybC5yZXBsYWNlKC9eLisoIy4rKSQvLCBcIiQxXCIpIDogXCJcIjtcbn07XG52YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcbnZhciB5b3V0dWJlRG9tYWlucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcbiAgXCJ5b3V0dS5iZVwiLFxuICBcInlvdXR1YmUuY29tXCIsXG4gIFwid3d3LnlvdXR1YmUuY29tXCIsXG4gIFwieW91dHViZS1ub2Nvb2tpZS5jb21cIixcbiAgXCJ3d3cueW91dHViZS1ub2Nvb2tpZS5jb21cIlxuXSk7XG52YXIgZ2V0WW91dHViZUlkID0gKHVybCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUgfSA9IG5ldyBVUkwodXJsKTtcbiAgICBpZiAoIXlvdXR1YmVEb21haW5zLmhhcyhob3N0bmFtZSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCByZWdFeHAgPSAvXi4qKHlvdXR1XFwuYmVcXC98dlxcL3x1XFwvXFx3XFwvfGVtYmVkXFwvfHdhdGNoXFw/dj18JnY9KShbXiMmP10qKS4qL2k7XG4gICAgY29uc3QgbWF0Y2ggPSB1cmwubWF0Y2gocmVnRXhwKTtcbiAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMl0ubGVuZ3RoID09IDExKSB7XG4gICAgICByZXR1cm4gbWF0Y2hbMl07XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyBzcmMvY29tcG9uZW50cy9lb2kudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDIgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9pY29ucy90eXBlLWdpdGh1Yi50c3hcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnVHlwZUdpdEh1Yihwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDI2MCAyNjBcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEyOC4wMDEwNiwwIEM1Ny4zMTcyOTI2LDAgMCw1Ny4zMDY2OTQyIDAsMTI4LjAwMTA2IEMwLDE4NC41NTUyODEgMzYuNjc2MTk5NywyMzIuNTM1NTQyIDg3LjUzNDkzNywyNDkuNDYwODk5IEM5My45MzIwMjIzLDI1MC42NDU3NzkgOTYuMjgwNTg4LDI0Ni42ODQxNjUgOTYuMjgwNTg4LDI0My4zMDMzMzMgQzk2LjI4MDU4OCwyNDAuMjUxMDQ1IDk2LjE2MTg4NzgsMjMwLjE2Nzg5OSA5Ni4xMDY3NzcsMjE5LjQ3MjE3NiBDNjAuNDk2NzU4NSwyMjcuMjE1MjM1IDUyLjk4MjYyMDcsMjA0LjM2OTcxMiA1Mi45ODI2MjA3LDIwNC4zNjk3MTIgQzQ3LjE1OTk1ODQsMTg5LjU3NDU5OCAzOC43NzA0MDgsMTg1LjY0MDUzOCAzOC43NzA0MDgsMTg1LjY0MDUzOCBDMjcuMTU2ODc4NSwxNzcuNjk2MTEzIDM5LjY0NTgyMDYsMTc3Ljg1OTMyNSAzOS42NDU4MjA2LDE3Ny44NTkzMjUgQzUyLjQ5OTM0MTksMTc4Ljc2MjI5MyA1OS4yNjczNjUsMTkxLjA0OTg3IDU5LjI2NzM2NSwxOTEuMDQ5ODcgQzcwLjY4Mzc2NzUsMjEwLjYxODQyMyA4OS4yMTE1NzUzLDIwNC45NjEwOTMgOTYuNTE1ODY4NSwyMDEuNjkwNDgyIEM5Ny42NjQ3MTU1LDE5My40MTc1MTIgMTAwLjk4MTk1OSwxODcuNzcwNzggMTA0LjY0MjU4MywxODQuNTc0MzU3IEM3Ni4yMTE3OTksMTgxLjMzNzY2IDQ2LjMyNDgxOSwxNzAuMzYyMTQ0IDQ2LjMyNDgxOSwxMjEuMzE1NzAyIEM0Ni4zMjQ4MTksMTA3LjM0MDg4OSA1MS4zMjUwNTg4LDk1LjkyMjM2ODIgNTkuNTEzMjQzNyw4Ni45NTgzOTM3IEM1OC4xODQyMjY4LDgzLjczNDQxNTIgNTMuODAyOTIyOSw3MC43MTU1NjIgNjAuNzUzMjM1NCw1My4wODQzNjM2IEM2MC43NTMyMzU0LDUzLjA4NDM2MzYgNzEuNTAxOTUwMSw0OS42NDQxODEzIDk1Ljk2MjY0MTIsNjYuMjA0OTU5NSBDMTA2LjE3Mjk2Nyw2My4zNjg4NzYgMTE3LjEyMzA0Nyw2MS45NDY1OTQ5IDEyOC4wMDEwNiw2MS44OTc4NDMyIEMxMzguODc5MDczLDYxLjk0NjU5NDkgMTQ5LjgzNzYzMiw2My4zNjg4NzYgMTYwLjA2NzAzMyw2Ni4yMDQ5NTk1IEMxODQuNDk4MDUsNDkuNjQ0MTgxMyAxOTUuMjMxOTI2LDUzLjA4NDM2MzYgMTk1LjIzMTkyNiw1My4wODQzNjM2IEMyMDIuMTk5MTk3LDcwLjcxNTU2MiAxOTcuODE1NzczLDgzLjczNDQxNTIgMTk2LjQ4Njc1Niw4Ni45NTgzOTM3IEMyMDQuNjk0MDE4LDk1LjkyMjM2ODIgMjA5LjY2MDM0MywxMDcuMzQwODg5IDIwOS42NjAzNDMsMTIxLjMxNTcwMiBDMjA5LjY2MDM0MywxNzAuNDc4NzI1IDE3OS43MTYxMzMsMTgxLjMwMzc0NyAxNTEuMjEzMjgxLDE4NC40NzI2MTQgQzE1NS44MDQ0MywxODguNDQ0ODI4IDE1OS44OTUzNDIsMTk2LjIzNDUxOCAxNTkuODk1MzQyLDIwOC4xNzY1OTMgQzE1OS44OTUzNDIsMjI1LjMwMzMxNyAxNTkuNzQ2OTY4LDIzOS4wODczNjEgMTU5Ljc0Njk2OCwyNDMuMzAzMzMzIEMxNTkuNzQ2OTY4LDI0Ni43MDk2MDEgMTYyLjA1MTAyLDI1MC43MDA4OSAxNjguNTM5MjUsMjQ5LjQ0Mzk0MSBDMjE5LjM3MDQzMiwyMzIuNDk5NTA3IDI1NiwxODQuNTM2MjA0IDI1NiwxMjguMDAxMDYgQzI1Niw1Ny4zMDY2OTQyIDE5OC42OTExODcsMCAxMjguMDAxMDYsMCBaIE00Ny45NDA1NTkzLDE4Mi4zNDAyMTIgQzQ3LjY1ODY0NjUsMTgyLjk3NjEwNSA0Ni42NTgxNzQ1LDE4My4xNjY4NzMgNDUuNzQ2NzI3NywxODIuNzMwMjI3IEM0NC44MTgzMjM1LDE4Mi4zMTI2NTYgNDQuMjk2ODkxNCwxODEuNDQ1NzIyIDQ0LjU5Nzg4MDgsMTgwLjgwNzcxIEM0NC44NzM0MzQ0LDE4MC4xNTI3MzkgNDUuODc2MDI2LDE3OS45NzA0NSA0Ni44MDIzMTAzLDE4MC40MDkyMTYgQzQ3LjczMjgzNDIsMTgwLjgyNjc4NiA0OC4yNjI3NDUxLDE4MS43MDIxOTkgNDcuOTQwNTU5MywxODIuMzQwMjEyIFogTTU0LjIzNjc4OTIsMTg3Ljk1ODI1NCBDNTMuNjI2MzMxOCwxODguNTI0MTk5IDUyLjQzMjk3MjMsMTg4LjI2MTM2MyA1MS42MjMyNjgyLDE4Ny4zNjY4NzQgQzUwLjc4NjAwODgsMTg2LjQ3NDUwNCA1MC42MjkxNTUzLDE4NS4yODExNDQgNTEuMjQ4MDkxMiwxODQuNzA2NzIgQzUxLjg3NzYyNTQsMTg0LjE0MDc3NSA1My4wMzQ5NTEyLDE4NC40MDU3MzEgNTMuODc0MzMwMiwxODUuMjk4MTAxIEM1NC43MTE1ODkyLDE4Ni4yMDEwNjkgNTQuODc0ODAxOSwxODcuMzg1OTUgNTQuMjM2Nzg5MiwxODcuOTU4MjU0IFogTTU4LjU1NjI0MTMsMTk1LjE0NjM0NyBDNTcuNzcxOTczMiwxOTUuNjkxMDk2IDU2LjQ4OTU4ODYsMTk1LjE4MDI2MSA1NS42OTY4NDE3LDE5NC4wNDIwMTMgQzU0LjkxMjU3MzMsMTkyLjkwMzc2NCA1NC45MTI1NzMzLDE5MS41Mzg3MTMgNTUuNzEzNzk5LDE5MC45OTE4NDUgQzU2LjUwODY2NTEsMTkwLjQ0NDk3NyA1Ny43NzE5NzMyLDE5MC45MzY3MzUgNTguNTc1MzE4MSwxOTIuMDY2NTA1IEM1OS4zNTc0NjY5LDE5My4yMjM4MyA1OS4zNTc0NjY5LDE5NC41ODg4OCA1OC41NTYyNDEzLDE5NS4xNDYzNDcgWiBNNjUuODYxMzU5MiwyMDMuNDcxMTc0IEM2NS4xNTk3NTcxLDIwNC4yNDQ4NDYgNjMuNjY1NDA4MywyMDQuMDM3MTIgNjIuNTcxNjcxNywyMDIuOTgxNTM4IEM2MS40NTI0OTk5LDIwMS45NDkyNyA2MS4xNDA5MTIyLDIwMC40ODQ1OTYgNjEuODQ0NjM0MSwxOTkuNzEwOTI2IEM2Mi41NTQ3MTQ2LDE5OC45MzUxMzcgNjQuMDU3NTQyMiwxOTkuMTUzNDYgNjUuMTU5NzU3MSwyMDAuMjAwNTY0IEM2Ni4yNzA0NTA2LDIwMS4yMzA3MTIgNjYuNjA5NTkzNiwyMDIuNzA1OTg0IDY1Ljg2MTM1OTIsMjAzLjQ3MTE3NCBaIE03NS4zMDI1MTUxLDIwNi4yODE1NDIgQzc0Ljk5MzA0NzQsMjA3LjI4NDEzNCA3My41NTM4MDksMjA3LjczOTg1NyA3Mi4xMDM5NzI0LDIwNy4zMTM4MDkgQzcwLjY1NjI1NTYsMjA2Ljg3NTA0MyA2OS43MDg3NzQ4LDIwNS43MDA3NjEgNzAuMDAxMjg1NywyMDQuNjg3NTcxIEM3MC4zMDIyNzUsMjAzLjY3ODYyMSA3MS43NDc4NzIxLDIwMy4yMDM4MiA3My4yMDgzMDY5LDIwMy42NTk1NDMgQzc0LjY1MzkwNDEsMjA0LjA5NjE5IDc1LjYwMzUwNDgsMjA1LjI2MTk5NCA3NS4zMDI1MTUxLDIwNi4yODE1NDIgWiBNODYuMDQ2OTQ3LDIwNy40NzM2MjcgQzg2LjA4Mjk4MDYsMjA4LjUyOTIwOSA4NC44NTM1ODcxLDIwOS40MDQ2MjIgODMuMzMxNjgyOSwyMDkuNDIzNyBDODEuODAxMywyMDkuNDU3NjE0IDgwLjU2MzQyOCwyMDguNjAzMzk4IDgwLjU0NjQ3MDgsMjA3LjU2NDc3MiBDODAuNTQ2NDcwOCwyMDYuNDk4NTkxIDgxLjc0ODMwODgsMjA1LjYzMTY1NyA4My4yNzg2OTE3LDIwNS42MDYyMjEgQzg0LjgwMDU5NjIsMjA1LjU3NjU0NiA4Ni4wNDY5NDcsMjA2LjQyNDQwMyA4Ni4wNDY5NDcsMjA3LjQ3MzYyNyBaIE05Ni42MDIxNDcxLDIwNy4wNjkwMjMgQzk2Ljc4NDQzNjYsMjA4LjA5OTE3MSA5NS43MjY3MzQxLDIwOS4xNTY4NzIgOTQuMjE1NDI4LDIwOS40Mzg3ODUgQzkyLjcyOTU1NzcsMjA5LjcxMDA5OSA5MS4zNTM5MDg2LDIwOS4wNzQyMDYgOTEuMTY1MjYwMywyMDguMDUyNTM4IEM5MC45ODA4NTE1LDIwNi45OTY5NTUgOTIuMDU3NjMwNiwyMDUuOTM5MjUzIDkzLjU0MTM4MTMsMjA1LjY2NTgyIEM5NS4wNTQ4MDcsMjA1LjQwMjk4NCA5Ni40MDkyNTk2LDIwNi4wMjE5MTkgOTYuNjAyMTQ3MSwyMDcuMDY5MDIzIFpcIixcbiAgICBmaWxsOiBcIiMxNjE2MTRcIlxuICB9KSkpO1xufVxudmFyIHR5cGVfZ2l0aHViX2RlZmF1bHQgPSBTdmdUeXBlR2l0SHViO1xuXG4vLyBzcmMvY29tcG9uZW50cy9lb2kudHN4XG52YXIgRU9JID0gKHsgYmxvY2ssIGlubGluZSwgY2xhc3NOYW1lIH0pID0+IHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIGNvbnN0IHsgY29tcG9uZW50cyB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBjb25zdCB7IG9yaWdpbmFsX3VybCwgYXR0cmlidXRlcywgZG9tYWluIH0gPSAoYmxvY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrLmZvcm1hdCkgfHwge307XG4gIGlmICghb3JpZ2luYWxfdXJsIHx8ICFhdHRyaWJ1dGVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgdGl0bGUgPSAoX2EgPSBhdHRyaWJ1dGVzLmZpbmQoKGF0dHIpID0+IGF0dHIuaWQgPT09IFwidGl0bGVcIikpID09IG51bGwgPyB2b2lkIDAgOiBfYS52YWx1ZXNbMF07XG4gIGxldCBvd25lciA9IChfYiA9IGF0dHJpYnV0ZXMuZmluZCgoYXR0cikgPT4gYXR0ci5pZCA9PT0gXCJvd25lclwiKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnZhbHVlc1swXTtcbiAgY29uc3QgbGFzdFVwZGF0ZWRBdCA9IChfYyA9IGF0dHJpYnV0ZXMuZmluZCgoYXR0cikgPT4gYXR0ci5pZCA9PT0gXCJ1cGRhdGVkX2F0XCIpKSA9PSBudWxsID8gdm9pZCAwIDogX2MudmFsdWVzWzBdO1xuICBjb25zdCBsYXN0VXBkYXRlZCA9IGxhc3RVcGRhdGVkQXQgPyBmb3JtYXROb3Rpb25EYXRlVGltZShsYXN0VXBkYXRlZEF0KSA6IG51bGw7XG4gIGxldCBleHRlcm5hbEltYWdlO1xuICBzd2l0Y2ggKGRvbWFpbikge1xuICAgIGNhc2UgXCJnaXRodWIuY29tXCI6XG4gICAgICBleHRlcm5hbEltYWdlID0gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KHR5cGVfZ2l0aHViX2RlZmF1bHQsIG51bGwpO1xuICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gb3duZXIuc3BsaXQoXCIvXCIpO1xuICAgICAgICBvd25lciA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmICh0cnVlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIGBVbnN1cHBvcnRlZCBleHRlcm5hbF9vYmplY3RfaW5zdGFuY2UgZG9tYWluIFwiJHtkb21haW59XCJgLFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGJsb2NrLCBudWxsLCAyKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLkxpbmssIHtcbiAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIixcbiAgICBocmVmOiBvcmlnaW5hbF91cmwsXG4gICAgY2xhc3NOYW1lOiBjcyhcbiAgICAgIFwibm90aW9uLWV4dGVybmFsXCIsXG4gICAgICBpbmxpbmUgPyBcIm5vdGlvbi1leHRlcm5hbC1tZW50aW9uXCIgOiBcIm5vdGlvbi1leHRlcm5hbC1ibG9jayBub3Rpb24tcm93XCIsXG4gICAgICBjbGFzc05hbWVcbiAgICApXG4gIH0sIGV4dGVybmFsSW1hZ2UgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWV4dGVybmFsLWltYWdlXCJcbiAgfSwgZXh0ZXJuYWxJbWFnZSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1leHRlcm5hbC1kZXNjcmlwdGlvblwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1leHRlcm5hbC10aXRsZVwiXG4gIH0sIHRpdGxlKSwgKG93bmVyIHx8IGxhc3RVcGRhdGVkKSAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tZXh0ZXJuYWwtc3VidGl0bGVcIlxuICB9LCBvd25lciAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIG93bmVyKSwgb3duZXIgJiYgbGFzdFVwZGF0ZWQgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBcIiBcXHUyMDIyIFwiKSwgbGFzdFVwZGF0ZWQgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBcIlVwZGF0ZWQgXCIsIGxhc3RVcGRhdGVkKSkpKTtcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL3RleHQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDggZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBwYXJzZVBhZ2VJZCB9IGZyb20gXCJub3Rpb24tdXRpbHNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvZ3JhY2VmdWwtaW1hZ2UudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDMgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBJbWcgfSBmcm9tIFwicmVhY3QtaW1hZ2VcIjtcbnZhciBHcmFjZWZ1bEltYWdlID0gKHByb3BzKSA9PiB7XG4gIGlmIChpc0Jyb3dzZXIpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KEltZywgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChcImltZ1wiLCBfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpKTtcbiAgfVxufTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcGFnZS10aXRsZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0NyBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGdldEJsb2NrVGl0bGUgYXMgZ2V0QmxvY2tUaXRsZTIgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhZ2UtaWNvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0NiBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGdldEJsb2NrSWNvbiwgZ2V0QmxvY2tUaXRsZSB9IGZyb20gXCJub3Rpb24tdXRpbHNcIjtcblxuLy8gc3JjL2ljb25zL2RlZmF1bHQtcGFnZS1pY29uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q0IGZyb20gXCJyZWFjdFwiO1xudmFyIERlZmF1bHRQYWdlSWNvbiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBfYSA9IHByb3BzLCB7IGNsYXNzTmFtZSB9ID0gX2EsIHJlc3QgPSBfX29ialJlc3QoX2EsIFtcImNsYXNzTmFtZVwiXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgY2xhc3NOYW1lXG4gIH0sIHJlc3QpLCB7XG4gICAgdmlld0JveDogXCIwIDAgMzAgMzBcIixcbiAgICB3aWR0aDogXCIxNlwiXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xNiwxSDR2MjhoMjJWMTFMMTYsMXogTTE2LDMuODI4TDIzLjE3MiwxMUgxNlYzLjgyOHogTTI0LDI3SDZWM2g4djEwaDEwVjI3eiBNOCwxN2gxNHYtMkg4VjE3eiBNOCwyMWgxNHYtMkg4VjIxeiBNOCwyNWgxNHYtMkg4VjI1elwiXG4gIH0pKTtcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL2xhenktaW1hZ2UudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDUgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBub3JtYWxpemVVcmwgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5pbXBvcnQgeyBJbWFnZVN0YXRlLCBMYXp5SW1hZ2VGdWxsIH0gZnJvbSBcInJlYWN0LWxhenktaW1hZ2VzXCI7XG52YXIgTGF6eUltYWdlID0gKF9hKSA9PiB7XG4gIHZhciBfYiA9IF9hLCB7XG4gICAgc3JjLFxuICAgIGFsdCxcbiAgICBjbGFzc05hbWUsXG4gICAgc3R5bGUsXG4gICAgem9vbWFibGUgPSBmYWxzZSxcbiAgICBwcmlvcml0eSA9IGZhbHNlLFxuICAgIGhlaWdodFxuICB9ID0gX2IsIHJlc3QgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcInNyY1wiLFxuICAgIFwiYWx0XCIsXG4gICAgXCJjbGFzc05hbWVcIixcbiAgICBcInN0eWxlXCIsXG4gICAgXCJ6b29tYWJsZVwiLFxuICAgIFwicHJpb3JpdHlcIixcbiAgICBcImhlaWdodFwiXG4gIF0pO1xuICB2YXIgX2EyLCBfYjIsIF9jO1xuICBjb25zdCB7IHJlY29yZE1hcCwgem9vbSwgcHJldmlld0ltYWdlcywgZm9yY2VDdXN0b21JbWFnZXMsIGNvbXBvbmVudHMgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3Qgem9vbVJlZiA9IFJlYWN0NS51c2VSZWYoem9vbSA/IHpvb20uY2xvbmUoKSA6IG51bGwpO1xuICBjb25zdCBwcmV2aWV3SW1hZ2UgPSBwcmV2aWV3SW1hZ2VzID8gKF9jID0gKF9hMiA9IHJlY29yZE1hcCA9PSBudWxsID8gdm9pZCAwIDogcmVjb3JkTWFwLnByZXZpZXdfaW1hZ2VzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyW3NyY10pICE9IG51bGwgPyBfYyA6IChfYjIgPSByZWNvcmRNYXAgPT0gbnVsbCA/IHZvaWQgMCA6IHJlY29yZE1hcC5wcmV2aWV3X2ltYWdlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMltub3JtYWxpemVVcmwoc3JjKV0gOiBudWxsO1xuICBjb25zdCBvbkxvYWQgPSBSZWFjdDUudXNlQ2FsbGJhY2soXG4gICAgKGUpID0+IHtcbiAgICAgIGlmICh6b29tYWJsZSAmJiAoZS50YXJnZXQuc3JjIHx8IGUudGFyZ2V0LnNyY3NldCkpIHtcbiAgICAgICAgaWYgKHpvb21SZWYuY3VycmVudCkge1xuICAgICAgICAgIDtcbiAgICAgICAgICB6b29tUmVmLmN1cnJlbnQuYXR0YWNoKGUudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgW3pvb21SZWYsIHpvb21hYmxlXVxuICApO1xuICBjb25zdCBhdHRhY2hab29tID0gUmVhY3Q1LnVzZUNhbGxiYWNrKFxuICAgIChpbWFnZSkgPT4ge1xuICAgICAgaWYgKHpvb21SZWYuY3VycmVudCAmJiBpbWFnZSkge1xuICAgICAgICA7XG4gICAgICAgIHpvb21SZWYuY3VycmVudC5hdHRhY2goaW1hZ2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3pvb21SZWZdXG4gICk7XG4gIGNvbnN0IGF0dGFjaFpvb21SZWYgPSBSZWFjdDUudXNlTWVtbyhcbiAgICAoKSA9PiB6b29tYWJsZSA/IGF0dGFjaFpvb20gOiB2b2lkIDAsXG4gICAgW3pvb21hYmxlLCBhdHRhY2hab29tXVxuICApO1xuICBpZiAocHJldmlld0ltYWdlKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSBwcmV2aWV3SW1hZ2Uub3JpZ2luYWxIZWlnaHQgLyBwcmV2aWV3SW1hZ2Uub3JpZ2luYWxXaWR0aDtcbiAgICBpZiAoY29tcG9uZW50cy5JbWFnZSkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLkltYWdlLCB7XG4gICAgICAgIHNyYyxcbiAgICAgICAgYWx0LFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICB3aWR0aDogcHJldmlld0ltYWdlLm9yaWdpbmFsV2lkdGgsXG4gICAgICAgIGhlaWdodDogcHJldmlld0ltYWdlLm9yaWdpbmFsSGVpZ2h0LFxuICAgICAgICBibHVyRGF0YVVSTDogcHJldmlld0ltYWdlLmRhdGFVUklCYXNlNjQsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcImJsdXJcIixcbiAgICAgICAgcHJpb3JpdHksXG4gICAgICAgIG9uTG9hZFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoTGF6eUltYWdlRnVsbCwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBzcmNcbiAgICB9LCByZXN0KSwge1xuICAgICAgZXhwZXJpbWVudGFsRGVjb2RlOiB0cnVlXG4gICAgfSksICh7IGltYWdlU3RhdGUsIHJlZiB9KSA9PiB7XG4gICAgICBjb25zdCBpc0xvYWRlZCA9IGltYWdlU3RhdGUgPT09IEltYWdlU3RhdGUuTG9hZFN1Y2Nlc3M7XG4gICAgICBjb25zdCB3cmFwcGVyU3R5bGUgPSB7XG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIlxuICAgICAgfTtcbiAgICAgIGNvbnN0IGltZ1N0eWxlID0ge307XG4gICAgICBpZiAoaGVpZ2h0KSB7XG4gICAgICAgIHdyYXBwZXJTdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbWdTdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgd3JhcHBlclN0eWxlLnBhZGRpbmdCb3R0b20gPSBgJHthc3BlY3RSYXRpbyAqIDEwMH0lYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGNzKFxuICAgICAgICAgIFwibGF6eS1pbWFnZS13cmFwcGVyXCIsXG4gICAgICAgICAgaXNMb2FkZWQgJiYgXCJsYXp5LWltYWdlLWxvYWRlZFwiLFxuICAgICAgICAgIGNsYXNzTmFtZVxuICAgICAgICApLFxuICAgICAgICBzdHlsZTogd3JhcHBlclN0eWxlXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibGF6eS1pbWFnZS1wcmV2aWV3XCIsXG4gICAgICAgIHNyYzogcHJldmlld0ltYWdlLmRhdGFVUklCYXNlNjQsXG4gICAgICAgIGFsdCxcbiAgICAgICAgcmVmLFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgZGVjb2Rpbmc6IFwiYXN5bmNcIlxuICAgICAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJsYXp5LWltYWdlLXJlYWxcIixcbiAgICAgICAgc3JjLFxuICAgICAgICBhbHQsXG4gICAgICAgIHJlZjogYXR0YWNoWm9vbVJlZixcbiAgICAgICAgc3R5bGU6IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBzdHlsZSksIGltZ1N0eWxlKSxcbiAgICAgICAgd2lkdGg6IHByZXZpZXdJbWFnZS5vcmlnaW5hbFdpZHRoLFxuICAgICAgICBoZWlnaHQ6IHByZXZpZXdJbWFnZS5vcmlnaW5hbEhlaWdodCxcbiAgICAgICAgZGVjb2Rpbmc6IFwiYXN5bmNcIixcbiAgICAgICAgbG9hZGluZzogXCJsYXp5XCJcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoY29tcG9uZW50cy5JbWFnZSAmJiBmb3JjZUN1c3RvbUltYWdlcykge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLkltYWdlLCB7XG4gICAgICAgIHNyYyxcbiAgICAgICAgYWx0LFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB3aWR0aDogbnVsbCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgfHwgbnVsbCxcbiAgICAgICAgcHJpb3JpdHksXG4gICAgICAgIG9uTG9hZFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgY2xhc3NOYW1lLFxuICAgICAgc3R5bGUsXG4gICAgICBzcmMsXG4gICAgICBhbHQsXG4gICAgICByZWY6IGF0dGFjaFpvb21SZWYsXG4gICAgICBsb2FkaW5nOiBcImxhenlcIixcbiAgICAgIGRlY29kaW5nOiBcImFzeW5jXCJcbiAgICB9LCByZXN0KSk7XG4gIH1cbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhZ2UtaWNvbi50c3hcbnZhciBpc0ljb25CbG9jayA9ICh2YWx1ZSkgPT4ge1xuICByZXR1cm4gdmFsdWUudHlwZSA9PT0gXCJwYWdlXCIgfHwgdmFsdWUudHlwZSA9PT0gXCJjYWxsb3V0XCIgfHwgdmFsdWUudHlwZSA9PT0gXCJjb2xsZWN0aW9uX3ZpZXdcIiB8fCB2YWx1ZS50eXBlID09PSBcImNvbGxlY3Rpb25fdmlld19wYWdlXCI7XG59O1xudmFyIFBhZ2VJY29uSW1wbCA9ICh7XG4gIGJsb2NrLFxuICBjbGFzc05hbWUsXG4gIGlubGluZSA9IHRydWUsXG4gIGhpZGVEZWZhdWx0SWNvbiA9IGZhbHNlLFxuICBkZWZhdWx0SWNvblxufSkgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IHsgbWFwSW1hZ2VVcmwsIHJlY29yZE1hcCwgZGFya01vZGUgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgbGV0IGlzSW1hZ2UgPSBmYWxzZTtcbiAgbGV0IGNvbnRlbnQgPSBudWxsO1xuICBpZiAoaXNJY29uQmxvY2soYmxvY2spKSB7XG4gICAgY29uc3QgaWNvbiA9ICgoX2EgPSBnZXRCbG9ja0ljb24oYmxvY2ssIHJlY29yZE1hcCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS50cmltKCkpIHx8IGRlZmF1bHRJY29uO1xuICAgIGNvbnN0IHRpdGxlID0gZ2V0QmxvY2tUaXRsZShibG9jaywgcmVjb3JkTWFwKTtcbiAgICBpZiAoaWNvbiAmJiBpc1VybChpY29uKSkge1xuICAgICAgY29uc3QgdXJsID0gbWFwSW1hZ2VVcmwoaWNvbiwgYmxvY2spO1xuICAgICAgaXNJbWFnZSA9IHRydWU7XG4gICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0Ni5jcmVhdGVFbGVtZW50KExhenlJbWFnZSwge1xuICAgICAgICBzcmM6IHVybCxcbiAgICAgICAgYWx0OiB0aXRsZSB8fCBcInBhZ2UgaWNvblwiLFxuICAgICAgICBjbGFzc05hbWU6IGNzKGNsYXNzTmFtZSwgXCJub3Rpb24tcGFnZS1pY29uXCIpXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGljb24gJiYgaWNvbi5zdGFydHNXaXRoKFwiL2ljb25zL1wiKSkge1xuICAgICAgY29uc3QgdXJsID0gXCJodHRwczovL3d3dy5ub3Rpb24uc29cIiArIGljb24gKyBcIj9tb2RlPVwiICsgKGRhcmtNb2RlID8gXCJkYXJrXCIgOiBcImxpZ2h0XCIpO1xuICAgICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDYuY3JlYXRlRWxlbWVudChMYXp5SW1hZ2UsIHtcbiAgICAgICAgc3JjOiB1cmwsXG4gICAgICAgIGFsdDogdGl0bGUgfHwgXCJwYWdlIGljb25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBjcyhjbGFzc05hbWUsIFwibm90aW9uLXBhZ2UtaWNvblwiKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICghaWNvbikge1xuICAgICAgaWYgKCFoaWRlRGVmYXVsdEljb24pIHtcbiAgICAgICAgaXNJbWFnZSA9IHRydWU7XG4gICAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQoRGVmYXVsdFBhZ2VJY29uLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjcyhjbGFzc05hbWUsIFwibm90aW9uLXBhZ2UtaWNvblwiKSxcbiAgICAgICAgICBhbHQ6IHRpdGxlID8gdGl0bGUgOiBcInBhZ2UgaWNvblwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpc0ltYWdlID0gZmFsc2U7XG4gICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0Ni5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY3MoY2xhc3NOYW1lLCBcIm5vdGlvbi1wYWdlLWljb25cIiksXG4gICAgICAgIHJvbGU6IFwiaW1nXCIsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBpY29uXG4gICAgICB9LCBpY29uKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFjb250ZW50KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDYuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjcyhcbiAgICAgIGlubGluZSA/IFwibm90aW9uLXBhZ2UtaWNvbi1pbmxpbmVcIiA6IFwibm90aW9uLXBhZ2UtaWNvbi1oZXJvXCIsXG4gICAgICBpc0ltYWdlID8gXCJub3Rpb24tcGFnZS1pY29uLWltYWdlXCIgOiBcIm5vdGlvbi1wYWdlLWljb24tc3BhblwiXG4gICAgKVxuICB9LCBjb250ZW50KTtcbn07XG52YXIgUGFnZUljb24gPSBSZWFjdDYubWVtbyhQYWdlSWNvbkltcGwpO1xuXG4vLyBzcmMvY29tcG9uZW50cy9wYWdlLXRpdGxlLnRzeFxudmFyIFBhZ2VUaXRsZUltcGwgPSAoX2EpID0+IHtcbiAgdmFyIF9iID0gX2EsIHsgYmxvY2ssIGNsYXNzTmFtZSwgZGVmYXVsdEljb24gfSA9IF9iLCByZXN0ID0gX19vYmpSZXN0KF9iLCBbXCJibG9ja1wiLCBcImNsYXNzTmFtZVwiLCBcImRlZmF1bHRJY29uXCJdKTtcbiAgdmFyIF9hMiwgX2IyO1xuICBjb25zdCB7IHJlY29yZE1hcCB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBpZiAoIWJsb2NrKVxuICAgIHJldHVybiBudWxsO1xuICBpZiAoYmxvY2sudHlwZSA9PT0gXCJjb2xsZWN0aW9uX3ZpZXdfcGFnZVwiIHx8IGJsb2NrLnR5cGUgPT09IFwiY29sbGVjdGlvbl92aWV3XCIpIHtcbiAgICBjb25zdCB0aXRsZSA9IGdldEJsb2NrVGl0bGUyKGJsb2NrLCByZWNvcmRNYXApO1xuICAgIGlmICghdGl0bGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB0aXRsZURlY29yYXRpb24gPSBbW3RpdGxlXV07XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgY2xhc3NOYW1lOiBjcyhcIm5vdGlvbi1wYWdlLXRpdGxlXCIsIGNsYXNzTmFtZSlcbiAgICB9LCByZXN0KSwgLyogQF9fUFVSRV9fICovIFJlYWN0Ny5jcmVhdGVFbGVtZW50KFBhZ2VJY29uLCB7XG4gICAgICBibG9jayxcbiAgICAgIGRlZmF1bHRJY29uLFxuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wYWdlLXRpdGxlLWljb25cIlxuICAgIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tcGFnZS10aXRsZS10ZXh0XCJcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgdmFsdWU6IHRpdGxlRGVjb3JhdGlvbixcbiAgICAgIGJsb2NrXG4gICAgfSkpKTtcbiAgfVxuICBpZiAoISgoX2EyID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi50aXRsZSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0Ny5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgY2xhc3NOYW1lOiBjcyhcIm5vdGlvbi1wYWdlLXRpdGxlXCIsIGNsYXNzTmFtZSlcbiAgfSwgcmVzdCksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChQYWdlSWNvbiwge1xuICAgIGJsb2NrLFxuICAgIGRlZmF1bHRJY29uLFxuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tcGFnZS10aXRsZS1pY29uXCJcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tcGFnZS10aXRsZS10ZXh0XCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0Ny5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICB2YWx1ZTogKF9iMiA9IGJsb2NrLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYjIudGl0bGUsXG4gICAgYmxvY2tcbiAgfSkpKTtcbn07XG52YXIgUGFnZVRpdGxlID0gUmVhY3Q3Lm1lbW8oUGFnZVRpdGxlSW1wbCk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3RleHQudHN4XG52YXIgVGV4dCA9ICh7IHZhbHVlLCBibG9jaywgbGlua1Byb3BzLCBsaW5rUHJvdG9jb2wgfSkgPT4ge1xuICBjb25zdCB7IGNvbXBvbmVudHMsIHJlY29yZE1hcCwgbWFwUGFnZVVybCwgbWFwSW1hZ2VVcmwsIHJvb3REb21haW4gfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChSZWFjdDguRnJhZ21lbnQsIG51bGwsIHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZS5tYXAoKFt0ZXh0LCBkZWNvcmF0aW9uc10sIGluZGV4KSA9PiB7XG4gICAgaWYgKCFkZWNvcmF0aW9ucykge1xuICAgICAgaWYgKHRleHQgPT09IFwiLFwiKSB7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgIHN0eWxlOiB7IHBhZGRpbmc6IFwiMC41ZW1cIiB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChSZWFjdDguRnJhZ21lbnQsIHtcbiAgICAgICAgICBrZXk6IGluZGV4XG4gICAgICAgIH0sIHRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBmb3JtYXR0ZWQgPSBkZWNvcmF0aW9ucy5yZWR1Y2UoXG4gICAgICAoZWxlbWVudCwgZGVjb3JhdG9yKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgIHN3aXRjaCAoZGVjb3JhdG9yWzBdKSB7XG4gICAgICAgICAgY2FzZSBcInBcIjoge1xuICAgICAgICAgICAgY29uc3QgYmxvY2tJZCA9IGRlY29yYXRvclsxXTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtlZEJsb2NrID0gKF9hID0gcmVjb3JkTWFwLmJsb2NrW2Jsb2NrSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWU7XG4gICAgICAgICAgICBpZiAoIWxpbmtlZEJsb2NrKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdcInBcIiBtaXNzaW5nIGJsb2NrJywgYmxvY2tJZCk7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChjb21wb25lbnRzLlBhZ2VMaW5rLCB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGlua1wiLFxuICAgICAgICAgICAgICBocmVmOiBtYXBQYWdlVXJsKGJsb2NrSWQpXG4gICAgICAgICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q4LmNyZWF0ZUVsZW1lbnQoUGFnZVRpdGxlLCB7XG4gICAgICAgICAgICAgIGJsb2NrOiBsaW5rZWRCbG9ja1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiXFx1MjAyM1wiOiB7XG4gICAgICAgICAgICBjb25zdCBsaW5rVHlwZSA9IGRlY29yYXRvclsxXVswXTtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZGVjb3JhdG9yWzFdWzFdO1xuICAgICAgICAgICAgc3dpdGNoIChsaW5rVHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwidVwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IChfYiA9IHJlY29yZE1hcC5ub3Rpb25fdXNlcltpZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYi52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdcIlxcdTIwMjNcIiBtaXNzaW5nIHVzZXInLCBpZCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IFt1c2VyLmdpdmVuX25hbWUsIHVzZXIuZmFtaWx5X25hbWVdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OC5jcmVhdGVFbGVtZW50KEdyYWNlZnVsSW1hZ2UsIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tdXNlclwiLFxuICAgICAgICAgICAgICAgICAgc3JjOiBtYXBJbWFnZVVybCh1c2VyLnByb2ZpbGVfcGhvdG8sIGJsb2NrKSxcbiAgICAgICAgICAgICAgICAgIGFsdDogbmFtZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rZWRCbG9jayA9IChfYyA9IHJlY29yZE1hcC5ibG9ja1tpZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIWxpbmtlZEJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnXCJcXHUyMDIzXCIgbWlzc2luZyBibG9jaycsIGxpbmtUeXBlLCBpZCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChjb21wb25lbnRzLlBhZ2VMaW5rLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGlua1wiLFxuICAgICAgICAgICAgICAgICAgaHJlZjogbWFwUGFnZVVybChpZClcbiAgICAgICAgICAgICAgICB9LCBsaW5rUHJvcHMpLCB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgICAgICAgICAgICByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChQYWdlVGl0bGUsIHtcbiAgICAgICAgICAgICAgICAgIGJsb2NrOiBsaW5rZWRCbG9ja1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiaFwiOlxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IGBub3Rpb24tJHtkZWNvcmF0b3JbMV19YFxuICAgICAgICAgICAgfSwgZWxlbWVudCk7XG4gICAgICAgICAgY2FzZSBcImNcIjpcbiAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4LmNyZWF0ZUVsZW1lbnQoXCJjb2RlXCIsIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1pbmxpbmUtY29kZVwiXG4gICAgICAgICAgICB9LCBlbGVtZW50KTtcbiAgICAgICAgICBjYXNlIFwiYlwiOlxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcImJcIiwgbnVsbCwgZWxlbWVudCk7XG4gICAgICAgICAgY2FzZSBcImlcIjpcbiAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4LmNyZWF0ZUVsZW1lbnQoXCJlbVwiLCBudWxsLCBlbGVtZW50KTtcbiAgICAgICAgICBjYXNlIFwic1wiOlxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChcInNcIiwgbnVsbCwgZWxlbWVudCk7XG4gICAgICAgICAgY2FzZSBcIl9cIjpcbiAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1pbmxpbmUtdW5kZXJzY29yZVwiXG4gICAgICAgICAgICB9LCBlbGVtZW50KTtcbiAgICAgICAgICBjYXNlIFwiZVwiOlxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChjb21wb25lbnRzLkVxdWF0aW9uLCB7XG4gICAgICAgICAgICAgIG1hdGg6IGRlY29yYXRvclsxXSxcbiAgICAgICAgICAgICAgaW5saW5lOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwibVwiOlxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgICAgY2FzZSBcImFcIjoge1xuICAgICAgICAgICAgY29uc3QgdiA9IGRlY29yYXRvclsxXTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhuYW1lID0gdi5zdWJzdHIoMSk7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHBhcnNlUGFnZUlkKHBhdGhuYW1lLCB7IHV1aWQ6IHRydWUgfSk7XG4gICAgICAgICAgICBpZiAoKHZbMF0gPT09IFwiL1wiIHx8IHYuaW5jbHVkZXMocm9vdERvbWFpbikpICYmIGlkKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGhyZWYgPSB2LmluY2x1ZGVzKHJvb3REb21haW4pID8gdiA6IGAke21hcFBhZ2VVcmwoaWQpfSR7Z2V0SGFzaEZyYWdtZW50VmFsdWUodil9YDtcbiAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChjb21wb25lbnRzLlBhZ2VMaW5rLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1saW5rXCIsXG4gICAgICAgICAgICAgICAgaHJlZlxuICAgICAgICAgICAgICB9LCBsaW5rUHJvcHMpLCBlbGVtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4LmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50cy5MaW5rLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1saW5rXCIsXG4gICAgICAgICAgICAgICAgaHJlZjogbGlua1Byb3RvY29sID8gYCR7bGlua1Byb3RvY29sfToke2RlY29yYXRvclsxXX1gIDogZGVjb3JhdG9yWzFdXG4gICAgICAgICAgICAgIH0sIGxpbmtQcm9wcyksIGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiZFwiOiB7XG4gICAgICAgICAgICBjb25zdCB2ID0gZGVjb3JhdG9yWzFdO1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHYgPT0gbnVsbCA/IHZvaWQgMCA6IHYudHlwZTtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBcImRhdGVcIikge1xuICAgICAgICAgICAgICBjb25zdCBzdGFydERhdGUgPSB2LnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgIHJldHVybiBmb3JtYXREYXRlKHN0YXJ0RGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiZGF0ZXJhbmdlXCIpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gdi5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICBjb25zdCBlbmREYXRlID0gdi5lbmRfZGF0ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIGAke2Zvcm1hdERhdGUoc3RhcnREYXRlKX0gXFx1MjE5MiAke2Zvcm1hdERhdGUoZW5kRGF0ZSl9YDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwidVwiOiB7XG4gICAgICAgICAgICBjb25zdCB1c2VySWQgPSBkZWNvcmF0b3JbMV07XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gKF9kID0gcmVjb3JkTWFwLm5vdGlvbl91c2VyW3VzZXJJZF0pID09IG51bGwgPyB2b2lkIDAgOiBfZC52YWx1ZTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm1pc3NpbmcgdXNlclwiLCB1c2VySWQpO1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBbdXNlci5naXZlbl9uYW1lLCB1c2VyLmZhbWlseV9uYW1lXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIik7XG4gICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OC5jcmVhdGVFbGVtZW50KEdyYWNlZnVsSW1hZ2UsIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi11c2VyXCIsXG4gICAgICAgICAgICAgIHNyYzogbWFwSW1hZ2VVcmwodXNlci5wcm9maWxlX3Bob3RvLCBibG9jayksXG4gICAgICAgICAgICAgIGFsdDogbmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJlb2lcIjoge1xuICAgICAgICAgICAgY29uc3QgYmxvY2tJZCA9IGRlY29yYXRvclsxXTtcbiAgICAgICAgICAgIGNvbnN0IGV4dGVybmFsT2JqZWN0SW5zdGFuY2UgPSAoX2UgPSByZWNvcmRNYXAuYmxvY2tbYmxvY2tJZF0pID09IG51bGwgPyB2b2lkIDAgOiBfZS52YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q4LmNyZWF0ZUVsZW1lbnQoRU9JLCB7XG4gICAgICAgICAgICAgIGJsb2NrOiBleHRlcm5hbE9iamVjdEluc3RhbmNlLFxuICAgICAgICAgICAgICBpbmxpbmU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKHRydWUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1bnN1cHBvcnRlZCB0ZXh0IGZvcm1hdFwiLCBkZWNvcmF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvKiBAX19QVVJFX18gKi8gUmVhY3Q4LmNyZWF0ZUVsZW1lbnQoUmVhY3Q4LkZyYWdtZW50LCBudWxsLCB0ZXh0KVxuICAgICk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDguY3JlYXRlRWxlbWVudChSZWFjdDguRnJhZ21lbnQsIHtcbiAgICAgIGtleTogaW5kZXhcbiAgICB9LCBmb3JtYXR0ZWQpO1xuICB9KSk7XG59O1xuXG4vLyBzcmMvY29tcG9uZW50cy9oZWFkZXIudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDEzIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZ2V0UGFnZUJyZWFkY3J1bWJzIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuaW1wb3J0IHsgdXNlSG90a2V5cyB9IGZyb20gXCJyZWFjdC1ob3RrZXlzLWhvb2tcIjtcblxuLy8gc3JjL2ljb25zL3NlYXJjaC1pY29uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q5IGZyb20gXCJyZWFjdFwiO1xudmFyIFNlYXJjaEljb24gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgX2EgPSBwcm9wcywgeyBjbGFzc05hbWUgfSA9IF9hLCByZXN0ID0gX19vYmpSZXN0KF9hLCBbXCJjbGFzc05hbWVcIl0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICBjbGFzc05hbWU6IGNzKFwibm90aW9uLWljb25cIiwgY2xhc3NOYW1lKSxcbiAgICB2aWV3Qm94OiBcIjAgMCAxNyAxN1wiXG4gIH0sIHJlc3QpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk02Ljc4MDI3IDEzLjY3MjlDOC4yNDgwNSAxMy42NzI5IDkuNjAxNTYgMTMuMTk4MiAxMC43MDkgMTIuNDA3MkwxNC44NzUgMTYuNTczMkMxNS4wNjg0IDE2Ljc2NjYgMTUuMzIzMiAxNi44NjMzIDE1LjU5NTcgMTYuODYzM0MxNi4xNjcgMTYuODYzMyAxNi41NzEzIDE2LjQyMzggMTYuNTcxMyAxNS44NjEzQzE2LjU3MTMgMTUuNTk3NyAxNi40ODM0IDE1LjM1MTYgMTYuMjkgMTUuMTU4MkwxMi4xNTA0IDExLjAwOThDMTMuMDIwNSA5Ljg2NzE5IDEzLjUzOTEgOC40NTIxNSAxMy41MzkxIDYuOTE0MDZDMTMuNTM5MSAzLjE5NjI5IDEwLjQ5OCAwLjE1NTI3MyA2Ljc4MDI3IDAuMTU1MjczQzMuMDYyNSAwLjE1NTI3MyAwLjAyMTQ4NDQgMy4xOTYyOSAwLjAyMTQ4NDQgNi45MTQwNkMwLjAyMTQ4NDQgMTAuNjMxOCAzLjA2MjUgMTMuNjcyOSA2Ljc4MDI3IDEzLjY3MjlaTTYuNzgwMjcgMTIuMjEzOUMzLjg3OTg4IDEyLjIxMzkgMS40ODA0NyA5LjgxNDQ1IDEuNDgwNDcgNi45MTQwNkMxLjQ4MDQ3IDQuMDEzNjcgMy44Nzk4OCAxLjYxNDI2IDYuNzgwMjcgMS42MTQyNkM5LjY4MDY2IDEuNjE0MjYgMTIuMDgwMSA0LjAxMzY3IDEyLjA4MDEgNi45MTQwNkMxMi4wODAxIDkuODE0NDUgOS42ODA2NiAxMi4yMTM5IDYuNzgwMjcgMTIuMjEzOVpcIlxuICB9KSk7XG59O1xuXG4vLyBzcmMvY29tcG9uZW50cy9zZWFyY2gtZGlhbG9nLnRzeFxudmFyIGltcG9ydF9sb2Rhc2ggPSBfX3RvRVNNKHJlcXVpcmVfbG9kYXNoKCksIDEpO1xuaW1wb3J0ICogYXMgUmVhY3QxMiBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGdldEJsb2NrUGFyZW50UGFnZSwgZ2V0QmxvY2tUaXRsZSBhcyBnZXRCbG9ja1RpdGxlMyB9IGZyb20gXCJub3Rpb24tdXRpbHNcIjtcblxuLy8gc3JjL2ljb25zL2NsZWFyLWljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDEwIGZyb20gXCJyZWFjdFwiO1xudmFyIENsZWFySWNvbiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBfYSA9IHByb3BzLCB7IGNsYXNzTmFtZSB9ID0gX2EsIHJlc3QgPSBfX29ialJlc3QoX2EsIFtcImNsYXNzTmFtZVwiXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNsYXNzTmFtZTogY3MoXCJub3Rpb24taWNvblwiLCBjbGFzc05hbWUpXG4gIH0sIHJlc3QpLCB7XG4gICAgdmlld0JveDogXCIwIDAgMzAgMzBcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTE1LDBDNi43MTYsMCwwLDYuNzE2LDAsMTVzNi43MTYsMTUsMTUsMTVzMTUtNi43MTYsMTUtMTVTMjMuMjg0LDAsMTUsMHogTTIyLDIwLjZMMjAuNiwyMkwxNSwxNi40TDkuNCwyMkw4LDIwLjZsNS42LTUuNiBMOCw5LjRMOS40LDhsNS42LDUuNkwyMC42LDhMMjIsOS40TDE2LjQsMTVMMjIsMjAuNnpcIlxuICB9KSk7XG59O1xuXG4vLyBzcmMvaWNvbnMvbG9hZGluZy1pY29uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxMSBmcm9tIFwicmVhY3RcIjtcbnZhciBMb2FkaW5nSWNvbiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBfYSA9IHByb3BzLCB7IGNsYXNzTmFtZSB9ID0gX2EsIHJlc3QgPSBfX29ialJlc3QoX2EsIFtcImNsYXNzTmFtZVwiXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNsYXNzTmFtZTogY3MoXCJub3Rpb24taWNvblwiLCBjbGFzc05hbWUpXG4gIH0sIHJlc3QpLCB7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChcImRlZnNcIiwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChcImxpbmVhckdyYWRpZW50XCIsIHtcbiAgICB4MTogXCIyOC4xNTQyOTY5JVwiLFxuICAgIHkxOiBcIjYzLjc0MDIzNDQlXCIsXG4gICAgeDI6IFwiNzQuNjI4OTA2MiVcIixcbiAgICB5MjogXCIxNy43ODMyMDMxJVwiLFxuICAgIGlkOiBcImxpbmVhckdyYWRpZW50LTFcIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFwic3RvcFwiLCB7XG4gICAgc3RvcENvbG9yOiBcInJnYmEoMTY0LCAxNjQsIDE2NCwgMSlcIixcbiAgICBvZmZzZXQ6IFwiMCVcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChcInN0b3BcIiwge1xuICAgIHN0b3BDb2xvcjogXCJyZ2JhKDE2NCwgMTY0LCAxNjQsIDApXCIsXG4gICAgc3RvcE9wYWNpdHk6IFwiMFwiLFxuICAgIG9mZnNldDogXCIxMDAlXCJcbiAgfSkpKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIGlkOiBcIlBhZ2UtMVwiLFxuICAgIHN0cm9rZTogXCJub25lXCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMVwiLFxuICAgIGZpbGw6IFwibm9uZVwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC0yMzYuMDAwMDAwLCAtMjg2LjAwMDAwMClcIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgyMzguMDAwMDAwLCAyODYuMDAwMDAwKVwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXCJjaXJjbGVcIiwge1xuICAgIGlkOiBcIk92YWwtMlwiLFxuICAgIHN0cm9rZTogXCJ1cmwoI2xpbmVhckdyYWRpZW50LTEpXCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiNFwiLFxuICAgIGN4OiBcIjEwXCIsXG4gICAgY3k6IFwiMTJcIixcbiAgICByOiBcIjEwXCJcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMCwyIEM0LjQ3NzE1MjUsMiAwLDYuNDc3MTUyNSAwLDEyXCIsXG4gICAgaWQ6IFwiT3ZhbC0yXCIsXG4gICAgc3Ryb2tlOiBcInJnYmEoMTY0LCAxNjQsIDE2NCwgMSlcIixcbiAgICBzdHJva2VXaWR0aDogXCI0XCJcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIHtcbiAgICBpZDogXCJSZWN0YW5nbGUtMVwiLFxuICAgIGZpbGw6IFwicmdiYSgxNjQsIDE2NCwgMTY0LCAxKVwiLFxuICAgIHg6IFwiOFwiLFxuICAgIHk6IFwiMFwiLFxuICAgIHdpZHRoOiBcIjRcIixcbiAgICBoZWlnaHQ6IFwiNFwiLFxuICAgIHJ4OiBcIjhcIlxuICB9KSkpKSk7XG59O1xuXG4vLyBzcmMvY29tcG9uZW50cy9zZWFyY2gtZGlhbG9nLnRzeFxudmFyIFNlYXJjaERpYWxvZyA9IGNsYXNzIGV4dGVuZHMgUmVhY3QxMi5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIHF1ZXJ5OiBcIlwiLFxuICAgICAgc2VhcmNoUmVzdWx0OiBudWxsLFxuICAgICAgc2VhcmNoRXJyb3I6IG51bGxcbiAgICB9O1xuICAgIHRoaXMuX29uQWZ0ZXJPcGVuID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2lucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdGhpcy5faW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5fb25DaGFuZ2VRdWVyeSA9IChlKSA9PiB7XG4gICAgICBjb25zdCBxdWVyeSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHF1ZXJ5IH0pO1xuICAgICAgaWYgKCFxdWVyeS50cmltKCkpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UsIHNlYXJjaFJlc3VsdDogbnVsbCwgc2VhcmNoRXJyb3I6IG51bGwgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3NlYXJjaCgpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5fb25DbGVhclF1ZXJ5ID0gKCkgPT4ge1xuICAgICAgdGhpcy5fb25DaGFuZ2VRdWVyeSh7IHRhcmdldDogeyB2YWx1ZTogXCJcIiB9IH0pO1xuICAgIH07XG4gICAgdGhpcy5fd2FybXVwU2VhcmNoID0gKCkgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgeyBzZWFyY2hOb3Rpb24sIHJvb3RCbG9ja0lkIH0gPSB0aGlzLnByb3BzO1xuICAgICAgeWllbGQgc2VhcmNoTm90aW9uKHtcbiAgICAgICAgcXVlcnk6IFwiXCIsXG4gICAgICAgIGFuY2VzdG9ySWQ6IHJvb3RCbG9ja0lkXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZWFyY2hJbXBsID0gKCkgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgeyBzZWFyY2hOb3Rpb24sIHJvb3RCbG9ja0lkIH0gPSB0aGlzLnByb3BzO1xuICAgICAgY29uc3QgeyBxdWVyeSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgIGlmICghcXVlcnkudHJpbSgpKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlLCBzZWFyY2hSZXN1bHQ6IG51bGwsIHNlYXJjaEVycm9yOiBudWxsIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiB0cnVlIH0pO1xuICAgICAgY29uc3QgcmVzdWx0ID0geWllbGQgc2VhcmNoTm90aW9uKHtcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGFuY2VzdG9ySWQ6IHJvb3RCbG9ja0lkXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKFwic2VhcmNoXCIsIHF1ZXJ5LCByZXN1bHQpO1xuICAgICAgbGV0IHNlYXJjaFJlc3VsdCA9IG51bGw7XG4gICAgICBsZXQgc2VhcmNoRXJyb3IgPSBudWxsO1xuICAgICAgaWYgKHJlc3VsdC5lcnJvciB8fCByZXN1bHQuZXJyb3JJZCkge1xuICAgICAgICBzZWFyY2hFcnJvciA9IHJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlYXJjaFJlc3VsdCA9IF9fc3ByZWFkVmFsdWVzKHt9LCByZXN1bHQpO1xuICAgICAgICBjb25zdCByZXN1bHRzID0gc2VhcmNoUmVzdWx0LnJlc3VsdHMubWFwKChyZXN1bHQyKSA9PiB7XG4gICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICBjb25zdCBibG9jayA9IChfYSA9IHNlYXJjaFJlc3VsdC5yZWNvcmRNYXAuYmxvY2tbcmVzdWx0Mi5pZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS52YWx1ZTtcbiAgICAgICAgICBpZiAoIWJsb2NrKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHRpdGxlID0gZ2V0QmxvY2tUaXRsZTMoYmxvY2ssIHNlYXJjaFJlc3VsdC5yZWNvcmRNYXApO1xuICAgICAgICAgIGlmICghdGl0bGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0Mi50aXRsZSA9IHRpdGxlO1xuICAgICAgICAgIHJlc3VsdDIuYmxvY2sgPSBibG9jaztcbiAgICAgICAgICByZXN1bHQyLnJlY29yZE1hcCA9IHNlYXJjaFJlc3VsdC5yZWNvcmRNYXA7XG4gICAgICAgICAgcmVzdWx0Mi5wYWdlID0gZ2V0QmxvY2tQYXJlbnRQYWdlKGJsb2NrLCBzZWFyY2hSZXN1bHQucmVjb3JkTWFwLCB7XG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWVcbiAgICAgICAgICB9KSB8fCBibG9jaztcbiAgICAgICAgICBpZiAoIXJlc3VsdDIucGFnZS5pZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoKF9iID0gcmVzdWx0Mi5oaWdobGlnaHQpID09IG51bGwgPyB2b2lkIDAgOiBfYi50ZXh0KSB7XG4gICAgICAgICAgICByZXN1bHQyLmhpZ2hsaWdodC5odG1sID0gcmVzdWx0Mi5oaWdobGlnaHQudGV4dC5yZXBsYWNlKC88Z3prTmZvVVU+L2dpLCBcIjxiPlwiKS5yZXBsYWNlKC88XFwvZ3prTmZvVVU+L2dpLCBcIjwvYj5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQyO1xuICAgICAgICB9KS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdHNNYXAgPSByZXN1bHRzLnJlZHVjZShcbiAgICAgICAgICAobWFwLCByZXN1bHQyKSA9PiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBtYXApLCB7XG4gICAgICAgICAgICBbcmVzdWx0Mi5wYWdlLmlkXTogcmVzdWx0MlxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHt9XG4gICAgICAgICk7XG4gICAgICAgIHNlYXJjaFJlc3VsdC5yZXN1bHRzID0gT2JqZWN0LnZhbHVlcyhzZWFyY2hSZXN1bHRzTWFwKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0YXRlLnF1ZXJ5ID09PSBxdWVyeSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiBmYWxzZSwgc2VhcmNoUmVzdWx0LCBzZWFyY2hFcnJvciB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9pbnB1dFJlZiA9IFJlYWN0MTIuY3JlYXRlUmVmKCk7XG4gIH1cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5fc2VhcmNoID0gKDAsIGltcG9ydF9sb2Rhc2guZGVmYXVsdCkodGhpcy5fc2VhcmNoSW1wbC5iaW5kKHRoaXMpLCAxZTMpO1xuICAgIHRoaXMuX3dhcm11cFNlYXJjaCgpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGlzT3Blbiwgb25DbG9zZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IGlzTG9hZGluZywgcXVlcnksIHNlYXJjaFJlc3VsdCwgc2VhcmNoRXJyb3IgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgaGFzUXVlcnkgPSAhIXF1ZXJ5LnRyaW0oKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChOb3Rpb25Db250ZXh0Q29uc3VtZXIsIG51bGwsIChjdHgyKSA9PiB7XG4gICAgICBjb25zdCB7IGNvbXBvbmVudHMsIGRlZmF1bHRQYWdlSWNvbiwgbWFwUGFnZVVybCB9ID0gY3R4MjtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuTW9kYWwsIHtcbiAgICAgICAgaXNPcGVuLFxuICAgICAgICBjb250ZW50TGFiZWw6IFwiU2VhcmNoXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tc2VhcmNoXCIsXG4gICAgICAgIG92ZXJsYXlDbGFzc05hbWU6IFwibm90aW9uLXNlYXJjaC1vdmVybGF5XCIsXG4gICAgICAgIG9uUmVxdWVzdENsb3NlOiBvbkNsb3NlLFxuICAgICAgICBvbkFmdGVyT3BlbjogdGhpcy5fb25BZnRlck9wZW5cbiAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicXVpY2tGaW5kTWVudVwiXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInNlYXJjaEJhclwiXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImlubGluZUljb25cIlxuICAgICAgfSwgaXNMb2FkaW5nID8gLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChMb2FkaW5nSWNvbiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibG9hZGluZ0ljb25cIlxuICAgICAgfSkgOiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFNlYXJjaEljb24sIG51bGwpKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInNlYXJjaElucHV0XCIsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcIlNlYXJjaFwiLFxuICAgICAgICB2YWx1ZTogcXVlcnksXG4gICAgICAgIHJlZjogdGhpcy5faW5wdXRSZWYsXG4gICAgICAgIG9uQ2hhbmdlOiB0aGlzLl9vbkNoYW5nZVF1ZXJ5XG4gICAgICB9KSwgcXVlcnkgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJjbGVhckJ1dHRvblwiLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLl9vbkNsZWFyUXVlcnlcbiAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoQ2xlYXJJY29uLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjbGVhckljb25cIlxuICAgICAgfSkpKSwgaGFzUXVlcnkgJiYgc2VhcmNoUmVzdWx0ICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoUmVhY3QxMi5GcmFnbWVudCwgbnVsbCwgc2VhcmNoUmVzdWx0LnJlc3VsdHMubGVuZ3RoID8gLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChOb3Rpb25Db250ZXh0UHJvdmlkZXIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGN0eDIpLCB7XG4gICAgICAgIHJlY29yZE1hcDogc2VhcmNoUmVzdWx0LnJlY29yZE1hcFxuICAgICAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicmVzdWx0c1BhbmVcIlxuICAgICAgfSwgc2VhcmNoUmVzdWx0LnJlc3VsdHMubWFwKChyZXN1bHQpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLlBhZ2VMaW5rLCB7XG4gICAgICAgICAga2V5OiByZXN1bHQuaWQsXG4gICAgICAgICAgY2xhc3NOYW1lOiBjcyhcInJlc3VsdFwiLCBcIm5vdGlvbi1wYWdlLWxpbmtcIiksXG4gICAgICAgICAgaHJlZjogbWFwUGFnZVVybChcbiAgICAgICAgICAgIHJlc3VsdC5wYWdlLmlkLFxuICAgICAgICAgICAgc2VhcmNoUmVzdWx0LnJlY29yZE1hcFxuICAgICAgICAgIClcbiAgICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChQYWdlVGl0bGUsIHtcbiAgICAgICAgICBibG9jazogcmVzdWx0LnBhZ2UsXG4gICAgICAgICAgZGVmYXVsdEljb246IGRlZmF1bHRQYWdlSWNvblxuICAgICAgICB9KSwgKChfYSA9IHJlc3VsdC5oaWdobGlnaHQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5odG1sKSAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLXNlYXJjaC1yZXN1bHQtaGlnaGxpZ2h0XCIsXG4gICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgICAgIF9faHRtbDogcmVzdWx0LmhpZ2hsaWdodC5odG1sXG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICB9KSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXCJmb290ZXJcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicmVzdWx0c0Zvb3RlclwiXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInJlc3VsdHNDb3VudFwiXG4gICAgICB9LCBzZWFyY2hSZXN1bHQudG90YWwpLCBzZWFyY2hSZXN1bHQudG90YWwgPT09IDEgPyBcIiByZXN1bHRcIiA6IFwiIHJlc3VsdHNcIikpKSA6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibm9SZXN1bHRzUGFuZVwiXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm5vUmVzdWx0c1wiXG4gICAgICB9LCBcIk5vIHJlc3VsdHNcIiksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibm9SZXN1bHRzRGV0YWlsXCJcbiAgICAgIH0sIFwiVHJ5IGRpZmZlcmVudCBzZWFyY2ggdGVybXNcIikpKSwgaGFzUXVlcnkgJiYgIXNlYXJjaFJlc3VsdCAmJiBzZWFyY2hFcnJvciAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm5vUmVzdWx0c1BhbmVcIlxuICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJub1Jlc3VsdHNcIlxuICAgICAgfSwgXCJTZWFyY2ggZXJyb3JcIikpKSk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL2hlYWRlci50c3hcbnZhciBIZWFkZXIgPSAoeyBibG9jayB9KSA9PiB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMy5jcmVhdGVFbGVtZW50KFwiaGVhZGVyXCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWhlYWRlclwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbmF2LWhlYWRlclwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoQnJlYWRjcnVtYnMsIHtcbiAgICBibG9ja1xuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTMuY3JlYXRlRWxlbWVudChTZWFyY2gsIHtcbiAgICBibG9ja1xuICB9KSkpO1xufTtcbnZhciBCcmVhZGNydW1icyA9ICh7IGJsb2NrLCByb290T25seSA9IGZhbHNlIH0pID0+IHtcbiAgY29uc3QgeyByZWNvcmRNYXAsIG1hcFBhZ2VVcmwsIGNvbXBvbmVudHMgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3QgYnJlYWRjcnVtYnMgPSBSZWFjdDEzLnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGJyZWFkY3J1bWJzMiA9IGdldFBhZ2VCcmVhZGNydW1icyhyZWNvcmRNYXAsIGJsb2NrLmlkKTtcbiAgICBpZiAocm9vdE9ubHkpIHtcbiAgICAgIHJldHVybiBbYnJlYWRjcnVtYnMyWzBdXS5maWx0ZXIoQm9vbGVhbik7XG4gICAgfVxuICAgIHJldHVybiBicmVhZGNydW1iczI7XG4gIH0sIFtyZWNvcmRNYXAsIGJsb2NrLmlkLCByb290T25seV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTMuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJyZWFkY3J1bWJzXCIsXG4gICAga2V5OiBcImJyZWFkY3J1bWJzXCJcbiAgfSwgYnJlYWRjcnVtYnMubWFwKChicmVhZGNydW1iLCBpbmRleCkgPT4ge1xuICAgIGlmICghYnJlYWRjcnVtYikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhZ2VMaW5rUHJvcHMgPSB7fTtcbiAgICBjb25zdCBjb21wb25lbnRNYXAgPSB7XG4gICAgICBwYWdlTGluazogY29tcG9uZW50cy5QYWdlTGlua1xuICAgIH07XG4gICAgaWYgKGJyZWFkY3J1bWIuYWN0aXZlKSB7XG4gICAgICBjb21wb25lbnRNYXAucGFnZUxpbmsgPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhZ2VMaW5rUHJvcHMuaHJlZiA9IG1hcFBhZ2VVcmwoYnJlYWRjcnVtYi5wYWdlSWQpO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTMuY3JlYXRlRWxlbWVudChSZWFjdDEzLkZyYWdtZW50LCB7XG4gICAgICBrZXk6IGJyZWFkY3J1bWIucGFnZUlkXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTMuY3JlYXRlRWxlbWVudChjb21wb25lbnRNYXAucGFnZUxpbmssIF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgIGNsYXNzTmFtZTogY3MoXCJicmVhZGNydW1iXCIsIGJyZWFkY3J1bWIuYWN0aXZlICYmIFwiYWN0aXZlXCIpXG4gICAgfSwgcGFnZUxpbmtQcm9wcyksIGJyZWFkY3J1bWIuaWNvbiAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMy5jcmVhdGVFbGVtZW50KFBhZ2VJY29uLCB7XG4gICAgICBjbGFzc05hbWU6IFwiaWNvblwiLFxuICAgICAgYmxvY2s6IGJyZWFkY3J1bWIuYmxvY2tcbiAgICB9KSwgYnJlYWRjcnVtYi50aXRsZSAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMy5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidGl0bGVcIlxuICAgIH0sIGJyZWFkY3J1bWIudGl0bGUpKSwgaW5kZXggPCBicmVhZGNydW1icy5sZW5ndGggLSAxICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJzcGFjZXJcIlxuICAgIH0sIFwiL1wiKSk7XG4gIH0pKTtcbn07XG52YXIgU2VhcmNoID0gKHsgYmxvY2ssIHNlYXJjaCwgdGl0bGUgPSBcIlNlYXJjaFwiIH0pID0+IHtcbiAgY29uc3QgeyBzZWFyY2hOb3Rpb24sIHJvb3RQYWdlSWQsIGlzU2hvd2luZ1NlYXJjaCwgb25IaWRlU2VhcmNoIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIGNvbnN0IG9uU2VhcmNoTm90aW9uID0gc2VhcmNoIHx8IHNlYXJjaE5vdGlvbjtcbiAgY29uc3QgW2lzU2VhcmNoT3Blbiwgc2V0SXNTZWFyY2hPcGVuXSA9IFJlYWN0MTMudXNlU3RhdGUoaXNTaG93aW5nU2VhcmNoKTtcbiAgUmVhY3QxMy51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldElzU2VhcmNoT3Blbihpc1Nob3dpbmdTZWFyY2gpO1xuICB9LCBbaXNTaG93aW5nU2VhcmNoXSk7XG4gIGNvbnN0IG9uT3BlblNlYXJjaCA9IFJlYWN0MTMudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldElzU2VhcmNoT3Blbih0cnVlKTtcbiAgfSwgW10pO1xuICBjb25zdCBvbkNsb3NlU2VhcmNoID0gUmVhY3QxMy51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0SXNTZWFyY2hPcGVuKGZhbHNlKTtcbiAgICBpZiAob25IaWRlU2VhcmNoKSB7XG4gICAgICBvbkhpZGVTZWFyY2goKTtcbiAgICB9XG4gIH0sIFtvbkhpZGVTZWFyY2hdKTtcbiAgdXNlSG90a2V5cyhcImNtZCtwXCIsIChldmVudCkgPT4ge1xuICAgIG9uT3BlblNlYXJjaCgpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0pO1xuICB1c2VIb3RrZXlzKFwiY21kK2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgb25PcGVuU2VhcmNoKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG4gIGNvbnN0IGhhc1NlYXJjaCA9ICEhb25TZWFyY2hOb3Rpb247XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMy5jcmVhdGVFbGVtZW50KFJlYWN0MTMuRnJhZ21lbnQsIG51bGwsIGhhc1NlYXJjaCAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzTmFtZTogY3MoXCJicmVhZGNydW1iXCIsIFwiYnV0dG9uXCIsIFwibm90aW9uLXNlYXJjaC1idXR0b25cIiksXG4gICAgb25DbGljazogb25PcGVuU2VhcmNoXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoU2VhcmNoSWNvbiwge1xuICAgIGNsYXNzTmFtZTogXCJzZWFyY2hJY29uXCJcbiAgfSksIHRpdGxlICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidGl0bGVcIlxuICB9LCB0aXRsZSkpLCBpc1NlYXJjaE9wZW4gJiYgaGFzU2VhcmNoICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoU2VhcmNoRGlhbG9nLCB7XG4gICAgaXNPcGVuOiBpc1NlYXJjaE9wZW4sXG4gICAgcm9vdEJsb2NrSWQ6IHJvb3RQYWdlSWQgfHwgKGJsb2NrID09IG51bGwgPyB2b2lkIDAgOiBibG9jay5pZCksXG4gICAgb25DbG9zZTogb25DbG9zZVNlYXJjaCxcbiAgICBzZWFyY2hOb3Rpb246IG9uU2VhcmNoTm90aW9uXG4gIH0pKTtcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL2Fzc2V0LnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxNSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGdldFRleHRDb250ZW50IH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9saXRlLXlvdXR1YmUtZW1iZWQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDE0IGZyb20gXCJyZWFjdFwiO1xudmFyIHFzID0gKHBhcmFtcykgPT4ge1xuICByZXR1cm4gT2JqZWN0LmtleXMocGFyYW1zKS5tYXAoXG4gICAgKGtleSkgPT4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc1trZXldKX1gXG4gICkuam9pbihcIiZcIik7XG59O1xudmFyIExpdGVZb3VUdWJlRW1iZWQgPSAoe1xuICBpZCxcbiAgZGVmYXVsdFBsYXkgPSBmYWxzZSxcbiAgbXV0ZSA9IGZhbHNlLFxuICBsYXp5SW1hZ2UgPSBmYWxzZSxcbiAgaWZyYW1lVGl0bGUgPSBcIllvdVR1YmUgdmlkZW9cIixcbiAgYWx0ID0gXCJWaWRlbyBwcmV2aWV3XCIsXG4gIHBhcmFtcyA9IHt9LFxuICBhZExpbmtzUHJlY29ubmVjdCA9IHRydWUsXG4gIHN0eWxlLFxuICBjbGFzc05hbWVcbn0pID0+IHtcbiAgY29uc3QgbXV0ZVBhcmFtID0gbXV0ZSB8fCBkZWZhdWx0UGxheSA/IFwiMVwiIDogXCIwXCI7XG4gIGNvbnN0IHF1ZXJ5U3RyaW5nID0gUmVhY3QxNC51c2VNZW1vKFxuICAgICgpID0+IHFzKF9fc3ByZWFkVmFsdWVzKHsgYXV0b3BsYXk6IFwiMVwiLCBtdXRlOiBtdXRlUGFyYW0gfSwgcGFyYW1zKSksXG4gICAgW211dGVQYXJhbSwgcGFyYW1zXVxuICApO1xuICBjb25zdCByZXNvbHV0aW9uID0gXCJocWRlZmF1bHRcIjtcbiAgY29uc3QgcG9zdGVyVXJsID0gYGh0dHBzOi8vaS55dGltZy5jb20vdmkvJHtpZH0vJHtyZXNvbHV0aW9ufS5qcGdgO1xuICBjb25zdCB5dFVybCA9IFwiaHR0cHM6Ly93d3cueW91dHViZS1ub2Nvb2tpZS5jb21cIjtcbiAgY29uc3QgaWZyYW1lU3JjID0gYCR7eXRVcmx9L2VtYmVkLyR7aWR9PyR7cXVlcnlTdHJpbmd9YDtcbiAgY29uc3QgW2lzUHJlY29ubmVjdGVkLCBzZXRJc1ByZWNvbm5lY3RlZF0gPSBSZWFjdDE0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lmcmFtZUluaXRpYWxpemVkLCBzZXRJZnJhbWVJbml0aWFsaXplZF0gPSBSZWFjdDE0LnVzZVN0YXRlKGRlZmF1bHRQbGF5KTtcbiAgY29uc3QgW2lzSWZyYW1lTG9hZGVkLCBzZXRJc0lmcmFtZUxvYWRlZF0gPSBSZWFjdDE0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qgd2FybUNvbm5lY3Rpb25zID0gUmVhY3QxNC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGlzUHJlY29ubmVjdGVkKVxuICAgICAgcmV0dXJuO1xuICAgIHNldElzUHJlY29ubmVjdGVkKHRydWUpO1xuICB9LCBbaXNQcmVjb25uZWN0ZWRdKTtcbiAgY29uc3Qgb25Mb2FkSWZyYW1lID0gUmVhY3QxNC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGlmcmFtZUluaXRpYWxpemVkKVxuICAgICAgcmV0dXJuO1xuICAgIHNldElmcmFtZUluaXRpYWxpemVkKHRydWUpO1xuICB9LCBbaWZyYW1lSW5pdGlhbGl6ZWRdKTtcbiAgY29uc3Qgb25JZnJhbWVMb2FkZWQgPSBSZWFjdDE0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRJc0lmcmFtZUxvYWRlZCh0cnVlKTtcbiAgfSwgW10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTQuY3JlYXRlRWxlbWVudChSZWFjdDE0LkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxNC5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7XG4gICAgcmVsOiBcInByZWxvYWRcIixcbiAgICBocmVmOiBwb3N0ZXJVcmwsXG4gICAgYXM6IFwiaW1hZ2VcIlxuICB9KSwgaXNQcmVjb25uZWN0ZWQgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MTQuY3JlYXRlRWxlbWVudChSZWFjdDE0LkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxNC5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7XG4gICAgcmVsOiBcInByZWNvbm5lY3RcIixcbiAgICBocmVmOiB5dFVybFxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTQuY3JlYXRlRWxlbWVudChcImxpbmtcIiwge1xuICAgIHJlbDogXCJwcmVjb25uZWN0XCIsXG4gICAgaHJlZjogXCJodHRwczovL3d3dy5nb29nbGUuY29tXCJcbiAgfSkpLCBpc1ByZWNvbm5lY3RlZCAmJiBhZExpbmtzUHJlY29ubmVjdCAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QxNC5jcmVhdGVFbGVtZW50KFJlYWN0MTQuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE0LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIsIHtcbiAgICByZWw6IFwicHJlY29ubmVjdFwiLFxuICAgIGhyZWY6IFwiaHR0cHM6Ly9zdGF0aWMuZG91YmxlY2xpY2submV0XCJcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE0LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIsIHtcbiAgICByZWw6IFwicHJlY29ubmVjdFwiLFxuICAgIGhyZWY6IFwiaHR0cHM6Ly9nb29nbGVhZHMuZy5kb3VibGVjbGljay5uZXRcIlxuICB9KSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIG9uQ2xpY2s6IG9uTG9hZElmcmFtZSxcbiAgICBvblBvaW50ZXJPdmVyOiB3YXJtQ29ubmVjdGlvbnMsXG4gICAgY2xhc3NOYW1lOiBjcyhcbiAgICAgIFwibm90aW9uLXl0LWxpdGVcIixcbiAgICAgIGlzSWZyYW1lTG9hZGVkICYmIFwibm90aW9uLXl0LWxvYWRlZFwiLFxuICAgICAgaWZyYW1lSW5pdGlhbGl6ZWQgJiYgXCJub3Rpb24teXQtaW5pdGlhbGl6ZWRcIixcbiAgICAgIGNsYXNzTmFtZVxuICAgICksXG4gICAgc3R5bGVcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTQuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgc3JjOiBwb3N0ZXJVcmwsXG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi15dC10aHVtYm5haWxcIixcbiAgICBsb2FkaW5nOiBsYXp5SW1hZ2UgPyBcImxhenlcIiA6IHZvaWQgMCxcbiAgICBhbHRcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24teXQtcGxheWJ0blwiXG4gIH0pLCBpZnJhbWVJbml0aWFsaXplZCAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QxNC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIsIHtcbiAgICB3aWR0aDogXCI1NjBcIixcbiAgICBoZWlnaHQ6IFwiMzE1XCIsXG4gICAgZnJhbWVCb3JkZXI6IFwiMFwiLFxuICAgIGFsbG93OiBcImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlXCIsXG4gICAgYWxsb3dGdWxsU2NyZWVuOiB0cnVlLFxuICAgIHRpdGxlOiBpZnJhbWVUaXRsZSxcbiAgICBzcmM6IGlmcmFtZVNyYyxcbiAgICBvbkxvYWQ6IG9uSWZyYW1lTG9hZGVkXG4gIH0pKSk7XG59O1xuXG4vLyBzcmMvY29tcG9uZW50cy9hc3NldC50c3hcbnZhciBpc1NlcnZlciA9IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCI7XG52YXIgc3VwcG9ydGVkQXNzZXRUeXBlcyA9IFtcbiAgXCJ2aWRlb1wiLFxuICBcImltYWdlXCIsXG4gIFwiZW1iZWRcIixcbiAgXCJmaWdtYVwiLFxuICBcInR5cGVmb3JtXCIsXG4gIFwiZXhjYWxpZHJhd1wiLFxuICBcIm1hcHNcIixcbiAgXCJ0d2VldFwiLFxuICBcInBkZlwiLFxuICBcImdpc3RcIixcbiAgXCJjb2RlcGVuXCIsXG4gIFwiZHJpdmVcIlxuXTtcbnZhciBBc3NldCA9ICh7IGJsb2NrLCB6b29tYWJsZSA9IHRydWUsIGNoaWxkcmVuIH0pID0+IHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2ksIF9qO1xuICBjb25zdCB7IHJlY29yZE1hcCwgbWFwSW1hZ2VVcmwsIGNvbXBvbmVudHMgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgaWYgKCFibG9jayB8fCAhc3VwcG9ydGVkQXNzZXRUeXBlcy5pbmNsdWRlcyhibG9jay50eXBlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHN0eWxlID0ge1xuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgYWxpZ25TZWxmOiBcImNlbnRlclwiLFxuICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICBtYXhXaWR0aDogXCIxMDAlXCIsXG4gICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIlxuICB9O1xuICBjb25zdCBhc3NldFN0eWxlID0ge307XG4gIGlmIChibG9jay5mb3JtYXQpIHtcbiAgICBjb25zdCB7XG4gICAgICBibG9ja19hc3BlY3RfcmF0aW8sXG4gICAgICBibG9ja19oZWlnaHQsXG4gICAgICBibG9ja193aWR0aCxcbiAgICAgIGJsb2NrX2Z1bGxfd2lkdGgsXG4gICAgICBibG9ja19wYWdlX3dpZHRoLFxuICAgICAgYmxvY2tfcHJlc2VydmVfc2NhbGVcbiAgICB9ID0gYmxvY2suZm9ybWF0O1xuICAgIGlmIChibG9ja19mdWxsX3dpZHRoIHx8IGJsb2NrX3BhZ2Vfd2lkdGgpIHtcbiAgICAgIGlmIChibG9ja19mdWxsX3dpZHRoKSB7XG4gICAgICAgIHN0eWxlLndpZHRoID0gXCIxMDB2d1wiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgIH1cbiAgICAgIGlmIChibG9jay50eXBlID09PSBcInZpZGVvXCIpIHtcbiAgICAgICAgaWYgKGJsb2NrX2hlaWdodCkge1xuICAgICAgICAgIHN0eWxlLmhlaWdodCA9IGJsb2NrX2hlaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChibG9ja19hc3BlY3RfcmF0aW8pIHtcbiAgICAgICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gYCR7YmxvY2tfYXNwZWN0X3JhdGlvICogMTAwfSVgO1xuICAgICAgICB9IGVsc2UgaWYgKGJsb2NrX3ByZXNlcnZlX3NjYWxlKSB7XG4gICAgICAgICAgc3R5bGUub2JqZWN0Rml0ID0gXCJjb250YWluXCI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYmxvY2tfYXNwZWN0X3JhdGlvICYmIGJsb2NrLnR5cGUgIT09IFwiaW1hZ2VcIikge1xuICAgICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gYCR7YmxvY2tfYXNwZWN0X3JhdGlvICogMTAwfSVgO1xuICAgICAgfSBlbHNlIGlmIChibG9ja19oZWlnaHQpIHtcbiAgICAgICAgc3R5bGUuaGVpZ2h0ID0gYmxvY2tfaGVpZ2h0O1xuICAgICAgfSBlbHNlIGlmIChibG9ja19wcmVzZXJ2ZV9zY2FsZSkge1xuICAgICAgICBpZiAoYmxvY2sudHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICAgICAgc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3R5bGUucGFkZGluZ0JvdHRvbSA9IFwiNzUlXCI7XG4gICAgICAgICAgc3R5bGUubWluSGVpZ2h0ID0gMTAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXRjaCAoKF9hID0gYmxvY2suZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuYmxvY2tfYWxpZ25tZW50KSB7XG4gICAgICAgIGNhc2UgXCJjZW50ZXJcIjoge1xuICAgICAgICAgIHN0eWxlLmFsaWduU2VsZiA9IFwiY2VudGVyXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImxlZnRcIjoge1xuICAgICAgICAgIHN0eWxlLmFsaWduU2VsZiA9IFwic3RhcnRcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwicmlnaHRcIjoge1xuICAgICAgICAgIHN0eWxlLmFsaWduU2VsZiA9IFwiZW5kXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChibG9ja193aWR0aCkge1xuICAgICAgICBzdHlsZS53aWR0aCA9IGJsb2NrX3dpZHRoO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrX3ByZXNlcnZlX3NjYWxlICYmIGJsb2NrLnR5cGUgIT09IFwiaW1hZ2VcIikge1xuICAgICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gXCI1MCVcIjtcbiAgICAgICAgc3R5bGUubWluSGVpZ2h0ID0gMTAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGJsb2NrX2hlaWdodCAmJiBibG9jay50eXBlICE9PSBcImltYWdlXCIpIHtcbiAgICAgICAgICBzdHlsZS5oZWlnaHQgPSBibG9ja19oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJsb2NrLnR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgICAgYXNzZXRTdHlsZS5vYmplY3RGaXQgPSBcImNvdmVyXCI7XG4gICAgfSBlbHNlIGlmIChibG9ja19wcmVzZXJ2ZV9zY2FsZSkge1xuICAgICAgYXNzZXRTdHlsZS5vYmplY3RGaXQgPSBcImNvbnRhaW5cIjtcbiAgICB9XG4gIH1cbiAgbGV0IHNvdXJjZSA9ICgoX2IgPSByZWNvcmRNYXAuc2lnbmVkX3VybHMpID09IG51bGwgPyB2b2lkIDAgOiBfYltibG9jay5pZF0pIHx8ICgoX2UgPSAoX2QgPSAoX2MgPSBibG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2Muc291cmNlKSA9PSBudWxsID8gdm9pZCAwIDogX2RbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfZVswXSk7XG4gIGxldCBjb250ZW50ID0gbnVsbDtcbiAgaWYgKCFzb3VyY2UpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoYmxvY2sudHlwZSA9PT0gXCJ0d2VldFwiKSB7XG4gICAgY29uc3Qgc3JjID0gc291cmNlO1xuICAgIGlmICghc3JjKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgaWQgPSBzcmMuc3BsaXQoXCI/XCIpWzBdLnNwbGl0KFwiL1wiKS5wb3AoKTtcbiAgICBpZiAoIWlkKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE1LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgc3R5bGU6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGFzc2V0U3R5bGUpLCB7XG4gICAgICAgIG1heFdpZHRoOiA0MjAsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgbWFyZ2luTGVmdDogXCJhdXRvXCIsXG4gICAgICAgIG1hcmdpblJpZ2h0OiBcImF1dG9cIlxuICAgICAgfSlcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxNS5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuVHdlZXQsIHtcbiAgICAgIGlkXG4gICAgfSkpO1xuICB9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwicGRmXCIpIHtcbiAgICBzdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xuICAgIHN0eWxlLmJhY2tncm91bmQgPSBcInJnYigyMjYsIDIyNiwgMjI2KVwiO1xuICAgIHN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgaWYgKCFzdHlsZS5wYWRkaW5nKSB7XG4gICAgICBzdHlsZS5wYWRkaW5nID0gXCI4cHggMTZweFwiO1xuICAgIH1cbiAgICBpZiAoIWlzU2VydmVyKSB7XG4gICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0MTUuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLlBkZiwge1xuICAgICAgICBmaWxlOiBzb3VyY2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChibG9jay50eXBlID09PSBcImVtYmVkXCIgfHwgYmxvY2sudHlwZSA9PT0gXCJ2aWRlb1wiIHx8IGJsb2NrLnR5cGUgPT09IFwiZmlnbWFcIiB8fCBibG9jay50eXBlID09PSBcInR5cGVmb3JtXCIgfHwgYmxvY2sudHlwZSA9PT0gXCJnaXN0XCIgfHwgYmxvY2sudHlwZSA9PT0gXCJtYXBzXCIgfHwgYmxvY2sudHlwZSA9PT0gXCJleGNhbGlkcmF3XCIgfHwgYmxvY2sudHlwZSA9PT0gXCJjb2RlcGVuXCIgfHwgYmxvY2sudHlwZSA9PT0gXCJkcml2ZVwiKSB7XG4gICAgaWYgKGJsb2NrLnR5cGUgPT09IFwidmlkZW9cIiAmJiBzb3VyY2UgJiYgc291cmNlLmluZGV4T2YoXCJ5b3V0dWJlXCIpIDwgMCAmJiBzb3VyY2UuaW5kZXhPZihcInlvdXR1LmJlXCIpIDwgMCAmJiBzb3VyY2UuaW5kZXhPZihcInZpbWVvXCIpIDwgMCAmJiBzb3VyY2UuaW5kZXhPZihcIndpc3RpYVwiKSA8IDAgJiYgc291cmNlLmluZGV4T2YoXCJsb29tXCIpIDwgMCAmJiBzb3VyY2UuaW5kZXhPZihcInZpZGVvYXNrXCIpIDwgMCAmJiBzb3VyY2UuaW5kZXhPZihcImdldGNsb3VkYXBwXCIpIDwgMCkge1xuICAgICAgc3R5bGUucGFkZGluZ0JvdHRvbSA9IHZvaWQgMDtcbiAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QxNS5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiwge1xuICAgICAgICBwbGF5c0lubGluZTogdHJ1ZSxcbiAgICAgICAgY29udHJvbHM6IHRydWUsXG4gICAgICAgIHByZWxvYWQ6IFwibWV0YWRhdGFcIixcbiAgICAgICAgc3R5bGU6IGFzc2V0U3R5bGUsXG4gICAgICAgIHNyYzogc291cmNlLFxuICAgICAgICB0aXRsZTogYmxvY2sudHlwZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBzcmMgPSAoKF9mID0gYmxvY2suZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2YuZGlzcGxheV9zb3VyY2UpIHx8IHNvdXJjZTtcbiAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgY29uc3QgeW91dHViZVZpZGVvSWQgPSBibG9jay50eXBlID09PSBcInZpZGVvXCIgPyBnZXRZb3V0dWJlSWQoc3JjKSA6IG51bGw7XG4gICAgICAgIGlmICh5b3V0dWJlVmlkZW9JZCkge1xuICAgICAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QxNS5jcmVhdGVFbGVtZW50KExpdGVZb3VUdWJlRW1iZWQsIHtcbiAgICAgICAgICAgIGlkOiB5b3V0dWJlVmlkZW9JZCxcbiAgICAgICAgICAgIHN0eWxlOiBhc3NldFN0eWxlLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1hc3NldC1vYmplY3QtZml0XCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChibG9jay50eXBlID09PSBcImdpc3RcIikge1xuICAgICAgICAgIGlmICghc3JjLmVuZHNXaXRoKFwiLnBpYmJcIikpIHtcbiAgICAgICAgICAgIHNyYyA9IGAke3NyY30ucGliYmA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFzc2V0U3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gXCI1MCVcIjtcbiAgICAgICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0MTUuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiLCB7XG4gICAgICAgICAgICBzdHlsZTogYXNzZXRTdHlsZSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYXNzZXQtb2JqZWN0LWZpdFwiLFxuICAgICAgICAgICAgc3JjLFxuICAgICAgICAgICAgdGl0bGU6IFwiR2l0SHViIEdpc3RcIixcbiAgICAgICAgICAgIGZyYW1lQm9yZGVyOiBcIjBcIixcbiAgICAgICAgICAgIGxvYWRpbmc6IFwibGF6eVwiLFxuICAgICAgICAgICAgc2Nyb2xsaW5nOiBcImF1dG9cIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QxNS5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYXNzZXQtb2JqZWN0LWZpdFwiLFxuICAgICAgICAgICAgc3R5bGU6IGFzc2V0U3R5bGUsXG4gICAgICAgICAgICBzcmMsXG4gICAgICAgICAgICB0aXRsZTogYGlmcmFtZSAke2Jsb2NrLnR5cGV9YCxcbiAgICAgICAgICAgIGZyYW1lQm9yZGVyOiBcIjBcIixcbiAgICAgICAgICAgIGFsbG93RnVsbFNjcmVlbjogdHJ1ZSxcbiAgICAgICAgICAgIGxvYWRpbmc6IFwibGF6eVwiLFxuICAgICAgICAgICAgc2Nyb2xsaW5nOiBcImF1dG9cIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgIGlmIChzb3VyY2UuaW5jbHVkZXMoXCJmaWxlLm5vdGlvbi5zb1wiKSkge1xuICAgICAgc291cmNlID0gKF9pID0gKF9oID0gKF9nID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9nLnNvdXJjZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9oWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2lbMF07XG4gICAgfVxuICAgIGNvbnN0IHNyYyA9IG1hcEltYWdlVXJsKHNvdXJjZSwgYmxvY2spO1xuICAgIGNvbnN0IGNhcHRpb24gPSBnZXRUZXh0Q29udGVudCgoX2ogPSBibG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2ouY2FwdGlvbik7XG4gICAgY29uc3QgYWx0ID0gY2FwdGlvbiB8fCBcIm5vdGlvbiBpbWFnZVwiO1xuICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QxNS5jcmVhdGVFbGVtZW50KExhenlJbWFnZSwge1xuICAgICAgc3JjLFxuICAgICAgYWx0LFxuICAgICAgem9vbWFibGUsXG4gICAgICBoZWlnaHQ6IHN0eWxlLmhlaWdodCxcbiAgICAgIHN0eWxlOiBhc3NldFN0eWxlXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE1LmNyZWF0ZUVsZW1lbnQoUmVhY3QxNS5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0MTUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgc3R5bGVcbiAgfSwgY29udGVudCwgYmxvY2sudHlwZSA9PT0gXCJpbWFnZVwiICYmIGNoaWxkcmVuKSwgYmxvY2sudHlwZSAhPT0gXCJpbWFnZVwiICYmIGNoaWxkcmVuKTtcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL2Fzc2V0LXdyYXBwZXIudHN4XG52YXIgdXJsU3R5bGUgPSB7IHdpZHRoOiBcIjEwMCVcIiB9O1xudmFyIEFzc2V0V3JhcHBlciA9ICh7IGJsb2NrSWQsIGJsb2NrIH0pID0+IHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gIGNvbnN0IHZhbHVlID0gYmxvY2s7XG4gIGNvbnN0IHsgY29tcG9uZW50cywgbWFwUGFnZVVybCwgcm9vdERvbWFpbiwgem9vbSB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBsZXQgaXNVUkwgPSBmYWxzZTtcbiAgaWYgKGJsb2NrLnR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgIGNvbnN0IGNhcHRpb24gPSAoX2MgPSAoX2IgPSAoX2EgPSB2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhcHRpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYlswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jWzBdO1xuICAgIGlmIChjYXB0aW9uKSB7XG4gICAgICBjb25zdCBpZCA9IHBhcnNlUGFnZUlkMihjYXB0aW9uLCB7IHV1aWQ6IHRydWUgfSk7XG4gICAgICBjb25zdCBpc1BhZ2UgPSBjYXB0aW9uLmNoYXJBdCgwKSA9PT0gXCIvXCIgJiYgaWQ7XG4gICAgICBpZiAoaXNQYWdlIHx8IGlzVmFsaWRVUkwoY2FwdGlvbikpIHtcbiAgICAgICAgaXNVUkwgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBmaWd1cmUgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QxNi5jcmVhdGVFbGVtZW50KFwiZmlndXJlXCIsIHtcbiAgICBjbGFzc05hbWU6IGNzKFxuICAgICAgXCJub3Rpb24tYXNzZXQtd3JhcHBlclwiLFxuICAgICAgYG5vdGlvbi1hc3NldC13cmFwcGVyLSR7YmxvY2sudHlwZX1gLFxuICAgICAgKChfZCA9IHZhbHVlLmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmJsb2NrX2Z1bGxfd2lkdGgpICYmIFwibm90aW9uLWFzc2V0LXdyYXBwZXItZnVsbFwiLFxuICAgICAgYmxvY2tJZFxuICAgIClcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTYuY3JlYXRlRWxlbWVudChBc3NldCwge1xuICAgIGJsb2NrOiB2YWx1ZSxcbiAgICB6b29tYWJsZTogem9vbSAmJiAhaXNVUkxcbiAgfSwgKChfZSA9IHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZS5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2UuY2FwdGlvbikgJiYgIWlzVVJMICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE2LmNyZWF0ZUVsZW1lbnQoXCJmaWdjYXB0aW9uXCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWFzc2V0LWNhcHRpb25cIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxNi5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICB2YWx1ZTogdmFsdWUucHJvcGVydGllcy5jYXB0aW9uLFxuICAgIGJsb2NrXG4gIH0pKSkpO1xuICBpZiAoaXNVUkwpIHtcbiAgICBjb25zdCBjYXB0aW9uID0gKF9mID0gdmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfZi5jYXB0aW9uWzBdWzBdO1xuICAgIGNvbnN0IGlkID0gcGFyc2VQYWdlSWQyKGNhcHRpb24sIHsgdXVpZDogdHJ1ZSB9KTtcbiAgICBjb25zdCBpc1BhZ2UgPSBjYXB0aW9uLmNoYXJBdCgwKSA9PT0gXCIvXCIgJiYgaWQ7XG4gICAgY29uc3QgY2FwdGlvbkhvc3RuYW1lID0gZXh0cmFjdEhvc3RuYW1lKGNhcHRpb24pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxNi5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuUGFnZUxpbmssIHtcbiAgICAgIHN0eWxlOiB1cmxTdHlsZSxcbiAgICAgIGhyZWY6IGlzUGFnZSA/IG1hcFBhZ2VVcmwoaWQpIDogY2FwdGlvbixcbiAgICAgIHRhcmdldDogY2FwdGlvbkhvc3RuYW1lICYmIGNhcHRpb25Ib3N0bmFtZSAhPT0gcm9vdERvbWFpbiAmJiAhY2FwdGlvbi5zdGFydHNXaXRoKFwiL1wiKSA/IFwiYmxhbmtfXCIgOiBudWxsXG4gICAgfSwgZmlndXJlKTtcbiAgfVxuICByZXR1cm4gZmlndXJlO1xufTtcbmZ1bmN0aW9uIGlzVmFsaWRVUkwoc3RyKSB7XG4gIGNvbnN0IHBhdHRlcm4gPSBuZXcgUmVnRXhwKFxuICAgIFwiXihodHRwcz86XFxcXC9cXFxcLyk/KCgoW2EtelxcXFxkXShbYS16XFxcXGQtXSpbYS16XFxcXGRdKSopXFxcXC4pK1thLXpdezIsfXwoKFxcXFxkezEsM31cXFxcLil7M31cXFxcZHsxLDN9KSkoXFxcXDpcXFxcZCspPyhcXFxcL1stYS16XFxcXGQlXy5+K10qKSooXFxcXD9bOyZhLXpcXFxcZCVfLn4rPS1dKik/KFxcXFwjWy1hLXpcXFxcZF9dKik/JFwiLFxuICAgIFwiaVwiXG4gICk7XG4gIHJldHVybiAhIXBhdHRlcm4udGVzdChzdHIpO1xufVxuZnVuY3Rpb24gZXh0cmFjdEhvc3RuYW1lKHVybCkge1xuICB0cnkge1xuICAgIGNvbnN0IGhvc3RuYW1lID0gbmV3IFVSTCh1cmwpLmhvc3RuYW1lO1xuICAgIHJldHVybiBob3N0bmFtZTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvY2hlY2tib3gudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDE4IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvaWNvbnMvY2hlY2sudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDE3IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnQ2hlY2socHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE3LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxNy5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNS41IDEyTDE0IDMuNSAxMi41IDJsLTcgNy00LTQuMDAzTDAgNi40OTl6XCJcbiAgfSkpO1xufVxudmFyIGNoZWNrX2RlZmF1bHQgPSBTdmdDaGVjaztcblxuLy8gc3JjL2NvbXBvbmVudHMvY2hlY2tib3gudHN4XG52YXIgQ2hlY2tib3ggPSAoeyBpc0NoZWNrZWQgfSkgPT4ge1xuICBsZXQgY29udGVudCA9IG51bGw7XG4gIGlmIChpc0NoZWNrZWQpIHtcbiAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0MTguY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwibm90aW9uLXByb3BlcnR5LWNoZWNrYm94LWNoZWNrZWRcIlxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE4LmNyZWF0ZUVsZW1lbnQoY2hlY2tfZGVmYXVsdCwgbnVsbCkpO1xuICB9IGVsc2Uge1xuICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QxOC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tcHJvcGVydHktY2hlY2tib3gtdW5jaGVja2VkXCJcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTguY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tcHJvcGVydHkgbm90aW9uLXByb3BlcnR5LWNoZWNrYm94XCJcbiAgfSwgY29udGVudCk7XG59O1xuXG4vLyBzcmMvbmV4dC50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTkgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgaXNFcXVhbCBmcm9tIFwicmVhY3QtZmFzdC1jb21wYXJlXCI7XG52YXIgd3JhcE5leHRJbWFnZSA9IChOZXh0SW1hZ2UpID0+IHtcbiAgcmV0dXJuIFJlYWN0MTkubWVtbyhmdW5jdGlvbiBSZWFjdE5vdGlvblhOZXh0SW1hZ2UoX2EpIHtcbiAgICB2YXIgX2IgPSBfYSwge1xuICAgICAgc3JjLFxuICAgICAgYWx0LFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBzdHlsZSxcbiAgICAgIGxheW91dFxuICAgIH0gPSBfYiwgcmVzdCA9IF9fb2JqUmVzdChfYiwgW1xuICAgICAgXCJzcmNcIixcbiAgICAgIFwiYWx0XCIsXG4gICAgICBcIndpZHRoXCIsXG4gICAgICBcImhlaWdodFwiLFxuICAgICAgXCJjbGFzc05hbWVcIixcbiAgICAgIFwic3R5bGVcIixcbiAgICAgIFwibGF5b3V0XCJcbiAgICBdKTtcbiAgICBpZiAoIWxheW91dCkge1xuICAgICAgbGF5b3V0ID0gd2lkdGggJiYgaGVpZ2h0ID8gXCJpbnRyaW5zaWNcIiA6IFwiZmlsbFwiO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTkuY3JlYXRlRWxlbWVudChOZXh0SW1hZ2UsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIHNyYyxcbiAgICAgIGFsdCxcbiAgICAgIHdpZHRoOiBsYXlvdXQgPT09IFwiaW50cmluc2ljXCIgJiYgd2lkdGgsXG4gICAgICBoZWlnaHQ6IGxheW91dCA9PT0gXCJpbnRyaW5zaWNcIiAmJiBoZWlnaHQsXG4gICAgICBvYmplY3RGaXQ6IHN0eWxlID09IG51bGwgPyB2b2lkIDAgOiBzdHlsZS5vYmplY3RGaXQsXG4gICAgICBvYmplY3RQb3NpdGlvbjogc3R5bGUgPT0gbnVsbCA/IHZvaWQgMCA6IHN0eWxlLm9iamVjdFBvc2l0aW9uLFxuICAgICAgbGF5b3V0XG4gICAgfSwgcmVzdCkpO1xuICB9LCBpc0VxdWFsKTtcbn07XG52YXIgd3JhcE5leHRMaW5rID0gKE5leHRMaW5rKSA9PiBmdW5jdGlvbiBSZWFjdE5vdGlvblhOZXh0TGluayhfYSkge1xuICB2YXIgX2IgPSBfYSwge1xuICAgIGhyZWYsXG4gICAgYXMsXG4gICAgcGFzc0hyZWYsXG4gICAgcHJlZmV0Y2gsXG4gICAgcmVwbGFjZSxcbiAgICBzY3JvbGwsXG4gICAgc2hhbGxvdyxcbiAgICBsb2NhbGVcbiAgfSA9IF9iLCBsaW5rUHJvcHMgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcImhyZWZcIixcbiAgICBcImFzXCIsXG4gICAgXCJwYXNzSHJlZlwiLFxuICAgIFwicHJlZmV0Y2hcIixcbiAgICBcInJlcGxhY2VcIixcbiAgICBcInNjcm9sbFwiLFxuICAgIFwic2hhbGxvd1wiLFxuICAgIFwibG9jYWxlXCJcbiAgXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxOS5jcmVhdGVFbGVtZW50KE5leHRMaW5rLCB7XG4gICAgaHJlZixcbiAgICBhcyxcbiAgICBwYXNzSHJlZixcbiAgICBwcmVmZXRjaCxcbiAgICByZXBsYWNlLFxuICAgIHNjcm9sbCxcbiAgICBzaGFsbG93LFxuICAgIGxvY2FsZVxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxOS5jcmVhdGVFbGVtZW50KFwiYVwiLCBfX3NwcmVhZFZhbHVlcyh7fSwgbGlua1Byb3BzKSkpO1xufTtcblxuLy8gc3JjL2NvbnRleHQudHN4XG52YXIgRGVmYXVsdExpbmsgPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIwLmNyZWF0ZUVsZW1lbnQoXCJhXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG59LCBwcm9wcykpO1xudmFyIERlZmF1bHRMaW5rTWVtbyA9IFJlYWN0MjAubWVtbyhEZWZhdWx0TGluayk7XG52YXIgRGVmYXVsdFBhZ2VMaW5rID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3QyMC5jcmVhdGVFbGVtZW50KFwiYVwiLCBfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpKTtcbnZhciBEZWZhdWx0UGFnZUxpbmtNZW1vID0gUmVhY3QyMC5tZW1vKERlZmF1bHRQYWdlTGluayk7XG52YXIgRGVmYXVsdEVtYmVkID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3QyMC5jcmVhdGVFbGVtZW50KEFzc2V0V3JhcHBlciwgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSk7XG52YXIgRGVmYXVsdEhlYWRlciA9IEhlYWRlcjtcbnZhciBkdW1teUNvbXBvbmVudCA9IChuYW1lKSA9PiAoKSA9PiB7XG4gIGNvbnNvbGUud2FybihcbiAgICBgV2FybmluZzogdXNpbmcgZW1wdHkgY29tcG9uZW50IFwiJHtuYW1lfVwiICh5b3Ugc2hvdWxkIG92ZXJyaWRlIHRoaXMgaW4gTm90aW9uUmVuZGVyZXIuY29tcG9uZW50cylgXG4gICk7XG4gIHJldHVybiBudWxsO1xufTtcbnZhciBkdW1teU92ZXJyaWRlRm4gPSAoXywgZGVmYXVsdFZhbHVlRm4pID0+IGRlZmF1bHRWYWx1ZUZuKCk7XG52YXIgZGVmYXVsdENvbXBvbmVudHMgPSB7XG4gIEltYWdlOiBudWxsLFxuICBMaW5rOiBEZWZhdWx0TGlua01lbW8sXG4gIFBhZ2VMaW5rOiBEZWZhdWx0UGFnZUxpbmtNZW1vLFxuICBDaGVja2JveCxcbiAgQ2FsbG91dDogdm9pZCAwLFxuICBDb2RlOiBkdW1teUNvbXBvbmVudChcIkNvZGVcIiksXG4gIEVxdWF0aW9uOiBkdW1teUNvbXBvbmVudChcIkVxdWF0aW9uXCIpLFxuICBDb2xsZWN0aW9uOiBkdW1teUNvbXBvbmVudChcIkNvbGxlY3Rpb25cIiksXG4gIFByb3BlcnR5OiB2b2lkIDAsXG4gIHByb3BlcnR5VGV4dFZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5U2VsZWN0VmFsdWU6IGR1bW15T3ZlcnJpZGVGbixcbiAgcHJvcGVydHlSZWxhdGlvblZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5Rm9ybXVsYVZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5VGl0bGVWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eVBlcnNvblZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5RmlsZVZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5Q2hlY2tib3hWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eVVybFZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5RW1haWxWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eVBob25lTnVtYmVyVmFsdWU6IGR1bW15T3ZlcnJpZGVGbixcbiAgcHJvcGVydHlOdW1iZXJWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eUxhc3RFZGl0ZWRUaW1lVmFsdWU6IGR1bW15T3ZlcnJpZGVGbixcbiAgcHJvcGVydHlDcmVhdGVkVGltZVZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5RGF0ZVZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIFBkZjogZHVtbXlDb21wb25lbnQoXCJQZGZcIiksXG4gIFR3ZWV0OiBkdW1teUNvbXBvbmVudChcIlR3ZWV0XCIpLFxuICBNb2RhbDogZHVtbXlDb21wb25lbnQoXCJNb2RhbFwiKSxcbiAgSGVhZGVyOiBEZWZhdWx0SGVhZGVyLFxuICBFbWJlZDogRGVmYXVsdEVtYmVkXG59O1xudmFyIGRlZmF1bHROb3Rpb25Db250ZXh0ID0ge1xuICByZWNvcmRNYXA6IHtcbiAgICBibG9jazoge30sXG4gICAgY29sbGVjdGlvbjoge30sXG4gICAgY29sbGVjdGlvbl92aWV3OiB7fSxcbiAgICBjb2xsZWN0aW9uX3F1ZXJ5OiB7fSxcbiAgICBub3Rpb25fdXNlcjoge30sXG4gICAgc2lnbmVkX3VybHM6IHt9XG4gIH0sXG4gIGNvbXBvbmVudHM6IGRlZmF1bHRDb21wb25lbnRzLFxuICBtYXBQYWdlVXJsOiBkZWZhdWx0TWFwUGFnZVVybCgpLFxuICBtYXBJbWFnZVVybDogZGVmYXVsdE1hcEltYWdlVXJsLFxuICBzZWFyY2hOb3Rpb246IG51bGwsXG4gIGlzU2hvd2luZ1NlYXJjaDogZmFsc2UsXG4gIG9uSGlkZVNlYXJjaDogbnVsbCxcbiAgZnVsbFBhZ2U6IGZhbHNlLFxuICBkYXJrTW9kZTogZmFsc2UsXG4gIHByZXZpZXdJbWFnZXM6IGZhbHNlLFxuICBmb3JjZUN1c3RvbUltYWdlczogZmFsc2UsXG4gIHNob3dDb2xsZWN0aW9uVmlld0Ryb3Bkb3duOiB0cnVlLFxuICBsaW5rVGFibGVUaXRsZVByb3BlcnRpZXM6IHRydWUsXG4gIGlzTGlua0NvbGxlY3Rpb25Ub1VybFByb3BlcnR5OiBmYWxzZSxcbiAgc2hvd1RhYmxlT2ZDb250ZW50czogZmFsc2UsXG4gIG1pblRhYmxlT2ZDb250ZW50c0l0ZW1zOiAzLFxuICBkZWZhdWx0UGFnZUljb246IG51bGwsXG4gIGRlZmF1bHRQYWdlQ292ZXI6IG51bGwsXG4gIGRlZmF1bHRQYWdlQ292ZXJQb3NpdGlvbjogMC41LFxuICB6b29tOiBudWxsXG59O1xudmFyIGN0eCA9IFJlYWN0MjAuY3JlYXRlQ29udGV4dChkZWZhdWx0Tm90aW9uQ29udGV4dCk7XG52YXIgTm90aW9uQ29udGV4dFByb3ZpZGVyID0gKF9hKSA9PiB7XG4gIHZhciBfYiA9IF9hLCB7XG4gICAgY29tcG9uZW50czogdGhlbWVDb21wb25lbnRzID0ge30sXG4gICAgY2hpbGRyZW4sXG4gICAgbWFwUGFnZVVybCxcbiAgICBtYXBJbWFnZVVybCxcbiAgICByb290UGFnZUlkXG4gIH0gPSBfYiwgcmVzdCA9IF9fb2JqUmVzdChfYiwgW1xuICAgIFwiY29tcG9uZW50c1wiLFxuICAgIFwiY2hpbGRyZW5cIixcbiAgICBcIm1hcFBhZ2VVcmxcIixcbiAgICBcIm1hcEltYWdlVXJsXCIsXG4gICAgXCJyb290UGFnZUlkXCJcbiAgXSk7XG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHJlc3QpKSB7XG4gICAgaWYgKHJlc3Rba2V5XSA9PT0gdm9pZCAwKSB7XG4gICAgICBkZWxldGUgcmVzdFtrZXldO1xuICAgIH1cbiAgfVxuICBjb25zdCB3cmFwcGVkVGhlbWVDb21wb25lbnRzID0gUmVhY3QyMC51c2VNZW1vKFxuICAgICgpID0+IF9fc3ByZWFkVmFsdWVzKHt9LCB0aGVtZUNvbXBvbmVudHMpLFxuICAgIFt0aGVtZUNvbXBvbmVudHNdXG4gICk7XG4gIGlmICh3cmFwcGVkVGhlbWVDb21wb25lbnRzLm5leHRJbWFnZSkge1xuICAgIHdyYXBwZWRUaGVtZUNvbXBvbmVudHMuSW1hZ2UgPSB3cmFwTmV4dEltYWdlKHRoZW1lQ29tcG9uZW50cy5uZXh0SW1hZ2UpO1xuICB9XG4gIGlmICh3cmFwcGVkVGhlbWVDb21wb25lbnRzLm5leHRMaW5rKSB7XG4gICAgd3JhcHBlZFRoZW1lQ29tcG9uZW50cy5uZXh0TGluayA9IHdyYXBOZXh0TGluayh0aGVtZUNvbXBvbmVudHMubmV4dExpbmspO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHdyYXBwZWRUaGVtZUNvbXBvbmVudHMpKSB7XG4gICAgaWYgKCF3cmFwcGVkVGhlbWVDb21wb25lbnRzW2tleV0pIHtcbiAgICAgIGRlbGV0ZSB3cmFwcGVkVGhlbWVDb21wb25lbnRzW2tleV07XG4gICAgfVxuICB9XG4gIGNvbnN0IHZhbHVlID0gUmVhY3QyMC51c2VNZW1vKFxuICAgICgpID0+IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIGRlZmF1bHROb3Rpb25Db250ZXh0KSwgcmVzdCksIHtcbiAgICAgIHJvb3RQYWdlSWQsXG4gICAgICBtYXBQYWdlVXJsOiBtYXBQYWdlVXJsICE9IG51bGwgPyBtYXBQYWdlVXJsIDogZGVmYXVsdE1hcFBhZ2VVcmwocm9vdFBhZ2VJZCksXG4gICAgICBtYXBJbWFnZVVybDogbWFwSW1hZ2VVcmwgIT0gbnVsbCA/IG1hcEltYWdlVXJsIDogZGVmYXVsdE1hcEltYWdlVXJsLFxuICAgICAgY29tcG9uZW50czogX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIGRlZmF1bHRDb21wb25lbnRzKSwgd3JhcHBlZFRoZW1lQ29tcG9uZW50cylcbiAgICB9KSxcbiAgICBbbWFwSW1hZ2VVcmwsIG1hcFBhZ2VVcmwsIHdyYXBwZWRUaGVtZUNvbXBvbmVudHMsIHJvb3RQYWdlSWQsIHJlc3RdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyMC5jcmVhdGVFbGVtZW50KGN0eC5Qcm92aWRlciwge1xuICAgIHZhbHVlXG4gIH0sIGNoaWxkcmVuKTtcbn07XG52YXIgTm90aW9uQ29udGV4dENvbnN1bWVyID0gY3R4LkNvbnN1bWVyO1xudmFyIHVzZU5vdGlvbkNvbnRleHQgPSAoKSA9PiB7XG4gIHJldHVybiBSZWFjdDIwLnVzZUNvbnRleHQoY3R4KTtcbn07XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9lcXVhdGlvbi50c3hcbnZhciBrYXRleFNldHRpbmdzID0ge1xuICB0aHJvd09uRXJyb3I6IGZhbHNlLFxuICBzdHJpY3Q6IGZhbHNlXG59O1xudmFyIEVxdWF0aW9uID0gKF9hKSA9PiB7XG4gIHZhciBfYiA9IF9hLCB7IGJsb2NrLCBtYXRoLCBpbmxpbmUgPSBmYWxzZSwgY2xhc3NOYW1lIH0gPSBfYiwgcmVzdCA9IF9fb2JqUmVzdChfYiwgW1wiYmxvY2tcIiwgXCJtYXRoXCIsIFwiaW5saW5lXCIsIFwiY2xhc3NOYW1lXCJdKTtcbiAgY29uc3QgeyByZWNvcmRNYXAgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgbWF0aCA9IG1hdGggfHwgZ2V0QmxvY2tUaXRsZTQoYmxvY2ssIHJlY29yZE1hcCk7XG4gIGlmICghbWF0aClcbiAgICByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIxLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgIHRhYkluZGV4OiAwLFxuICAgIGNsYXNzTmFtZTogY3MoXG4gICAgICBcIm5vdGlvbi1lcXVhdGlvblwiLFxuICAgICAgaW5saW5lID8gXCJub3Rpb24tZXF1YXRpb24taW5saW5lXCIgOiBcIm5vdGlvbi1lcXVhdGlvbi1ibG9ja1wiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKVxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QyMS5jcmVhdGVFbGVtZW50KEthdGV4LCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgbWF0aCxcbiAgICBzZXR0aW5nczoga2F0ZXhTZXR0aW5nc1xuICB9LCByZXN0KSkpO1xufTtcbmV4cG9ydCB7XG4gIEVxdWF0aW9uXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-notion-x/build/third-party/equation.js\n");

/***/ })

};
;